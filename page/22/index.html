<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content=""><meta name="keywords" content=""><meta name="author" content="Joe Huang"><meta name="copyright" content="Joe Huang"><title>Awaken Desparado</title><link rel="shortcut icon" href="/melody-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.6.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.6.1"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://www.google-analytics.com"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-180692466-1', 'auto');
ga('send', 'pageview');</script><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  }
} </script><meta name="generator" content="Hexo 4.2.1"></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="false"><div class="author-info"><div class="author-info__avatar text-center"><img src="/img/avatar.png"></div><div class="author-info__name text-center">Joe Huang</div><div class="author-info__description text-center"></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">362</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">Tags</span><span class="pull-right">25</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">Categories</span><span class="pull-right">60</span></a></div></div></div><nav class="no-bg" id="nav"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">Awaken Desparado</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a></span><span class="pull-right"></span></div><div id="site-info"><div id="site-title">Awaken Desparado</div><div id="site-sub-title"></div></div></nav><div id="content-outer"><div class="layout" id="content-inner"><div class="recent-post-item article-container"><a class="article-title" href="/2019/12/01/Terraform/2022-03-07-Terraform-Go!/">Terraform/2022-03-07-Terraform-Go!</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-12-01</time><div class="content"><ul>
<li>terraform plan:<br>not going to apply the changes, but going to show what changes it would make</li>
<li>terraform apply<br>to make those changes</li>
<li>terraform plan -out changes.terraform –&gt; terraform apply changes.terraform –&gt; rm changes.terraform</li>
<li>terraform destroy (CAREFUL in PRODUCTION)</li>
</ul>
<h3 id="Var-types"><a href="#Var-types" class="headerlink" title="Var types:"></a>Var types:</h3><ul>
<li><p>string, list, set, map, object(like map, but can have diff type), tuple(like list, but can have diff type)</p>
</li>
<li><p>can let terraform decide on the type</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">variable &quot;a-string&quot;&#123;</span><br><span class="line">  default &#x3D; &quot;I&#39;m a string&quot;</span><br><span class="line">&#125;</span><br><span class="line">variable &quot;a-list&quot;&#123;</span><br><span class="line">  default &#x3D; [&quot;list of&quot;, &quot;strings&quot;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<blockquote>
<p>Terraform is not fit to do configuration management on the software on your machines. Ansible/Chef/Puppet/Salt are better alternatives to do that. Terraform can work together with these tools to provide you CI on your machines. Terraform provides Configuration Management on an infrastructure level, not on the level of software of your machines.</p>
<p>A tool to </p>
<ol>
<li>automate the provisioning of infrastructure</li>
<li>can keep a history of all infrastructure changes</li>
<li>can beused to collaborate in a team on infrastructure automation</li>
<li>keeps the remote state of my infrastructure</li>
</ol>
</blockquote>
<h2 id="Go-Runing-Script"><a href="#Go-Runing-Script" class="headerlink" title="Go! Runing Script"></a>Go! Runing Script</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># joe @ J-M1-Pro-16 in ~/Codes_MO/terraform-course/first-steps on git:master x [18:06:41]</span></span><br><span class="line">$ terraform init</span><br><span class="line"></span><br><span class="line">Initializing the backend...</span><br><span class="line"></span><br><span class="line">Initializing provider plugins...</span><br><span class="line">- Finding latest version of hashicorp/aws...</span><br><span class="line">- Installing hashicorp/aws v4.4.0...</span><br><span class="line">- Installed hashicorp/aws v4.4.0 (signed by HashiCorp)</span><br><span class="line"></span><br><span class="line">Terraform has created a lock file .terraform.lock.hcl to record the provider</span><br><span class="line">selections it made above. Include this file <span class="keyword">in</span> your version control repository</span><br><span class="line">so that Terraform can guarantee to make the same selections by default when</span><br><span class="line">you run <span class="string">"terraform init"</span> <span class="keyword">in</span> the future.</span><br><span class="line"></span><br><span class="line">Terraform has been successfully initialized!</span><br><span class="line"></span><br><span class="line">You may now begin working with Terraform. Try running <span class="string">"terraform plan"</span> to see</span><br><span class="line">any changes that are required <span class="keyword">for</span> your infrastructure. All Terraform commands</span><br><span class="line">should now work.</span><br><span class="line"></span><br><span class="line">If you ever <span class="built_in">set</span> or change modules or backend configuration <span class="keyword">for</span> Terraform,</span><br><span class="line">rerun this <span class="built_in">command</span> to reinitialize your working directory. If you forget, other</span><br><span class="line">commands will detect it and remind you to <span class="keyword">do</span> so <span class="keyword">if</span> necessary.</span><br><span class="line">(base)</span><br><span class="line"><span class="comment"># joe @ J-M1-Pro-16 in ~/Codes_MO/terraform-course/first-steps on git:master x [18:09:49]</span></span><br><span class="line">$ terraform apply</span><br><span class="line"></span><br><span class="line">Terraform used the selected providers to generate the following execution plan. Resource actions</span><br><span class="line">are indicated with the following symbols:</span><br><span class="line">  + create</span><br><span class="line"></span><br><span class="line">Terraform will perform the following actions:</span><br><span class="line"></span><br><span class="line">  <span class="comment"># aws_instance.example will be created</span></span><br><span class="line">  + resource <span class="string">"aws_instance"</span> <span class="string">"example"</span> &#123;</span><br><span class="line">      + ami                                  = <span class="string">"ami-0b0ea68c435eb488d"</span></span><br><span class="line">      + arn                                  = (known after apply)</span><br><span class="line">      + associate_public_ip_address          = (known after apply)</span><br><span class="line">      + availability_zone                    = (known after apply)</span><br><span class="line">      + cpu_core_count                       = (known after apply)</span><br><span class="line">      + cpu_threads_per_core                 = (known after apply)</span><br><span class="line">      + disable_api_termination              = (known after apply)</span><br><span class="line">      + ebs_optimized                        = (known after apply)</span><br><span class="line">      + get_password_data                    = <span class="literal">false</span></span><br><span class="line">      + host_id                              = (known after apply)</span><br><span class="line">      + id                                   = (known after apply)</span><br><span class="line">      + instance_initiated_shutdown_behavior = (known after apply)</span><br><span class="line">      + instance_state                       = (known after apply)</span><br><span class="line">      + instance_type                        = <span class="string">"t2.micro"</span></span><br><span class="line">      + ipv6_address_count                   = (known after apply)</span><br><span class="line">      + ipv6_addresses                       = (known after apply)</span><br><span class="line">      + key_name                             = (known after apply)</span><br><span class="line">      + monitoring                           = (known after apply)</span><br><span class="line">      + outpost_arn                          = (known after apply)</span><br><span class="line">      + password_data                        = (known after apply)</span><br><span class="line">      + placement_group                      = (known after apply)</span><br><span class="line">      + placement_partition_number           = (known after apply)</span><br><span class="line">      + primary_network_interface_id         = (known after apply)</span><br><span class="line">      + private_dns                          = (known after apply)</span><br><span class="line">      + private_ip                           = (known after apply)</span><br><span class="line">      + public_dns                           = (known after apply)</span><br><span class="line">      + public_ip                            = (known after apply)</span><br><span class="line">      + secondary_private_ips                = (known after apply)</span><br><span class="line">      + security_groups                      = (known after apply)</span><br><span class="line">      + source_dest_check                    = <span class="literal">true</span></span><br><span class="line">      + subnet_id                            = (known after apply)</span><br><span class="line">      + tags_all                             = (known after apply)</span><br><span class="line">      + tenancy                              = (known after apply)</span><br><span class="line">      + user_data                            = (known after apply)</span><br><span class="line">      + user_data_base64                     = (known after apply)</span><br><span class="line">      + vpc_security_group_ids               = (known after apply)</span><br><span class="line"></span><br><span class="line">      + capacity_reservation_specification &#123;</span><br><span class="line">          + capacity_reservation_preference = (known after apply)</span><br><span class="line"></span><br><span class="line">          + capacity_reservation_target &#123;</span><br><span class="line">              + capacity_reservation_id = (known after apply)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">      + ebs_block_device &#123;</span><br><span class="line">          + delete_on_termination = (known after apply)</span><br><span class="line">          + device_name           = (known after apply)</span><br><span class="line">          + encrypted             = (known after apply)</span><br><span class="line">          + iops                  = (known after apply)</span><br><span class="line">          + kms_key_id            = (known after apply)</span><br><span class="line">          + snapshot_id           = (known after apply)</span><br><span class="line">          + tags                  = (known after apply)</span><br><span class="line">          + throughput            = (known after apply)</span><br><span class="line">          + volume_id             = (known after apply)</span><br><span class="line">          + volume_size           = (known after apply)</span><br><span class="line">          + volume_type           = (known after apply)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">      + enclave_options &#123;</span><br><span class="line">          + enabled = (known after apply)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">      + ephemeral_block_device &#123;</span><br><span class="line">          + device_name  = (known after apply)</span><br><span class="line">          + no_device    = (known after apply)</span><br><span class="line">          + virtual_name = (known after apply)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">      + metadata_options &#123;</span><br><span class="line">          + http_endpoint               = (known after apply)</span><br><span class="line">          + http_put_response_hop_limit = (known after apply)</span><br><span class="line">          + http_tokens                 = (known after apply)</span><br><span class="line">          + instance_metadata_tags      = (known after apply)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">      + network_interface &#123;</span><br><span class="line">          + delete_on_termination = (known after apply)</span><br><span class="line">          + device_index          = (known after apply)</span><br><span class="line">          + network_interface_id  = (known after apply)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">      + root_block_device &#123;</span><br><span class="line">          + delete_on_termination = (known after apply)</span><br><span class="line">          + device_name           = (known after apply)</span><br><span class="line">          + encrypted             = (known after apply)</span><br><span class="line">          + iops                  = (known after apply)</span><br><span class="line">          + kms_key_id            = (known after apply)</span><br><span class="line">          + tags                  = (known after apply)</span><br><span class="line">          + throughput            = (known after apply)</span><br><span class="line">          + volume_id             = (known after apply)</span><br><span class="line">          + volume_size           = (known after apply)</span><br><span class="line">          + volume_type           = (known after apply)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">Plan: 1 to add, 0 to change, 0 to destroy.</span><br><span class="line"></span><br><span class="line">Do you want to perform these actions?</span><br><span class="line">  Terraform will perform the actions described above.</span><br><span class="line">  Only <span class="string">'yes'</span> will be accepted to approve.</span><br><span class="line"></span><br><span class="line">  Enter a value: yes</span><br><span class="line"></span><br><span class="line">aws_instance.example: Creating...</span><br><span class="line">aws_instance.example: Still creating... [10s elapsed]</span><br><span class="line">aws_instance.example: Still creating... [20s elapsed]</span><br><span class="line">aws_instance.example: Still creating... [30s elapsed]</span><br><span class="line">aws_instance.example: Creation complete after 36s [id=i-0148e3795c780d26f]</span><br><span class="line"></span><br><span class="line">Apply complete! Resources: 1 added, 0 changed, 0 destroyed.</span><br><span class="line">(base)</span><br><span class="line"><span class="comment"># joe @ J-M1-Pro-16 in ~/Codes_MO/terraform-course/first-steps on git:master x [18:11:20]</span></span><br><span class="line">$ terraform show</span><br><span class="line"><span class="comment"># aws_instance.example:</span></span><br><span class="line">resource <span class="string">"aws_instance"</span> <span class="string">"example"</span> &#123;</span><br><span class="line">    ami                                  = <span class="string">"ami-0b0ea68c435eb488d"</span></span><br><span class="line">    arn                                  = <span class="string">"arn:aws:ec2:us-east-1:713832322211:instance/i-0148e3795c780d26f"</span></span><br><span class="line">    associate_public_ip_address          = <span class="literal">true</span></span><br><span class="line">    availability_zone                    = <span class="string">"us-east-1a"</span></span><br><span class="line">    cpu_core_count                       = 1</span><br><span class="line">    cpu_threads_per_core                 = 1</span><br><span class="line">    disable_api_termination              = <span class="literal">false</span></span><br><span class="line">    ebs_optimized                        = <span class="literal">false</span></span><br><span class="line">    get_password_data                    = <span class="literal">false</span></span><br><span class="line">    hibernation                          = <span class="literal">false</span></span><br><span class="line">    id                                   = <span class="string">"i-0148e3795c780d26f"</span></span><br><span class="line">    instance_initiated_shutdown_behavior = <span class="string">"stop"</span></span><br><span class="line">    instance_state                       = <span class="string">"running"</span></span><br><span class="line">    instance_type                        = <span class="string">"t2.micro"</span></span><br><span class="line">    ipv6_address_count                   = 0</span><br><span class="line">    ipv6_addresses                       = []</span><br><span class="line">    monitoring                           = <span class="literal">false</span></span><br><span class="line">    primary_network_interface_id         = <span class="string">"eni-00262f65b89b3b9d6"</span></span><br><span class="line">    private_dns                          = <span class="string">"ip-172-31-0-57.ec2.internal"</span></span><br><span class="line">    private_ip                           = <span class="string">"172.31.0.57"</span></span><br><span class="line">    public_dns                           = <span class="string">"ec2-3-80-98-101.compute-1.amazonaws.com"</span></span><br><span class="line">    public_ip                            = <span class="string">"3.80.98.101"</span></span><br><span class="line">    secondary_private_ips                = []</span><br><span class="line">    security_groups                      = [</span><br><span class="line">        <span class="string">"default"</span>,</span><br><span class="line">    ]</span><br><span class="line">    source_dest_check                    = <span class="literal">true</span></span><br><span class="line">    subnet_id                            = <span class="string">"subnet-9f6c0cd6"</span></span><br><span class="line">    tags_all                             = &#123;&#125;</span><br><span class="line">    tenancy                              = <span class="string">"default"</span></span><br><span class="line">    vpc_security_group_ids               = [</span><br><span class="line">        <span class="string">"sg-aa46f8d7"</span>,</span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line">    capacity_reservation_specification &#123;</span><br><span class="line">        capacity_reservation_preference = <span class="string">"open"</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    credit_specification &#123;</span><br><span class="line">        cpu_credits = <span class="string">"standard"</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    enclave_options &#123;</span><br><span class="line">        enabled = <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    metadata_options &#123;</span><br><span class="line">        http_endpoint               = <span class="string">"enabled"</span></span><br><span class="line">        http_put_response_hop_limit = 1</span><br><span class="line">        http_tokens                 = <span class="string">"optional"</span></span><br><span class="line">        instance_metadata_tags      = <span class="string">"disabled"</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    root_block_device &#123;</span><br><span class="line">        delete_on_termination = <span class="literal">true</span></span><br><span class="line">        device_name           = <span class="string">"/dev/sda1"</span></span><br><span class="line">        encrypted             = <span class="literal">false</span></span><br><span class="line">        iops                  = 100</span><br><span class="line">        tags                  = &#123;&#125;</span><br><span class="line">        throughput            = 0</span><br><span class="line">        volume_id             = <span class="string">"vol-0060a0c25d6420d9c"</span></span><br><span class="line">        volume_size           = 8</span><br><span class="line">        volume_type           = <span class="string">"gp2"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">(base)</span><br><span class="line"><span class="comment"># joe @ J-M1-Pro-16 in ~/Codes_MO/terraform-course/first-steps on git:master x [18:12:45]</span></span><br><span class="line">$ terraform destroy</span><br><span class="line">aws_instance.example: Refreshing state... [id=i-0148e3795c780d26f]</span><br><span class="line"></span><br><span class="line">Terraform used the selected providers to generate the following execution plan. Resource actions</span><br><span class="line">are indicated with the following symbols:</span><br><span class="line">  - destroy</span><br><span class="line"></span><br><span class="line">Terraform will perform the following actions:</span><br><span class="line"></span><br><span class="line">  <span class="comment"># aws_instance.example will be destroyed</span></span><br><span class="line">  - resource <span class="string">"aws_instance"</span> <span class="string">"example"</span> &#123;</span><br><span class="line">      - ami                                  = <span class="string">"ami-0b0ea68c435eb488d"</span> -&gt; null</span><br><span class="line">      - arn                                  = <span class="string">"arn:aws:ec2:us-east-1:713832322211:instance/i-0148e3795c780d26f"</span> -&gt; null</span><br><span class="line">      - associate_public_ip_address          = <span class="literal">true</span> -&gt; null</span><br><span class="line">      - availability_zone                    = <span class="string">"us-east-1a"</span> -&gt; null</span><br><span class="line">      - cpu_core_count                       = 1 -&gt; null</span><br><span class="line">      - cpu_threads_per_core                 = 1 -&gt; null</span><br><span class="line">      - disable_api_termination              = <span class="literal">false</span> -&gt; null</span><br><span class="line">      - ebs_optimized                        = <span class="literal">false</span> -&gt; null</span><br><span class="line">      - get_password_data                    = <span class="literal">false</span> -&gt; null</span><br><span class="line">      - hibernation                          = <span class="literal">false</span> -&gt; null</span><br><span class="line">      - id                                   = <span class="string">"i-0148e3795c780d26f"</span> -&gt; null</span><br><span class="line">      - instance_initiated_shutdown_behavior = <span class="string">"stop"</span> -&gt; null</span><br><span class="line">      - instance_state                       = <span class="string">"running"</span> -&gt; null</span><br><span class="line">      - instance_type                        = <span class="string">"t2.micro"</span> -&gt; null</span><br><span class="line">      - ipv6_address_count                   = 0 -&gt; null</span><br><span class="line">      - ipv6_addresses                       = [] -&gt; null</span><br><span class="line">      - monitoring                           = <span class="literal">false</span> -&gt; null</span><br><span class="line">      - primary_network_interface_id         = <span class="string">"eni-00262f65b89b3b9d6"</span> -&gt; null</span><br><span class="line">      - private_dns                          = <span class="string">"ip-172-31-0-57.ec2.internal"</span> -&gt; null</span><br><span class="line">      - private_ip                           = <span class="string">"172.31.0.57"</span> -&gt; null</span><br><span class="line">      - public_dns                           = <span class="string">"ec2-3-80-98-101.compute-1.amazonaws.com"</span> -&gt; null</span><br><span class="line">      - public_ip                            = <span class="string">"3.80.98.101"</span> -&gt; null</span><br><span class="line">      - secondary_private_ips                = [] -&gt; null</span><br><span class="line">      - security_groups                      = [</span><br><span class="line">          - <span class="string">"default"</span>,</span><br><span class="line">        ] -&gt; null</span><br><span class="line">      - source_dest_check                    = <span class="literal">true</span> -&gt; null</span><br><span class="line">      - subnet_id                            = <span class="string">"subnet-9f6c0cd6"</span> -&gt; null</span><br><span class="line">      - tags                                 = &#123;&#125; -&gt; null</span><br><span class="line">      - tags_all                             = &#123;&#125; -&gt; null</span><br><span class="line">      - tenancy                              = <span class="string">"default"</span> -&gt; null</span><br><span class="line">      - vpc_security_group_ids               = [</span><br><span class="line">          - <span class="string">"sg-aa46f8d7"</span>,</span><br><span class="line">        ] -&gt; null</span><br><span class="line"></span><br><span class="line">      - capacity_reservation_specification &#123;</span><br><span class="line">          - capacity_reservation_preference = <span class="string">"open"</span> -&gt; null</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">      - credit_specification &#123;</span><br><span class="line">          - cpu_credits = <span class="string">"standard"</span> -&gt; null</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">      - enclave_options &#123;</span><br><span class="line">          - enabled = <span class="literal">false</span> -&gt; null</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">      - metadata_options &#123;</span><br><span class="line">          - http_endpoint               = <span class="string">"enabled"</span> -&gt; null</span><br><span class="line">          - http_put_response_hop_limit = 1 -&gt; null</span><br><span class="line">          - http_tokens                 = <span class="string">"optional"</span> -&gt; null</span><br><span class="line">          - instance_metadata_tags      = <span class="string">"disabled"</span> -&gt; null</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">      - root_block_device &#123;</span><br><span class="line">          - delete_on_termination = <span class="literal">true</span> -&gt; null</span><br><span class="line">          - device_name           = <span class="string">"/dev/sda1"</span> -&gt; null</span><br><span class="line">          - encrypted             = <span class="literal">false</span> -&gt; null</span><br><span class="line">          - iops                  = 100 -&gt; null</span><br><span class="line">          - tags                  = &#123;&#125; -&gt; null</span><br><span class="line">          - throughput            = 0 -&gt; null</span><br><span class="line">          - volume_id             = <span class="string">"vol-0060a0c25d6420d9c"</span> -&gt; null</span><br><span class="line">          - volume_size           = 8 -&gt; null</span><br><span class="line">          - volume_type           = <span class="string">"gp2"</span> -&gt; null</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">Plan: 0 to add, 0 to change, 1 to destroy.</span><br><span class="line"></span><br><span class="line">Do you really want to destroy all resources?</span><br><span class="line">  Terraform will destroy all your managed infrastructure, as shown above.</span><br><span class="line">  There is no undo. Only <span class="string">'yes'</span> will be accepted to confirm.</span><br><span class="line"></span><br><span class="line">  Enter a value: yes</span><br><span class="line"></span><br><span class="line">aws_instance.example: Destroying... [id=i-0148e3795c780d26f]</span><br><span class="line">aws_instance.example: Still destroying... [id=i-0148e3795c780d26f, 10s elapsed]</span><br><span class="line">aws_instance.example: Still destroying... [id=i-0148e3795c780d26f, 20s elapsed]</span><br><span class="line">aws_instance.example: Still destroying... [id=i-0148e3795c780d26f, 30s elapsed]</span><br><span class="line">aws_instance.example: Destruction complete after 31s</span><br><span class="line"></span><br><span class="line">Destroy complete! Resources: 1 destroyed.</span><br><span class="line">(base)</span><br><span class="line"><span class="comment"># joe @ J-M1-Pro-16 in ~/Codes_MO/terraform-course/first-steps on git:master x [18:16:35]</span></span><br><span class="line">$ terraform plan</span><br><span class="line"></span><br><span class="line">Terraform used the selected providers to generate the following execution plan. Resource actions are</span><br><span class="line">indicated with the following symbols:</span><br><span class="line">  + create</span><br><span class="line"></span><br><span class="line">Terraform will perform the following actions:</span><br><span class="line"></span><br><span class="line">  <span class="comment"># aws_instance.example will be created</span></span><br><span class="line">  + resource <span class="string">"aws_instance"</span> <span class="string">"example"</span> &#123;</span><br><span class="line">      + ami                                  = <span class="string">"ami-0b0ea68c435eb488d"</span></span><br><span class="line">      + arn                                  = (known after apply)</span><br><span class="line">      + associate_public_ip_address          = (known after apply)</span><br><span class="line">      + availability_zone                    = (known after apply)</span><br><span class="line">      + cpu_core_count                       = (known after apply)</span><br><span class="line">      + cpu_threads_per_core                 = (known after apply)</span><br><span class="line">      + disable_api_termination              = (known after apply)</span><br><span class="line">      + ebs_optimized                        = (known after apply)</span><br><span class="line">      + get_password_data                    = <span class="literal">false</span></span><br><span class="line">      + host_id                              = (known after apply)</span><br><span class="line">      + id                                   = (known after apply)</span><br><span class="line">      + instance_initiated_shutdown_behavior = (known after apply)</span><br><span class="line">      + instance_state                       = (known after apply)</span><br><span class="line">      + instance_type                        = <span class="string">"t2.micro"</span></span><br><span class="line">      + ipv6_address_count                   = (known after apply)</span><br><span class="line">      + ipv6_addresses                       = (known after apply)</span><br><span class="line">      + key_name                             = (known after apply)</span><br><span class="line">      + monitoring                           = (known after apply)</span><br><span class="line">      + outpost_arn                          = (known after apply)</span><br><span class="line">      + password_data                        = (known after apply)</span><br><span class="line">      + placement_group                      = (known after apply)</span><br><span class="line">      + placement_partition_number           = (known after apply)</span><br><span class="line">      + primary_network_interface_id         = (known after apply)</span><br><span class="line">      + private_dns                          = (known after apply)</span><br><span class="line">      + private_ip                           = (known after apply)</span><br><span class="line">      + public_dns                           = (known after apply)</span><br><span class="line">      + public_ip                            = (known after apply)</span><br><span class="line">      + secondary_private_ips                = (known after apply)</span><br><span class="line">      + security_groups                      = (known after apply)</span><br><span class="line">      + source_dest_check                    = <span class="literal">true</span></span><br><span class="line">      + subnet_id                            = (known after apply)</span><br><span class="line">      + tags_all                             = (known after apply)</span><br><span class="line">      + tenancy                              = (known after apply)</span><br><span class="line">      + user_data                            = (known after apply)</span><br><span class="line">      + user_data_base64                     = (known after apply)</span><br><span class="line">      + vpc_security_group_ids               = (known after apply)</span><br><span class="line"></span><br><span class="line">      + capacity_reservation_specification &#123;</span><br><span class="line">          + capacity_reservation_preference = (known after apply)</span><br><span class="line"></span><br><span class="line">          + capacity_reservation_target &#123;</span><br><span class="line">              + capacity_reservation_id = (known after apply)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">      + ebs_block_device &#123;</span><br><span class="line">          + delete_on_termination = (known after apply)</span><br><span class="line">          + device_name           = (known after apply)</span><br><span class="line">          + encrypted             = (known after apply)</span><br><span class="line">          + iops                  = (known after apply)</span><br><span class="line">          + kms_key_id            = (known after apply)</span><br><span class="line">          + snapshot_id           = (known after apply)</span><br><span class="line">          + tags                  = (known after apply)</span><br><span class="line">          + throughput            = (known after apply)</span><br><span class="line">          + volume_id             = (known after apply)</span><br><span class="line">          + volume_size           = (known after apply)</span><br><span class="line">          + volume_type           = (known after apply)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">      + enclave_options &#123;</span><br><span class="line">          + enabled = (known after apply)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">      + ephemeral_block_device &#123;</span><br><span class="line">          + device_name  = (known after apply)</span><br><span class="line">          + no_device    = (known after apply)</span><br><span class="line">          + virtual_name = (known after apply)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">      + metadata_options &#123;</span><br><span class="line">          + http_endpoint               = (known after apply)</span><br><span class="line">          + http_put_response_hop_limit = (known after apply)</span><br><span class="line">          + http_tokens                 = (known after apply)</span><br><span class="line">          + instance_metadata_tags      = (known after apply)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">      + network_interface &#123;</span><br><span class="line">          + delete_on_termination = (known after apply)</span><br><span class="line">          + device_index          = (known after apply)</span><br><span class="line">          + network_interface_id  = (known after apply)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">      + root_block_device &#123;</span><br><span class="line">          + delete_on_termination = (known after apply)</span><br><span class="line">          + device_name           = (known after apply)</span><br><span class="line">          + encrypted             = (known after apply)</span><br><span class="line">          + iops                  = (known after apply)</span><br><span class="line">          + kms_key_id            = (known after apply)</span><br><span class="line">          + tags                  = (known after apply)</span><br><span class="line">          + throughput            = (known after apply)</span><br><span class="line">          + volume_id             = (known after apply)</span><br><span class="line">          + volume_size           = (known after apply)</span><br><span class="line">          + volume_type           = (known after apply)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">Plan: 1 to add, 0 to change, 0 to destroy.</span><br><span class="line"></span><br><span class="line">─────────────────────────────────────────────────────────────────────────────────────────────────────</span><br><span class="line"></span><br><span class="line">Note: You didn<span class="string">'t use the -out option to save this plan, so Terraform can'</span>t guarantee to take exactly</span><br><span class="line">these actions <span class="keyword">if</span> you run <span class="string">"terraform apply"</span> now.</span><br><span class="line">(base)</span><br><span class="line"><span class="comment"># joe @ J-M1-Pro-16 in ~/Codes_MO/terraform-course/first-steps on git:master x [18:17:01]</span></span><br><span class="line">$ ll</span><br><span class="line">total 32</span><br><span class="line">-rw-r--r--  1 joe  staff   253B Mar  7 18:06 instance.tf</span><br><span class="line">-rw-r--r--  1 joe  staff   155B Mar  7 18:16 terraform.tfstate</span><br><span class="line">-rw-r--r--  1 joe  staff   3.7K Mar  7 18:16 terraform.tfstate.backup</span><br><span class="line">-rw-r--r--  1 joe  staff    46B Mar  7 16:29 versions.tf</span><br><span class="line">(base)</span><br><span class="line"><span class="comment"># joe @ J-M1-Pro-16 in ~/Codes_MO/terraform-course/first-steps on git:master x [18:17:52]</span></span><br><span class="line">$ cat instance.tf</span><br><span class="line">provider <span class="string">"aws"</span> &#123;</span><br><span class="line">  access_key = <span class="string">"AKIA---"</span></span><br><span class="line">  secret_key = <span class="string">"S*wh---"</span></span><br><span class="line">  region     = <span class="string">"us-east-1"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">resource <span class="string">"aws_instance"</span> <span class="string">"example"</span> &#123;</span><br><span class="line">  ami           = <span class="string">"ami-0b0ea68c435eb488d"</span></span><br><span class="line">  instance_type = <span class="string">"t2.micro"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">(base)</span><br><span class="line"><span class="comment"># joe @ J-M1-Pro-16 in ~/Codes_MO/terraform-course/first-steps on git:master x [18:18:05]</span></span><br><span class="line">$ terraform plan -out out.terraform</span><br><span class="line"></span><br><span class="line">Terraform used the selected providers to generate the following execution plan. Resource actions are</span><br><span class="line">indicated with the following symbols:</span><br><span class="line">  + create</span><br><span class="line"></span><br><span class="line">Terraform will perform the following actions:</span><br><span class="line"></span><br><span class="line">  <span class="comment"># aws_instance.example will be created</span></span><br><span class="line">  + resource <span class="string">"aws_instance"</span> <span class="string">"example"</span> &#123;</span><br><span class="line">      + ami                                  = <span class="string">"ami-0b0ea68c435eb488d"</span></span><br><span class="line">      + arn                                  = (known after apply)</span><br><span class="line">      + associate_public_ip_address          = (known after apply)</span><br><span class="line">      + availability_zone                    = (known after apply)</span><br><span class="line">      + cpu_core_count                       = (known after apply)</span><br><span class="line">      + cpu_threads_per_core                 = (known after apply)</span><br><span class="line">      + disable_api_termination              = (known after apply)</span><br><span class="line">      + ebs_optimized                        = (known after apply)</span><br><span class="line">      + get_password_data                    = <span class="literal">false</span></span><br><span class="line">      + host_id                              = (known after apply)</span><br><span class="line">      + id                                   = (known after apply)</span><br><span class="line">      + instance_initiated_shutdown_behavior = (known after apply)</span><br><span class="line">      + instance_state                       = (known after apply)</span><br><span class="line">      + instance_type                        = <span class="string">"t2.micro"</span></span><br><span class="line">      + ipv6_address_count                   = (known after apply)</span><br><span class="line">      + ipv6_addresses                       = (known after apply)</span><br><span class="line">      + key_name                             = (known after apply)</span><br><span class="line">      + monitoring                           = (known after apply)</span><br><span class="line">      + outpost_arn                          = (known after apply)</span><br><span class="line">      + password_data                        = (known after apply)</span><br><span class="line">      + placement_group                      = (known after apply)</span><br><span class="line">      + placement_partition_number           = (known after apply)</span><br><span class="line">      + primary_network_interface_id         = (known after apply)</span><br><span class="line">      + private_dns                          = (known after apply)</span><br><span class="line">      + private_ip                           = (known after apply)</span><br><span class="line">      + public_dns                           = (known after apply)</span><br><span class="line">      + public_ip                            = (known after apply)</span><br><span class="line">      + secondary_private_ips                = (known after apply)</span><br><span class="line">      + security_groups                      = (known after apply)</span><br><span class="line">      + source_dest_check                    = <span class="literal">true</span></span><br><span class="line">      + subnet_id                            = (known after apply)</span><br><span class="line">      + tags_all                             = (known after apply)</span><br><span class="line">      + tenancy                              = (known after apply)</span><br><span class="line">      + user_data                            = (known after apply)</span><br><span class="line">      + user_data_base64                     = (known after apply)</span><br><span class="line">      + vpc_security_group_ids               = (known after apply)</span><br><span class="line"></span><br><span class="line">      + capacity_reservation_specification &#123;</span><br><span class="line">          + capacity_reservation_preference = (known after apply)</span><br><span class="line"></span><br><span class="line">          + capacity_reservation_target &#123;</span><br><span class="line">              + capacity_reservation_id = (known after apply)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">      + ebs_block_device &#123;</span><br><span class="line">          + delete_on_termination = (known after apply)</span><br><span class="line">          + device_name           = (known after apply)</span><br><span class="line">          + encrypted             = (known after apply)</span><br><span class="line">          + iops                  = (known after apply)</span><br><span class="line">          + kms_key_id            = (known after apply)</span><br><span class="line">          + snapshot_id           = (known after apply)</span><br><span class="line">          + tags                  = (known after apply)</span><br><span class="line">          + throughput            = (known after apply)</span><br><span class="line">          + volume_id             = (known after apply)</span><br><span class="line">          + volume_size           = (known after apply)</span><br><span class="line">          + volume_type           = (known after apply)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">      + enclave_options &#123;</span><br><span class="line">          + enabled = (known after apply)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">      + ephemeral_block_device &#123;</span><br><span class="line">          + device_name  = (known after apply)</span><br><span class="line">          + no_device    = (known after apply)</span><br><span class="line">          + virtual_name = (known after apply)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">      + metadata_options &#123;</span><br><span class="line">          + http_endpoint               = (known after apply)</span><br><span class="line">          + http_put_response_hop_limit = (known after apply)</span><br><span class="line">          + http_tokens                 = (known after apply)</span><br><span class="line">          + instance_metadata_tags      = (known after apply)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">      + network_interface &#123;</span><br><span class="line">          + delete_on_termination = (known after apply)</span><br><span class="line">          + device_index          = (known after apply)</span><br><span class="line">          + network_interface_id  = (known after apply)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">      + root_block_device &#123;</span><br><span class="line">          + delete_on_termination = (known after apply)</span><br><span class="line">          + device_name           = (known after apply)</span><br><span class="line">          + encrypted             = (known after apply)</span><br><span class="line">          + iops                  = (known after apply)</span><br><span class="line">          + kms_key_id            = (known after apply)</span><br><span class="line">          + tags                  = (known after apply)</span><br><span class="line">          + throughput            = (known after apply)</span><br><span class="line">          + volume_id             = (known after apply)</span><br><span class="line">          + volume_size           = (known after apply)</span><br><span class="line">          + volume_type           = (known after apply)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">Plan: 1 to add, 0 to change, 0 to destroy.</span><br><span class="line"></span><br><span class="line">─────────────────────────────────────────────────────────────────────────────────────────────────────</span><br><span class="line"></span><br><span class="line">Saved the plan to: out.terraform</span><br><span class="line"></span><br><span class="line">To perform exactly these actions, run the following <span class="built_in">command</span> to apply:</span><br><span class="line">    terraform apply <span class="string">"out.terraform"</span></span><br><span class="line">(base)</span><br><span class="line"><span class="comment"># joe @ J-M1-Pro-16 in ~/Codes_MO/terraform-course/first-steps on git:master x [18:18:17]</span></span><br><span class="line">$ cat out.terraform</span><br><span class="line">H�gT	tfplanUT��%bdRMk[W&#125;��^�RJ���J,K�*</span><br><span class="line">                                         /���R.���M|��;�)��&amp;� �</span><br><span class="line">                                                               M v�c�$)�-��/h�MK�O�<span class="string">'�̻g�9w����?�F-�K�%�&amp;8��&lt;����n�έ��lm����&#123;</span></span><br><span class="line"><span class="string">�^���~�GO�h�=V���&lt;��</span></span><br><span class="line"><span class="string">                    R</span></span><br><span class="line"><span class="string">tFrŦ��E�0��*���Y�Ȓ,ԣ�qU�K</span></span><br><span class="line"><span class="string">   B��QӔtW��ⅎ�ҁQ��xYū�H&amp;���u;�ѐ�dx��E�� ;�WԗX%U٠���t&amp;9�X�B��Y�zm��</span></span><br><span class="line"><span class="string">                                                                  &gt;�y��F�</span></span><br><span class="line"><span class="string">                                                                         ���/g(*BJ��FxwVS����|^�$�2�+��'</span>�QES�����v� O�&#125;5*Ս�0��Z</span><br><span class="line">���|�����<span class="string">"���iPl�W�8��c���C\(.S]Xh������\:Ȣ&gt;��w&lt;I`�ߣ�*�&lt;�Δ��H̺�Y9��O�-ht�E�84qUo�,�%�7�¬�����ikk�"</span>S��h�+^��j�u�t׼=� ���uB���y�Ӌ����n�.�)4�QL�t������T?���,-O�kWE�\Ѓ׋l����HZ�6	�ʝ�M�*H8e�m��C�ѽi�V7wQd�:?=�uT*�s��A��\ypt|�ĽjZ��;�v�L����p4+��G�_��˃q��w�4h1����g?�</span><br><span class="line">��ޖ�)4V��7�����P7L��H�gT	tfstateUT��%bD�M�� F�]��G�h��l��x1$��</span><br><span class="line">                                                                     8i�w�s�|����rL&amp;�<span class="variable">$r</span>!���+ F1*�=<span class="comment">#E��es�5n��F�ܗ��%��S\�m��i1��1B~?R-�Z2X�]�T�cS��p</span></span><br><span class="line">                                             ���P�=wM��H�gT</span><br><span class="line">                                                           	tfstate-prevUT��%b��RPP*K-*���S�R0��KR����r�2J�z�z�J`��Ԣ��%+07<span class="string">'3/51="�_ZRPZR�d�P]</span></span><br><span class="line"><span class="string">                                           (J-�/-JN	E�r�r��P�(w3awH�gT	tfconfig/m-/instance.tfUT��%bD��N�0�~��ރBh�=䐪��HP��u��Ǒ�!T�wG���gw����4��?@iM���!,�n�l��V��Z����</span></span><br><span class="line"><span class="string">                                                                           L�S8R���ڥ&#123;����r����j�^</span></span><br><span class="line"><span class="string">                                                                                                 �</span></span><br><span class="line"><span class="string">                                                                                                  o�����l�6^z��A\8pB�Cr��O���S����4! &#125;+���5pZ��I�mJ�R��Ŕ�)��:~�þ�H���������P���p��H�gT	tfconfig/m-/versions.tfUT��%b�*I-*JL�/�U��RP(J-,�,JM�/K-*���S�UP��U0�34R����P[k2�4.H�gT	tfconfig/modules.jsonUT��%b��RP��RPPPP�N�T�RPRҁp]2�@\=%.�Z�X@��P��k))H�gT	.terraform.lock.hclUT��%bT�ߊ�E���\E�=|_���U]�</span></span><br><span class="line"><span class="string">                                                                                                     s��"���.����7�f�1yf�(޻�����&#125;(�����rIs9DZ.�A���1&lt;��zz�uz8\�]�v��Y����nw�W�+=&gt;�!�/���,��tY�rL�i&#125;:Gzzt]��lϧ��㜶��\��u�/�[N��z�/�t~|��.���&amp;��8_��1ݥ-�h�MJ/gqIw��MJ)m���:?�����~~���&#123;~�����|�O�5������&gt;��yw��������~߿�&amp;�"[�qtg�ܲjkSx:���Ջ</span></span><br><span class="line"><span class="string">                      @��� ��˜7�(:2M�*���͸�s +��(f�L�b�Yk��rK�9�9�</span></span><br><span class="line"><span class="string">                                                                  �C��AA��"�4A8��j�1�&#123;8����</span></span><br><span class="line"><span class="string">                                                                                           +!j#�Ő�[�1z!�L����و��lrC����C+H�����@��0�q��ֺL�YC!g��</span></span><br><span class="line"><span class="string">                                         �C��i5</span></span><br><span class="line"><span class="string">���3�����o�\!#K�&gt;F�����R+S�sBtu,&amp;�Y����aeRE��mR�֪hL�0:�Vz�ݭ�����[�H��f�"#��[i�;LlU+F�d�Ф��YVV����!����j��t�b8k@��Â�պJ��+4�"H9��3�a�톚�0jiޫ����K�j&#125;Be���V8�e4t��b^p�w�S?m�����P��⢛4H�gT7L��	tfplanUT��%H�gT�=wM��	$tfstateUT��%bH�gT�(w3aw</span></span><br><span class="line"><span class="string">                                	�tfstate-prevUT��%bH�gT���p��	�tfconfig/m-/instance.tfUT��%bH�gT[k2�4.	�tfconfig/m-/versions.tfUT��%bH�gT��k))	%tfconfig/modules.jsonUT��%bH�gT��⢛4	�.terraform.lock.hclUT��%bPK�	%</span></span><br><span class="line"><span class="string">(base)</span></span><br><span class="line"><span class="string"># joe @ J-M1-Pro-16 in ~/Codes_MO/terraform-course/first-steps on git:master x [18:19:27]</span></span><br><span class="line"><span class="string">$ :q</span></span><br></pre></td></tr></table></figure>





<h2 id="Basics"><a href="#Basics" class="headerlink" title="Basics"></a>Basics</h2><ul>
<li><img src="https://tva1.sinaimg.cn/large/e6c9d24egy1h02ill9uf8j213y0gsabh.jpg" alt="image-20220308153914158" style="zoom:67%;" />

</li>
</ul>
<img src="https://tva1.sinaimg.cn/large/e6c9d24egy1h02iomti6fj21440j6762.jpg" alt="image-20220308154212606" style="zoom: 50%;" />

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> joe @ J-M1-Pro-16 <span class="keyword">in</span> ~/Codes_MO/terraform-course on git:master x [15:43:18]</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> demo-1</span></span><br><span class="line">(base)</span><br><span class="line"><span class="meta">#</span><span class="bash"> joe @ J-M1-Pro-16 <span class="keyword">in</span> ~/Codes_MO/terraform-course/demo-1 on git:master x [15:43:26]</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> cat instance.tf</span></span><br><span class="line">resource "aws_instance" "example" &#123;</span><br><span class="line">  ami           = lookup(var.AMIS, var.AWS_REGION, "") # last parameter is the default value</span><br><span class="line">  instance_type = "t2.micro"</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">(base)</span><br><span class="line"><span class="meta">#</span><span class="bash"> joe @ J-M1-Pro-16 <span class="keyword">in</span> ~/Codes_MO/terraform-course/demo-1 on git:master x [15:43:49]</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> cat vars.tf</span></span><br><span class="line">variable "AWS_ACCESS_KEY" &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">variable "AWS_SECRET_KEY" &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">variable "AWS_REGION" &#123;</span><br><span class="line">  default = "eu-west-1"</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">variable "AMIS" &#123;</span><br><span class="line">  type = map(string)</span><br><span class="line">  default = &#123;</span><br><span class="line">    us-east-1 = "ami-13be557e"</span><br><span class="line">    us-west-2 = "ami-06b94666"</span><br><span class="line">    eu-west-1 = "ami-0d729a60"</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">(base)</span><br><span class="line"><span class="meta">#</span><span class="bash"> joe @ J-M1-Pro-16 <span class="keyword">in</span> ~/Codes_MO/terraform-course/demo-1 on git:master x [15:44:05]</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> cat provider.tf</span></span><br><span class="line">provider "aws" &#123;</span><br><span class="line">  access_key = var.AWS_ACCESS_KEY</span><br><span class="line">  secret_key = var.AWS_SECRET_KEY</span><br><span class="line">  region     = var.AWS_REGION</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">(base)</span><br><span class="line"><span class="meta">#</span><span class="bash"> joe @ J-M1-Pro-16 <span class="keyword">in</span> ~/Codes_MO/terraform-course/demo-1 on git:master x [15:44:51]</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> cat ../.gitignore</span></span><br><span class="line">*/terraform.tfvars</span><br><span class="line">*/terraform.tfstate</span><br><span class="line">*/terraform.tfstate.backup</span><br><span class="line">*/.terraform</span><br><span class="line">*/mykey*</span><br><span class="line">(base)</span><br><span class="line"><span class="meta">#</span><span class="bash"> joe @ J-M1-Pro-16 <span class="keyword">in</span> ~/Codes_MO/terraform-course/demo-1 on git:master x [15:45:30]</span></span><br><span class="line"><span class="meta">$</span></span><br></pre></td></tr></table></figure>

<h4 id="Testing"><a href="#Testing" class="headerlink" title="Testing"></a>Testing</h4><p><code>terraforom plan</code> is OK enough to test, no really need <code>terraform apply</code></p>
<img src="https://tva1.sinaimg.cn/large/e6c9d24egy1h02iu7akixj20x00c40um.jpg" alt="image-20220308154733683" style="zoom:33%;" />



<h2 id="Software-Provisioning"><a href="#Software-Provisioning" class="headerlink" title="Software Provisioning"></a>Software Provisioning</h2><ul>
<li>Packer</li>
</ul>
<p>5 mins for init</p>
<h4 id="File-uploads"><a href="#File-uploads" class="headerlink" title="File uploads"></a>File uploads</h4></div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/11/23/Math/2019-11-23-Probability%20Review/">Math/2019-11-23-Probability Review</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-11-23</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Probability/">Probability</a></span><div class="content"><h3 id="Calc"><a href="#Calc" class="headerlink" title="Calc"></a>Calc</h3><p>假设每个靶中率都是相同的，一个人每个都去射，发现连续射 30 个能中的probability是 93.6%， 那么请问连续射 10次能中的概率是多少？</p>
<p>Ans:<br>$$<br>(p^{30})^{1/3} = (6.4％)^{1/3}<br>$$</p>
<h3 id="中央極限定理"><a href="#中央極限定理" class="headerlink" title="中央極限定理"></a>中央極限定理</h3><p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1g9pohhkh7lj318s0owaql.jpg" alt="image-20191208222151340"></p>
<p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1g9prafd63wj310i0hannw.jpg" alt="image-20191208235851948"></p>
<img src="https://tva1.sinaimg.cn/large/006tNbRwly1g9prfrtf57j30we0actm4.jpg" alt="image-20191209000154339" style="zoom:50%;" />

<p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1g9pronm5amj30t20ly4jg.jpg" alt="image-20191209001233563"></p>
<p><a href="http://onlinestatbook.com/stat_sim/sampling_dist/index.html" target="_blank" rel="noopener">http://onlinestatbook.com/stat_sim/sampling_dist/index.html</a></p>
<p><a href="https://www.zhihu.com/question/22913867" target="_blank" rel="noopener">https://www.zhihu.com/question/22913867</a></p>
<p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1g9prwbrwlij318p0u010k.jpg" alt="image-20191209001955240"></p>
<p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1g9prwxvy3oj31840u0qal.jpg" alt="image-20191209002030933"></p>
<p>我们让中心极限定理发挥作用。现在我们抽取1000组，每组<strong>50</strong>个。<br>我们把每组的平均值都算出来。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">samples &#x3D; []</span><br><span class="line">samples_mean &#x3D; []</span><br><span class="line">samples_std &#x3D; []</span><br><span class="line"></span><br><span class="line">for i in range(0, 1000):</span><br><span class="line">    sample &#x3D; []</span><br><span class="line">    for j in range(0, 50):</span><br><span class="line">        sample.append(random_data[int(np.random.random() * len(random_data))])</span><br><span class="line">    sample_np &#x3D; np.array(sample)</span><br><span class="line">    samples_mean.append(sample_np.mean())</span><br><span class="line">    samples_std.append(sample_np.std())</span><br><span class="line">    samples.append(sample_np)</span><br><span class="line"></span><br><span class="line">samples_mean_np &#x3D; np.array(samples_mean)</span><br><span class="line">samples_std_np &#x3D; np.array(samples_std)</span><br><span class="line"></span><br><span class="line">print samples_mean_np</span><br></pre></td></tr></table></figure>

<p>这一共1000个平均值大概是这样的：<strong>[3.44, 3.42, 3.22, 3.2, 2.94 … 4.08, 3.74]</strong> （我肯定不会把1000个数字都写完，又没有稿费可以骗）</p>
<p>然后，我们把这1000个数字用直方图画出来：</p>
<p><img src="https://pic3.zhimg.com/80/v2-3d1871cc5a1bbfdd5610b0c070d0a032_hd.png" alt="img"></p>
<p>TADA! 完美地形成了正态分布。</p>
<p>结果打印如下：</p>
<p>平均值：<strong>3.48494</strong><br>标准差：<strong>0.23506.  (1.7079/sqrt(50))</strong></p>
<h4 id="实际应用"><a href="#实际应用" class="headerlink" title="实际应用"></a>实际应用</h4><p>在实际生活当中，我们不能知道我们想要研究的对象的平均值，标准差之类的统计参数。中心极限定理在理论上保证了我们可以用只抽样一部分的方法，达到推测研究对象统计参数的目的。<br>在上文的例子中，掷骰子这一行为的理论平均值3.5是我们通过数学定理计算出来的。而我们在实际模拟中，计算出来的样本平均值的平均值（3.48494）确实已经和理论值非常接近了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np </span><br><span class="line">random_data &#x3D; np.random.randint(1, 7, 10000)</span><br><span class="line">print random_data.mean() # 打印平均值</span><br><span class="line">print random_data.std()  # 打印标准差</span><br></pre></td></tr></table></figure>

<p>生成出来的平均值：<strong>3.4927*</strong>（每次重新生成都会略有不同）*<br>生成出来的标准差：<strong>1.7079</strong></p>
<p>平均值接近3.5很好理解。 因为每次</p>
<h3 id="大數定理"><a href="#大數定理" class="headerlink" title="大數定理"></a>大數定理</h3><p>Connect <strong>Expectation of Probabilty</strong> to <strong>Mean in Statistics</strong>.</p>
<p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1g9psliag72j30f00pu3zv.jpg" alt="v2-670e93df4d2c25f52dc407073e017d03_hd"></p>
<p><a href="https://www.zhihu.com/question/19911209/answer/245487255" target="_blank" rel="noopener">https://www.zhihu.com/question/19911209/answer/245487255</a></p>
<p><strong>切比雪夫大数定律</strong><br>在用标准差估计精度的时候用到，类似6sigma那个规律。<br> 由切比雪夫不等式P{|X-EX|&lt;ε}&gt;=1-DX/ε^2<br>可以导出区间(x± k σ)下的概率. K=2时. x± 2σ. 75%；K=3，89%；K=4，94%<br>切比雪夫大数定律是切比雪夫不等式的推论。   </p>
<p><strong>伯努利大数定律</strong><br>证明了在多次相同的条件的重复试验中，频率有越接近一稳定值的趋势。   </p>
<p>也告诉了我们当实验次数很大时，可以用事件发生的频率来代替事件的概率。   </p>
<p><strong>辛钦大数定律</strong><br>需要独立同分布的条件。 切比雪夫大数定律只需相互独立分布。<br>　<br><strong>中心极限定理</strong><br>说明的是在一定条件下，大量独立随机变量的平均数是以正态分布为极限的。<br> 而大数定律只是揭示了大量随机变量的平均结果，但没有涉及到随机变量的分布的问题。    </p>
<p><strong>列维-林德伯格定理</strong><br>是中心极限定理的一种，就是独立同分布的中心极限定理<br>其他中心极限定理还有一个特例棣莫夫-拉普拉斯定理   </p>
<p><strong>棣莫弗—拉普拉斯定理</strong><br>证明的是二项分布的极限分布是正态分布，也告诉了我们实际问题时可以用大样本近似处理。</p>
<h3 id="貝氏"><a href="#貝氏" class="headerlink" title="貝氏"></a>貝氏</h3><h3 id="Pearson’s-correlation-coefficient"><a href="#Pearson’s-correlation-coefficient" class="headerlink" title="Pearson’s correlation coefficient"></a>Pearson’s correlation coefficient</h3><img src="https://tva1.sinaimg.cn/large/00831rSTgy1gdamsiqi39j307a03a3yi.jpg" alt="img" style="zoom:50%;" />

<p>correlation coefficient(<em>ρ</em>，有的時候會用<em>r</em>來表示)會落在-1到1之間: -1≤<em>ρ</em>≤1，<em>μx<em>和</em>μy</em> 分別代表變數<em>x</em>和<em>y</em>的平均數。</p>
<p>看公式會很沒有感覺，對於懂得人會覺得簡單，對於不懂的人會覺得是天書。</p>
<p>為什麼這樣設計會稱為相關係數勒，其實相關係數公式等於:</p>
<img src="https://tva1.sinaimg.cn/large/00831rSTgy1gdamss07xmj30dp064dgk.jpg" alt="img" style="zoom:50%;" />

<img src="https://tva1.sinaimg.cn/large/00831rSTgy1gdb5eunlj2j30wu0nc10s.jpg" alt="image-20200329220516911" style="zoom:67%;" />

<h3 id="selection-bias"><a href="#selection-bias" class="headerlink" title="selection bias"></a>selection bias</h3><p>只聽信某人的話或是相信綴學就是像Steve Jobbs, Bill Gate 那樣</p>
<p><strong>Selection bias</strong> is the <strong>bias</strong> introduced by the <strong>selection</strong> of individuals, groups or data for analysis in such a way that proper randomization is not achieved, thereby ensuring that the sample obtained is not representative of the population intended to be analyzed. It is sometimes referred to as the <strong>selection</strong> effect.</p>
<h3 id="example-of-a-dataset-with-a-non-Gaussian-distribtion"><a href="#example-of-a-dataset-with-a-non-Gaussian-distribtion" class="headerlink" title="example of a dataset with a non -Gaussian distribtion?"></a>example of a dataset with a non -Gaussian distribtion?</h3><p>Here are sample time series for two measured variables: one is Gaussian-distributed (top), and the other is not (bottom).</p>
<p><img src="https://tva1.sinaimg.cn/large/00831rSTgy1gdanj3szc4j30gq07yq3z.jpg" alt="img"></p>
<p>On the right, I tallied the measurements in a histogram. This can help us check if a variable is Gaussian or not.</p>
<p>Non-Gaussian distributed time series data arise when the mean or noise statistics vary with time.</p>
<p>If the mean varies with time, the variable could be non-stationary / time-varying (its trend changes with time), auto- or cross-correlated (it changes depending on its previous value or the values of other variables), or its value is computed from the values of other Gaussian variables but in a nonlinear way.</p>
<p>I hope this helps.</p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/11/20/DevOps/2019-11-20-Meson%20build.txt/">DevOps/2019-11-20-Meson build.txt</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-11-20</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/DevOps/">DevOps</a></span><div class="content"><h3 id="Meson-Build"><a href="#Meson-Build" class="headerlink" title="Meson Build"></a>Meson Build</h3><p>Meson requires that you have a source directory and a build directory and that these two are different. In your source root must exist a file called <code>meson.build</code>. To generate the build system run this command:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">meson &lt;<span class="built_in">source</span> directory&gt; &lt;build directory&gt;</span><br></pre></td></tr></table></figure>

<p>To compile, cd into your build directory and type <code>ninja</code>. To run unit tests, type <code>ninja test</code>.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">source_file = ['video_decoder_opencv.cpp']</span><br><span class="line"></span><br><span class="line">cc = meson.get_compiler('cpp')</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">video_dep = [cc.find_library('opencv_core',  dirs:['/root/opencv-3.4.7/cvlib/lib']),</span><br><span class="line">             cc.find_library('opencv_videoio',  dirs:['/root/opencv-3.4.7/cvlib/lib']),</span><br><span class="line">             cc.find_library('opencv_imgcodecs',  dirs:['/root/opencv-3.4.7/cvlib/lib']),</span><br><span class="line">             cc.find_library('opencv_imgproc',  dirs:['/root/opencv-3.4.7/cvlib/lib'])]</span><br><span class="line"></span><br><span class="line">video_loader_dep = declare_dependency(</span><br><span class="line">                            include_directories:[include_directories('.'), config_dir, include_directories('/root/opencv-3.4.7/cvlib/include')],</span><br><span class="line">                            dependencies: video_dep,</span><br><span class="line">                            sources: source_file,)</span><br></pre></td></tr></table></figure>



<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">root@7a96a548d8fd:~/opencv-3.4.7/cvlib<span class="comment"># tree -L 2</span></span><br><span class="line">.</span><br><span class="line">├── include</span><br><span class="line">│   ├── CMakeLists.txt</span><br><span class="line">│   ├── opencv</span><br><span class="line">│   └── opencv2</span><br><span class="line">└── lib</span><br><span class="line">    ├── libopencv_calib3d.so -&gt; libopencv_calib3d.so.3.4</span><br><span class="line">    ├── libopencv_calib3d.so.3.4 -&gt; libopencv_calib3d.so.3.4.7</span><br><span class="line">    ├── libopencv_calib3d.so.3.4.7</span><br><span class="line">    ├── libopencv_core.so -&gt; libopencv_core.so.3.4</span><br><span class="line">    ├── libopencv_core.so.3.4 -&gt; libopencv_core.so.3.4.7</span><br><span class="line">    ├── libopencv_core.so.3.4.7</span><br><span class="line">    ├── libopencv_dnn.so -&gt; libopencv_dnn.so.3.4</span><br><span class="line">    ├── libopencv_dnn.so.3.4 -&gt; libopencv_dnn.so.3.4.7</span><br><span class="line">    ├── libopencv_dnn.so.3.4.7</span><br><span class="line">    ├── libopencv_features2d.so -&gt; libopencv_features2d.so.3.4</span><br><span class="line">    ├── libopencv_features2d.so.3.4 -&gt; libopencv_features2d.so.3.4.7</span><br><span class="line">    ├── libopencv_features2d.so.3.4.7</span><br><span class="line">    ├── libopencv_flann.so -&gt; libopencv_flann.so.3.4</span><br><span class="line">    ├── libopencv_flann.so.3.4 -&gt; libopencv_flann.so.3.4.7</span><br><span class="line">    ├── libopencv_flann.so.3.4.7</span><br><span class="line">    ├── libopencv_highgui.so -&gt; libopencv_highgui.so.3.4</span><br><span class="line">    ├── libopencv_highgui.so.3.4 -&gt; libopencv_highgui.so.3.4.7</span><br><span class="line">    ├── libopencv_highgui.so.3.4.7</span><br><span class="line">    ├── libopencv_imgcodecs.so -&gt; libopencv_imgcodecs.so.3.4</span><br><span class="line">    ├── libopencv_imgcodecs.so.3.4 -&gt; libopencv_imgcodecs.so.3.4.7</span><br><span class="line">    ├── libopencv_imgcodecs.so.3.4.7</span><br><span class="line">    ├── libopencv_imgproc.so -&gt; libopencv_imgproc.so.3.4</span><br><span class="line">    ├── libopencv_imgproc.so.3.4 -&gt; libopencv_imgproc.so.3.4.7</span><br><span class="line">    ├── libopencv_imgproc.so.3.4.7</span><br><span class="line">    ├── libopencv_ml.so -&gt; libopencv_ml.so.3.4</span><br><span class="line">    ├── libopencv_ml.so.3.4 -&gt; libopencv_ml.so.3.4.7</span><br><span class="line">    ├── libopencv_ml.so.3.4.7</span><br><span class="line">    ├── libopencv_objdetect.so -&gt; libopencv_objdetect.so.3.4</span><br><span class="line">    ├── libopencv_objdetect.so.3.4 -&gt; libopencv_objdetect.so.3.4.7</span><br><span class="line">    ├── libopencv_objdetect.so.3.4.7</span><br><span class="line">    ├── libopencv_photo.so -&gt; libopencv_photo.so.3.4</span><br><span class="line">    ├── libopencv_photo.so.3.4 -&gt; libopencv_photo.so.3.4.7</span><br><span class="line">    ├── libopencv_photo.so.3.4.7</span><br><span class="line">    ├── libopencv_shape.so -&gt; libopencv_shape.so.3.4</span><br><span class="line">    ├── libopencv_shape.so.3.4 -&gt; libopencv_shape.so.3.4.7</span><br><span class="line">    ├── libopencv_shape.so.3.4.7</span><br><span class="line">    ├── libopencv_stitching.so -&gt; libopencv_stitching.so.3.4</span><br><span class="line">    ├── libopencv_stitching.so.3.4 -&gt; libopencv_stitching.so.3.4.7</span><br><span class="line">    ├── libopencv_stitching.so.3.4.7</span><br><span class="line">    ├── libopencv_superres.so -&gt; libopencv_superres.so.3.4</span><br><span class="line">    ├── libopencv_superres.so.3.4 -&gt; libopencv_superres.so.3.4.7</span><br><span class="line">    ├── libopencv_superres.so.3.4.7</span><br><span class="line">    ├── libopencv_videoio.so -&gt; libopencv_videoio.so.3.4</span><br><span class="line">    ├── libopencv_videoio.so.3.4 -&gt; libopencv_videoio.so.3.4.7</span><br><span class="line">    ├── libopencv_videoio.so.3.4.7</span><br><span class="line">    ├── libopencv_video.so -&gt; libopencv_video.so.3.4</span><br><span class="line">    ├── libopencv_video.so.3.4 -&gt; libopencv_video.so.3.4.7</span><br><span class="line">    ├── libopencv_video.so.3.4.7</span><br><span class="line">    ├── libopencv_videostab.so -&gt; libopencv_videostab.so.3.4</span><br><span class="line">    ├── libopencv_videostab.so.3.4 -&gt; libopencv_videostab.so.3.4.7</span><br><span class="line">    └── libopencv_videostab.so.3.4.7</span><br><span class="line"></span><br><span class="line">4 directories, 52 files</span><br></pre></td></tr></table></figure>

</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/11/06/CV%20notes/2019-11-06-EGNet%20Eval/">CV notes/2019-11-06-EGNet Eval</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-11-06</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Graphic/">Graphic</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/Deep-Learning/">Deep-Learning</a></span><div class="content"><h2 id="EGNet-Evaluation"><a href="#EGNet-Evaluation" class="headerlink" title="EGNet Evaluation"></a>EGNet Evaluation</h2><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8ol6oj5msj307h0b4wfe.jpg" alt="img"></p>
<h3 id="1-GPU-运行时间测试"><a href="#1-GPU-运行时间测试" class="headerlink" title="1. GPU 运行时间测试"></a><strong>1. GPU 运行时间测试</strong></h3><table>
<thead>
<tr>
<th>Times</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th>10</th>
</tr>
</thead>
<tbody><tr>
<td>preprocess time / s</td>
<td>0.0016</td>
<td>0.0016</td>
<td>0.0023</td>
<td>0.0019</td>
<td>0.0016</td>
<td>0.0023</td>
<td>0.0027</td>
<td>0.0028</td>
<td>0.0024</td>
<td>0.0022</td>
</tr>
<tr>
<td>model time / s</td>
<td>0.1007</td>
<td>0.1011</td>
<td>0.0982</td>
<td>0.1076</td>
<td>0.0945</td>
<td>0.0970</td>
<td>0.0997</td>
<td>0.0948</td>
<td>0.1021</td>
<td>0.1015</td>
</tr>
<tr>
<td>postprocess time / s</td>
<td>0.0017</td>
<td>0.0020</td>
<td>0.0021</td>
<td>0.0022</td>
<td>0.0019</td>
<td>0.0019</td>
<td>0.0027</td>
<td>0.0018</td>
<td>0.0021</td>
<td>0.0022</td>
</tr>
</tbody></table>
<p><strong>preprocessing average time: 0.00214</strong></p>
<p><strong>model average time: 0.09972</strong></p>
<p><strong>postprocessing average time: 0.00206</strong></p>
<h3 id="2-CPU-Time"><a href="#2-CPU-Time" class="headerlink" title="**2. CPU Time"></a>**2. CPU Time</h3><table>
<thead>
<tr>
<th>Times</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th>10</th>
</tr>
</thead>
<tbody><tr>
<td>preprocess time / s</td>
<td>0.0027</td>
<td>0.0029</td>
<td>0.0017</td>
<td>0.0022</td>
<td>0.0016</td>
<td>0.0017</td>
<td>0.0028</td>
<td>0.0024</td>
<td>0.0031</td>
<td>0.0016</td>
</tr>
<tr>
<td>model time / s</td>
<td>8.9851</td>
<td>9.6686</td>
<td>8.6931</td>
<td>9.7251</td>
<td>8.9071</td>
<td>8.9628</td>
<td>8.9946</td>
<td>8.9697</td>
<td>8.9452</td>
<td>9.0649</td>
</tr>
<tr>
<td>postprocess time / s</td>
<td>0.0017</td>
<td>0.0017</td>
<td>0.0023</td>
<td>0.0017</td>
<td>0.0017</td>
<td>0.0018</td>
<td>0.0017</td>
<td>0.0017</td>
<td>0.0018</td>
<td>0.0016</td>
</tr>
</tbody></table>
<p><strong>preprocessing average time: 0.00227</strong></p>
<p><strong>model average time: 9.09162</strong></p>
<p><strong>postprocessing average time: 0.00177</strong></p>
<ol start="3">
<li>Results</li>
</ol>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8ol8on2b6j307h0b4ab1.jpg" alt="img"></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8ol8t9igaj307h0b4wed.jpg" alt="img"></p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/11/05/DevOps/2017-11-05-Git%20Graph/">DevOps/2017-11-05-Git Graph</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-11-05</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Git/">Git</a></span><div class="content"><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[alias]</span><br><span class="line">lg1 &#x3D; log --graph --abbrev-commit --decorate --format&#x3D;format:&#39;%C(bold blue)%h%C(reset) - %C(bold green)(%ar)%C(reset) %C(white)%s%C(reset) %C(dim white)- %an%C(reset)%C(bold yellow)%d%C(reset)&#39; --all</span><br><span class="line">lg2 &#x3D; log --graph --abbrev-commit --decorate --format&#x3D;format:&#39;%C(bold blue)%h%C(reset) - %C(bold cyan)%aD%C(reset) %C(bold green)(%ar)%C(reset)%C(bold yellow)%d%C(reset)%n&#39;&#39;          %C(white)%s%C(reset) %C(dim white)- %an%C(reset)&#39; --all</span><br><span class="line">lg &#x3D; !&quot;git lg1&quot;</span><br></pre></td></tr></table></figure>



<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8mz5ui0t5j31bm0u0b29.jpg" alt="image-20191105105414329"></p>
</div><hr></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/21/"><i class="fa fa-chevron-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/21/">21</a><span class="page-number current">22</span><a class="page-number" href="/page/23/">23</a><span class="space">&hellip;</span><a class="page-number" href="/page/73/">73</a><a class="extend next" rel="next" href="/page/23/"><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2013 - 2022 By Joe Huang</div><div class="framework-info"><span>Driven - </span><a href="http://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody" target="_blank" rel="noopener"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_site_uv"><i class="fa fa-user"></i><span id="busuanzi_value_site_uv"></span><span></span></span><span class="footer-separator">|</span><span id="busuanzi_container_site_pv"><i class="fa fa-eye"></i><span id="busuanzi_value_site_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.6.1"></script><script src="/js/fancybox.js?version=1.6.1"></script><script src="/js/sidebar.js?version=1.6.1"></script><script src="/js/copy.js?version=1.6.1"></script><script src="/js/fireworks.js?version=1.6.1"></script><script src="/js/transition.js?version=1.6.1"></script><script src="/js/scroll.js?version=1.6.1"></script><script src="/js/head.js?version=1.6.1"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script></body></html>