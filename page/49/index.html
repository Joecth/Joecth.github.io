<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content=""><meta name="keywords" content=""><meta name="author" content="Joe Huang"><meta name="copyright" content="Joe Huang"><title>Awaken Desparado</title><link rel="shortcut icon" href="/melody-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.6.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.6.1"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  }
} </script><meta name="generator" content="Hexo 4.1.1"></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="false"><div class="author-info"><div class="author-info__avatar text-center"><img src="/img/avatar.png"></div><div class="author-info__name text-center">Joe Huang</div><div class="author-info__description text-center"></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">273</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">Tags</span><span class="pull-right">25</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">Categories</span><span class="pull-right">40</span></a></div></div></div><nav class="no-bg" id="nav"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">Awaken Desparado</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a></span><span class="pull-right"></span></div><div id="site-info"><div id="site-title">Awaken Desparado</div><div id="site-sub-title"></div></div></nav><div id="content-outer"><div class="layout" id="content-inner"><div class="recent-post-item article-container"><a class="article-title" href="/2018/12/12/Web/2018-12-12-MongoDB%20MapReduce/">Web/2018-12-12-MongoDB MapReduce</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2018-12-12</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Web/">Web</a></span><div class="content"><p>Ref: <a href="https://www.runoob.com/mongodb/mongodb-map-reduce.html" target="_blank" rel="noopener">https://www.runoob.com/mongodb/mongodb-map-reduce.html</a></p>
<p>Map-Reduce是一种计算模型，简单的说就是将大批量的工作（数据）分解（MAP）执行，然后再将结果合并成最终结果（REDUCE）。</p>
<p>MongoDB提供的Map-Reduce非常灵活，对于大规模数据分析也相当实用。</p>
<h3 id="MapReduce-命令"><a href="#MapReduce-命令" class="headerlink" title="MapReduce 命令"></a>MapReduce 命令</h3><p>以下是MapReduce的基本语法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&gt;db.collection.mapReduce(</span><br><span class="line">   function() &#123;emit(key,value);&#125;,  &#x2F;&#x2F;map 函数</span><br><span class="line">   function(key,values) &#123;return reduceFunction&#125;,   &#x2F;&#x2F;reduce 函数</span><br><span class="line">   &#123;</span><br><span class="line">      out: collection,</span><br><span class="line">      query: document,</span><br><span class="line">      sort: document,</span><br><span class="line">      limit: number</span><br><span class="line">   &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>使用 MapReduce 要实现两个函数 Map 函数和 Reduce 函数,Map 函数调用 emit(key, value), 遍历 collection 中所有的记录, 将 key 与 value 传递给 Reduce 函数进行处理。</p>
<p>Map 函数必须调用 emit(key, value) 返回键值对。</p>
<p>参数说明:</p>
<ul>
<li><strong>map</strong> ：映射函数 (生成键值对序列,作为 reduce 函数参数)。</li>
<li><strong>reduce</strong> 统计函数，reduce函数的任务就是将key-values变成key-value，也就是把values数组变成一个单一的值value。。</li>
<li><strong>out</strong> 统计结果存放集合 (不指定则使用临时集合,在客户端断开后自动删除)。</li>
<li><strong>query</strong> 一个筛选条件，只有满足条件的文档才会调用map函数。（query。limit，sort可以随意组合）</li>
<li><strong>sort</strong> 和limit结合的sort排序参数（也是在发往map函数前给文档排序），可以优化分组机制</li>
<li><strong>limit</strong> 发往map函数的文档数量的上限（要是没有limit，单独使用sort的用处不大）</li>
</ul>
<p>以下实例在集合 orders 中查找 status:”A” 的数据，并根据 cust_id 来分组，并计算 amount 的总和。</p>
<p><img src="https://static.runoob.com/images/map-reduce.bakedsvg.svg" alt="map-reduce.bakedsvg"></p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2018/12/12/Web/2018-12-12-ODM%20&amp;%20ORM/">Web/2018-12-12-ODM &amp; ORM</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2018-12-12</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Web/">Web</a></span><div class="content"><p>Ref All: <a href="https://medium.com/@julianam.tyler/what-is-the-difference-between-odm-and-orm-267bbb7778b0" target="_blank" rel="noopener">https://medium.com/@julianam.tyler/what-is-the-difference-between-odm-and-orm-267bbb7778b0</a></p>
<p>“</p>
<p>When you first learn how to work with database, it all comes down to two types of database set ups which are ORM (object Relation Mapping) and ODM (Object Document Mapping)</p>
<p>ORM which is to map an object with a relational world, it basically converts data between incompatible types in object oriented programming languages. ORM wraps the implementation specific details of storage drivers in an API (application program interface), and maps the relational fields to an object members. For example if I have a table of employees, it is mapped to a single object for all employees, with various methods associated with it.</p>
<p>ODM on the other hand is an Object Document Mapper, which maps objects with a Document Database like MongoDB.</p>
<p>The main difference is that ORM is for MySQL databases, while ODM does the mapping for document representation of data.<br>best way to remember what ORM does would be to think of it as an excel spread sheet, with rows and columns. When using this set up, you want to be sure you have a great plan on how you want to tackle the current application, it does not allow as many modifications like ODM does. With ODM we can add new fields and properties easily but with ORM when adding a new field you need to keep in mind that nothing stays empty so it needs a value to be as default unless you want to go into each and modify.</p>
<p>“”</p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2018/12/11/CVs/2018-12-11-Baysian%20&amp;%20Conditional%20Prob/">CVs/2018-12-11-Baysian &amp; Conditional Prob</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2018-12-11</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Probability/">Probability</a></span><div class="content"><h3 id="Baysian"><a href="#Baysian" class="headerlink" title="Baysian"></a>Baysian</h3><p>$$<br>P(A|C) = \frac{P(A\cap C)}{P(C)},<br>P(C|A) = \frac{P(A\cap C)}{P(A)}   \<br>Thus, P(A|C) = \frac{P(C|A) * P(A)}{P(C)}<br>$$</p>
<h3 id="Independent"><a href="#Independent" class="headerlink" title="Independent"></a>Independent</h3><p>$$<br>P(A|C) = \frac{P(A\cap C)}{P(C)}=\frac{P(A)<em>P(C)}{P(C)}=P(A) \<br>P(C|A) = \frac{P(A\cap C)}{P(A)}=\frac{P(A)</em>P(C)}{P(A)}=P(C)   \<br>%Thus, P(A|C) = \frac{P(C|A) * P(A)}{P(C)}<br>$$</p>
<p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1g9s1bgefz3j30hs0ffabh.jpg" alt="v2-d331a465a66032ebc14b6f24feae2457_b"></p>
<ul>
<li>posterior probability</li>
<li>priori probability</li>
</ul>
<hr>
<p><strong>为什么朴素贝叶斯如此“朴素”？</strong></p>
<p>因为它假定所有的特征在数据集中的作用是同样重要和独立的。正如我们所知，这个假设在现实世界中是很不真实的，因此，说朴素贝叶斯真的很“朴素”。</p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2018/12/03/ML/2018-12-03-File%20Size%20Limitation/">ML/2018-12-03-File Size Limitation</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2018-12-03</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/DevOps/">DevOps</a></span><div class="content"><h3 id="File-size-limitation"><a href="#File-size-limitation" class="headerlink" title="File size limitation"></a>File size limitation</h3><h1 id=""><a href="#" class="headerlink" title=""></a></h1></div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2018/11/30/Math/2018-11-30-Conditional%20Probability/">Math/2018-11-30-Conditional Probability</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2018-11-30</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Probability/">Probability</a></span><div class="content"><p>Ref: <a href="https://zhuanlan.zhihu.com/p/35976057" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/35976057</a></p>
<h2 id="事件的独立性"><a href="#事件的独立性" class="headerlink" title="事件的独立性"></a>事件的独立性</h2><p>根据定义，两个事件<em>A</em>和<em>B</em>是<em>独立的，</em>如果：</p>
<p><img src="https://pic4.zhimg.com/80/v2-024ebd7be22be3792d0eb85ee51e8453_hd.jpg" alt="img"></p>
<p>使用条件概率，我们可以提供一个稍微不同的定义。以来：</p>
<p><img src="https://pic1.zhimg.com/80/v2-92899762e2fa58123284becb28237144_hd.jpg" alt="img"></p>
<p>并且<em>P（A∩B）</em> = <em>P（A）P（B）</em>：</p>
<p><img src="https://pic3.zhimg.com/80/v2-3ed71d1794cce026ac70140049e6813e_hd.jpg" alt="img"></p>
<p>只要<em>P（B）</em> &gt; 0，对于独立的<em>A</em>和<em>B</em>，我们有<em>P（A | B）</em> = <em>P（A）</em> ; 换言之，<em>B</em> 不会以任何方式影响<em>A</em>的概率。同样，我们可以证明对于<em>P（A）</em> &gt; 0，我们有<em>P（B | A）</em> = <em>P（B）</em>。</p>
<p>独立也延伸到事件的补充。回想一下，<em>P（B ^ C）</em> 是<em>B</em>没有发生的概率，或1 - <em>P（B）</em> ; 由于条件概率服从通常的概率公理，我们有<em>P（B ^ C | A）</em> = 1 - <em>P（B | A）</em>。那么，如果<em>A</em>和<em>B</em>是独立的：</p>
<p><img src="https://pic4.zhimg.com/80/v2-b1171212d1b5d818d21fb9dda0a70a53_hd.jpg" alt="img"></p>
</div><hr></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/48/"><i class="fa fa-chevron-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/48/">48</a><span class="page-number current">49</span><a class="page-number" href="/page/50/">50</a><span class="space">&hellip;</span><a class="page-number" href="/page/55/">55</a><a class="extend next" rel="next" href="/page/50/"><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2013 - 2020 By Joe Huang</div><div class="framework-info"><span>Driven - </span><a href="http://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody" target="_blank" rel="noopener"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_site_uv"><i class="fa fa-user"></i><span id="busuanzi_value_site_uv"></span><span></span></span><span class="footer-separator">|</span><span id="busuanzi_container_site_pv"><i class="fa fa-eye"></i><span id="busuanzi_value_site_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.6.1"></script><script src="/js/fancybox.js?version=1.6.1"></script><script src="/js/sidebar.js?version=1.6.1"></script><script src="/js/copy.js?version=1.6.1"></script><script src="/js/fireworks.js?version=1.6.1"></script><script src="/js/transition.js?version=1.6.1"></script><script src="/js/scroll.js?version=1.6.1"></script><script src="/js/head.js?version=1.6.1"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script></body></html>