<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content=""><meta name="keywords" content=""><meta name="author" content="Joe Huang"><meta name="copyright" content="Joe Huang"><title>Awaken Desparado</title><link rel="shortcut icon" href="/melody-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.6.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.6.1"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  }
} </script><meta name="generator" content="Hexo 4.1.1"></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="false"><div class="author-info"><div class="author-info__avatar text-center"><img src="/img/avatar.png"></div><div class="author-info__name text-center">Joe Huang</div><div class="author-info__description text-center"></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">298</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">Tags</span><span class="pull-right">25</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">Categories</span><span class="pull-right">44</span></a></div></div></div><nav class="no-bg" id="nav"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">Awaken Desparado</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a></span><span class="pull-right"></span></div><div id="site-info"><div id="site-title">Awaken Desparado</div><div id="site-sub-title"></div></div></nav><div id="content-outer"><div class="layout" id="content-inner"><div class="recent-post-item article-container"><a class="article-title" href="/2020/03/02/Books/2020-03-02%20%E9%9D%9E%E6%9A%B4%E5%8A%9B%E6%BA%9D%E9%80%9A-NonViolent%20Communication/">Books/2020-03-02 非暴力溝通-NonViolent Communication</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-03-02</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Books/">Books</a></span><div class="content"><h5 id=""><a href="#" class="headerlink" title=""></a></h5><h2 id="1"><a href="#1" class="headerlink" title="1."></a>1.</h2><h3 id="暴力溝通四種模式："><a href="#暴力溝通四種模式：" class="headerlink" title="暴力溝通四種模式："></a>暴力溝通四種模式：</h3><p>Four modes of violent communication:</p>
<p>道德批判、進行比較、迴避責任、強人所難。</p>
<p>Ethical criticism, comparison, avoidance of responsibility, and tough people.</p>
<h3 id="非暴力溝通模式-–-觀察對方和自己的需要"><a href="#非暴力溝通模式-–-觀察對方和自己的需要" class="headerlink" title="非暴力溝通模式 – 觀察對方和自己的需要"></a>非暴力溝通模式 – 觀察對方和自己的需要</h3><p>Non-violent communication mode – Observe the needs of others and yourself</p>
<h4 id="e-g"><a href="#e-g" class="headerlink" title="e.g."></a>e.g.</h4><p>和幾個同事在一個小組，需要共同完成一項工作。可有一位同事被大家認為沒有團隊精神，喜”單打獨鬥”。如果我們們用非暴力的思維去思考他的行為，就會發現他喜歡單打獨鬥的背後，一定有他的需要，可能他搞長難度更高的工作、可能他特別渴望獲得尊重。這個時候，我們可以平和引導他說出，他喜歡單打獨鬥的原因，然後綜合大家的需求，找到滿足雙方需求的方法，而不是用道德判斷的暴力溝通方式，覺得他價值觀有問題而去疏遠他。</p>
<p>In a small group with several colleagues, you need to complete a job together. However, one colleague was considered to have no team spirit and liked “single fight alone.” If we use non-violent thinking to think about his behavior, we will find that he likes to fight alone and there must be his needs. Maybe he has a more difficult job. Maybe he is particularly eager to get respect. At this time, we can calmly guide him to explain why he likes to fight alone, and then integrate everyone’s needs to find a way to meet the needs of both parties, instead of using violent communication methods based on moral judgment, and feel alienated in his values he.</p>
<h4 id="觀察、感受、需要、請求"><a href="#觀察、感受、需要、請求" class="headerlink" title="觀察、感受、需要、請求,"></a>觀察、感受、需要、請求,</h4><h4 id="Observe-feel-need-request"><a href="#Observe-feel-need-request" class="headerlink" title="Observe, feel, need, request"></a>Observe, feel, need, request</h4><p>比如，一位下屬沒有按時提交報表，如果是非暴力溝通的上級，可能會這樣和他交流：</p>
<p>上次的報表應該上週就完成的，可是你在昨天才給到我，我感到有點擔心，因為整體的工作進度可能會被擔誤，我不確定是不是你手頭上的工作太多，還是說你家裡有事情。我希望能幫助你更有效率地工作，可以告訴我你最近有什麼困難嗎？</p>
<p>For example, a subordinate did not submit a report on time. If he is a superior who communicates nonviolently, he may communicate with him like this:</p>
<p>The last report should have been completed last week, but you only gave it to me yesterday. I am a bit worried because the overall work progress may be burdened. I am not sure if you have too much work on hand, or Say you have something at home. I hope to help you work more efficiently. Can you tell me about any recent difficulties?</p>
<h2 id="2"><a href="#2" class="headerlink" title="2."></a>2.</h2><h3 id="區分觀察-vs-評論-Distinguish-observation-vs-comments"><a href="#區分觀察-vs-評論-Distinguish-observation-vs-comments" class="headerlink" title="區分觀察 vs 評論 Distinguish observation vs comments"></a>區分觀察 vs 評論 Distinguish observation vs comments</h3><p>評論為絕對化的；觀察式的不會有反感，要避免絕對化的評論。</p>
<p>觀察結果的表述 – 加上絕對的時間跟地點</p>
<p>Comments are absolute; observations are not objectionable. Avoid absolute comments. Representation of observations – together w/ absolute time and place</p>
<h3 id="體會表達感受-Express-feelings"><a href="#體會表達感受-Express-feelings" class="headerlink" title="體會表達感受  Express feelings"></a>體會表達感受  Express feelings</h3><p>Thnks about the roots behind feelings</p>
<h3 id="找到並表達需求-Find-and-express-needs"><a href="#找到並表達需求-Find-and-express-needs" class="headerlink" title="找到並表達需求 Find and express needs"></a>找到並表達需求 Find and express needs</h3><h3 id="學會表達請求-Learn-to-express-requests"><a href="#學會表達請求-Learn-to-express-requests" class="headerlink" title="學會表達請求 Learn to express requests"></a>學會表達請求 Learn to express requests</h3><p>Refine goals with requests when expressing</p>
<h5 id="例１-E-g-1"><a href="#例１-E-g-1" class="headerlink" title="例１ E.g.1"></a>例１ E.g.1</h5><p>”我覺得這項工作我做得不是很好” – 僅想法，未表達感受</p>
<p>”這項工作沒做好，我很愧疚” – 表達感受；且適當示弱有助於溝通，是一種有效緩解對立情緒、解決衝突的方法。</p>
<p>“I don’t think I did a good job with this job” – only thoughts, no feelings </p>
<p>“This job is not done well, I feel guilty” – expressing feelings; BTW, showing weakness appropriately helps communication, which is an effective way to alleviate conflicts and resolve conflicts.</p>
<h5 id="例２-E-g-2"><a href="#例２-E-g-2" class="headerlink" title="例２ E.g.2"></a>例２ E.g.2</h5><p>看到下屬將機密文件隨便放到了辦公桌上，於是對他說：「你將機密文件放到辦公桌上，沒有及時鎖起來，這讓我特別緊張。」</p>
<p>接著，要繼續說「因為我不想讓機密文件存在任何洩密隱患」，這句話，挑明了”需求”。</p>
<p>「那麼，請你下次注意將文件第一時間收到保險箱裡，好嗎？」，這句話，則提出了我們的”請求”。</p>
<p>When seeing my subordinates placing confidential documents on the desk, and said to him, “You placed the confidential documents on the desk and did not lock them in time, which made me particularly nervous.</p>
<p>Then, to continue to say “because I don’t want any hidden dangers of confidential documents”, this sentence clarifies the “need”.</p>
<p>“Then, please pay attention to the documents once after being received and put in the safe as soon as possible, okay?” In this sentence, we made our “request”.</p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2020/02/28/ML/2019-03-27-Time%20Series%20Analysis/">ML/2019-03-27-Time Series Analysis</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-02-28</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/M/">M</a></span><div class="content"><h2 id="時間數據的特徵工程"><a href="#時間數據的特徵工程" class="headerlink" title="時間數據的特徵工程"></a>時間數據的特徵工程</h2><p>可展開成年、月、日、星期幾、週末、月的哪部分，一年當中第幾天、第幾個月、月初還是月末、節日</p>
<p>上中下旬用數字不OK, 所以可用one-hot encoding，用很多個bool表示其中那個用1, 2, 3表示的上中下旬。</p>
<img src="https://tva1.sinaimg.cn/large/00831rSTgy1gd8c7zt08dj30w20bg75q.jpg" alt="image-20200327114411681" style="zoom:67%;" />



<p>pd.get_dummies 做 one-hot- encoding</p>
<img src="https://tva1.sinaimg.cn/large/00831rSTgy1gd8cgz308wj314g0iq411.jpg" alt="image-20200327115247759" style="zoom:80%;" />

<img src="https://tva1.sinaimg.cn/large/00831rSTgy1gd8ccnwq2gj310409k757.jpg" alt="image-20200327114837591" style="zoom:67%;" />

<p>用10個維度表示其中的10年</p>
<img src="https://tva1.sinaimg.cn/large/00831rSTgy1gd8cbtiq38j310o096aam.jpg" alt="image-20200327114753055" style="zoom:67%;" />





<p>然後整理數據集</p>
<p>Linear regression, 多項式迴歸、嶺迴歸、Lasso regression 需要　X_dummy , with one-hot-encoding, 成72維度</p>
<p>DT、RF不需要 one-hot-encoding，用 X_before_dummy</p>
<h2 id="模型"><a href="#模型" class="headerlink" title="模型"></a>模型</h2><p>MSE, RMSE, MAbsoluteE, R Square</p>
<h4 id="線性迴歸"><a href="#線性迴歸" class="headerlink" title="線性迴歸"></a>線性迴歸</h4><p><img src="https://tva1.sinaimg.cn/large/00831rSTgy1gd8cqzb6j7j312u0huh1c.jpg" alt="image-20200327120233707"></p>
<p>我們看到的是72維在2D平面的投影</p>
<img src="https://tva1.sinaimg.cn/large/00831rSTgy1gd8ct2bdltj313m02mdgg.jpg" alt="image-20200327120425110" style="zoom:80%;" />



<h4 id="多項式迴歸"><a href="#多項式迴歸" class="headerlink" title="多項式迴歸"></a>多項式迴歸</h4><p>二次、三次</p>
<h4 id="嶺迴歸"><a href="#嶺迴歸" class="headerlink" title="嶺迴歸"></a>嶺迴歸</h4><ul>
<li>線性加了L1正則</li>
</ul>
<h4 id="Lasso迴歸"><a href="#Lasso迴歸" class="headerlink" title="Lasso迴歸"></a>Lasso迴歸</h4><ul>
<li>線性加了L2正則</li>
</ul>
<h4 id="RF"><a href="#RF" class="headerlink" title="RF"></a>RF</h4><ul>
<li>bagging 子集建各樹、考慮最大的特徵數，作Cross Validation</li>
</ul>
<h2 id="模型比較"><a href="#模型比較" class="headerlink" title="模型比較"></a>模型比較</h2><img src="https://tva1.sinaimg.cn/large/00831rSTgy1gd8df910hwj31eu0m8n1b.jpg" alt="image-20200327122545346" style="zoom:67%;" />

<img src="https://tva1.sinaimg.cn/large/00831rSTgy1gd8dfjtqpej315o0gk4cq.jpg" alt="image-20200327122605413" style="zoom:67%;" /></div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2020/02/28/Old_Records_for_Daily_Practice/2020-02-28-Daily%20Problem/">Old_Records_for_Daily_Practice/2020-02-28-Daily Problem</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-02-28</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Daily/">Daily</a></span><div class="content"><h3 id="Anagram-in-a-string"><a href="#Anagram-in-a-string" class="headerlink" title="Anagram in a string"></a>Anagram in a string</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">find_anagrams</span><span class="params">(s, t)</span>:</span></span><br><span class="line">  <span class="comment"># Fill this in.</span></span><br><span class="line"></span><br><span class="line">print(find_anagrams(<span class="string">'acdbacdacb'</span>, <span class="string">'abc'</span>))</span><br><span class="line"><span class="comment"># [3, 7]</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> Counter</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findAnagrams_Counter</span><span class="params">(self, s: str, p: str)</span> -&gt; List[int]:</span>    <span class="comment"># Took 7300 ms</span></span><br><span class="line">        window = len(p)</span><br><span class="line">        c_p = Counter(p)</span><br><span class="line">        </span><br><span class="line">        res = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(window<span class="number">-1</span>, len(s)):   <span class="comment"># 2</span></span><br><span class="line">            pat = s[i-window+<span class="number">1</span>:i+<span class="number">1</span>]</span><br><span class="line">            <span class="comment"># print(pat)</span></span><br><span class="line">            c_pat = Counter(pat)  </span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> c_p == c_pat:</span><br><span class="line">                res.append(i-window+<span class="number">1</span>) </span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line">            </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findAnagrams</span><span class="params">(self, s: str, p: str)</span> -&gt; List[int]:</span>    <span class="comment"># 100 ms</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> s <span class="keyword">or</span> <span class="keyword">not</span> p:</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line">        </span><br><span class="line">        enc_p = self.encoder(p)</span><br><span class="line">        win = len(p)</span><br><span class="line">        <span class="comment"># enc_s = self.encoder(s[:win])</span></span><br><span class="line">        </span><br><span class="line">        offset = win<span class="number">-1</span></span><br><span class="line">        res = []</span><br><span class="line">        <span class="string">'''Dynamically update pattern in s'''</span></span><br><span class="line">        <span class="comment"># for i in range(offset, len(s)):</span></span><br><span class="line">        enc_c = [<span class="number">0</span>] * <span class="number">26</span></span><br><span class="line">        j = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(s)):</span><br><span class="line">            enc_c[ord(s[i]) - ord(<span class="string">'a'</span>)] += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> i - j &gt;= win:</span><br><span class="line">                enc_c[ord(s[j]) - ord(<span class="string">'a'</span>)] -= <span class="number">1</span></span><br><span class="line">                j += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> enc_c == enc_p:</span><br><span class="line">                res.append(j)</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findAnagrams_TLE</span><span class="params">(self, s: str, p: str)</span> -&gt; List[int]:</span>    <span class="comment"># TLE</span></span><br><span class="line">        <span class="string">''' TLE, SHOULD Dynamically  Update enc_tmp'''</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> s <span class="keyword">or</span> <span class="keyword">not</span> p:</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line">        </span><br><span class="line">        enc_p = self.encoder(p)</span><br><span class="line">        win = len(p)</span><br><span class="line">        </span><br><span class="line">        offset = win<span class="number">-1</span></span><br><span class="line">        res = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(offset, len(s)):</span><br><span class="line">            start = i - win + <span class="number">1</span></span><br><span class="line">            sub_s = s[start:i+<span class="number">1</span>]</span><br><span class="line">            <span class="comment"># print(sub_s)</span></span><br><span class="line">            enc_tmp = self.encoder(sub_s)  <span class="comment"># 2 - (3-1) : 3  # No OOR</span></span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> enc_tmp == enc_p:</span><br><span class="line">                res.append(start)</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>



<h3 id="Reverse-Words"><a href="#Reverse-Words" class="headerlink" title="Reverse Words"></a><del>Reverse Words</del></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">reverse_words</span><span class="params">(words)</span>:</span></span><br><span class="line">  <span class="comment"># Fill this in.</span></span><br><span class="line"></span><br><span class="line">s = list(<span class="string">"can you read this"</span>)</span><br><span class="line">reverse_words(s)</span><br><span class="line">print(<span class="string">''</span>.join(s))</span><br><span class="line"><span class="comment"># this read you can</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reverseWords</span><span class="params">(self, s: str)</span> -&gt; str:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> s:</span><br><span class="line">            <span class="keyword">return</span> s</span><br><span class="line">        l = s.split()[::<span class="number">-1</span>]</span><br><span class="line">        res = <span class="string">' '</span>.join(l)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>

<h3 id="Reverse-Words-Ⅱ"><a href="#Reverse-Words-Ⅱ" class="headerlink" title="Reverse Words Ⅱ"></a><del>Reverse Words Ⅱ</del></h3><p>Given an input string , reverse the string word by word. </p>
<p><strong>Example:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input:  [&quot;t&quot;,&quot;h&quot;,&quot;e&quot;,&quot; &quot;,&quot;s&quot;,&quot;k&quot;,&quot;y&quot;,&quot; &quot;,&quot;i&quot;,&quot;s&quot;,&quot; &quot;,&quot;b&quot;,&quot;l&quot;,&quot;u&quot;,&quot;e&quot;]</span><br><span class="line">Output: [&quot;b&quot;,&quot;l&quot;,&quot;u&quot;,&quot;e&quot;,&quot; &quot;,&quot;i&quot;,&quot;s&quot;,&quot; &quot;,&quot;s&quot;,&quot;k&quot;,&quot;y&quot;,&quot; &quot;,&quot;t&quot;,&quot;h&quot;,&quot;e&quot;]</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reverseWords</span><span class="params">(self, s: List[str])</span> -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Do not return anything, modify s in-place instead.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        t = <span class="string">' '</span>.join(<span class="string">''</span>.join(s).split()[::<span class="number">-1</span>])</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(s)):</span><br><span class="line">            s[i] = t[i]</span><br></pre></td></tr></table></figure>

<h3 id="Reverse-Words-Ⅲ"><a href="#Reverse-Words-Ⅲ" class="headerlink" title="Reverse Words Ⅲ"></a><del>Reverse Words Ⅲ</del></h3><p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: &quot;Let&#39;s take LeetCode contest&quot;</span><br><span class="line">Output: &quot;s&#39;teL ekat edoCteeL tsetnoc&quot;</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reverseWords</span><span class="params">(self, s: str)</span> -&gt; str:</span></span><br><span class="line">        t  = s.split()</span><br><span class="line">        res = []</span><br><span class="line">        <span class="keyword">for</span> w <span class="keyword">in</span> t:</span><br><span class="line">            w = w[::<span class="number">-1</span>]</span><br><span class="line">            res.append(w)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> <span class="string">' '</span>.join(res)</span><br></pre></td></tr></table></figure>



<h3 id="Find-Subtree"><a href="#Find-Subtree" class="headerlink" title="Find Subtree"></a><del>Find Subtree</del></h3><p>Given 2 binary trees t and s, find if s has an equal subtree in t, where the structure and the values are the same. Return True if it exists, otherwise return False.</p>
<p>Here’s some starter code and an example:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Node</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, value, left=None, right=None)</span>:</span></span><br><span class="line">    self.value = value</span><br><span class="line">    self.left = left</span><br><span class="line">    self.right = right</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">__repr__</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">f"(Value: <span class="subst">&#123;self.value&#125;</span> Left: <span class="subst">&#123;self.left&#125;</span> Right: <span class="subst">&#123;self.right&#125;</span>)"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">find_subtree</span><span class="params">(s, t)</span>:</span></span><br><span class="line">  <span class="comment"># Fill this in.</span></span><br><span class="line"></span><br><span class="line">t3 = Node(<span class="number">4</span>, Node(<span class="number">3</span>), Node(<span class="number">2</span>))</span><br><span class="line">t2 = Node(<span class="number">5</span>, Node(<span class="number">4</span>), Node(<span class="number">-1</span>))</span><br><span class="line">t = Node(<span class="number">1</span>, t2, t3)</span><br><span class="line"></span><br><span class="line">s = Node(<span class="number">4</span>, Node(<span class="number">3</span>), Node(<span class="number">2</span>))</span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">Tree t:</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">   / \</span></span><br><span class="line"><span class="string">  4   5 </span></span><br><span class="line"><span class="string"> / \ / \</span></span><br><span class="line"><span class="string">3  2 4 -1</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Tree s:</span></span><br><span class="line"><span class="string">  4 </span></span><br><span class="line"><span class="string"> / \</span></span><br><span class="line"><span class="string">3  2 </span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line">print(find_subtree(s, t))</span><br><span class="line"><span class="comment"># True</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isSubtree</span><span class="params">(self, s: TreeNode, t: TreeNode)</span> -&gt; bool:</span></span><br><span class="line">        </span><br><span class="line">            <span class="comment"># self.isSubtree()</span></span><br><span class="line">        <span class="comment"># self.t = t</span></span><br><span class="line">        <span class="keyword">return</span> self.preorder(s, t) <span class="keyword">or</span> self.preorder(t, s)</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">preorder</span><span class="params">(self, root, ref)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        ans =  self.is_sametree(root, ref)</span><br><span class="line">        </span><br><span class="line">        L_has_same = self.preorder(root.left, ref)</span><br><span class="line">        R_has_same = self.preorder(root.right, ref)</span><br><span class="line">        <span class="keyword">return</span> ans <span class="keyword">or</span> L_has_same <span class="keyword">or</span> R_has_same</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">is_sametree</span><span class="params">(self, s, t)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> s <span class="keyword">and</span> <span class="keyword">not</span> t:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> s <span class="keyword">or</span> <span class="keyword">not</span> t:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> s.val == t.val <span class="keyword">and</span> self.is_sametree(s.left, t.left) <span class="keyword">and</span> self.is_sametree(s.right, t.right)</span><br></pre></td></tr></table></figure>



<h3 id="Sorted-Square-Numbers"><a href="#Sorted-Square-Numbers" class="headerlink" title="Sorted Square Numbers"></a><del>Sorted Square Numbers</del></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">def square_numbers(nums):</span><br><span class="line"> # Fill this in.</span><br><span class="line"></span><br><span class="line">print(square_numbers([-5, -3, -1, 0, 1, 4, 5]))</span><br><span class="line"># [0, 1, 1, 9, 16, 25, 25]Solve this problem in O(n) time.</span><br></pre></td></tr></table></figure>



<h3 id="Picking-up-Change"><a href="#Picking-up-Change" class="headerlink" title="Picking up Change?!"></a><del>Picking up Change?!</del></h3><h3 id="Determine-if-numbe-–-Hard-if-not-able-to-use-built-in…"><a href="#Determine-if-numbe-–-Hard-if-not-able-to-use-built-in…" class="headerlink" title="Determine if numbe – Hard if not able to use built-in…"></a>Determine if numbe – Hard if not able to use built-in…</h3><p>Given a string that may represent a number, determine if it is a number. Here’s some of examples of how the number may be presented:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&quot;123&quot; # Integer</span><br><span class="line">&quot;12.3&quot; # Floating point</span><br><span class="line">&quot;-123&quot; # Negative numbers</span><br><span class="line">&quot;-.3&quot; # Negative floating point</span><br><span class="line">&quot;1.5e5&quot; # Scientific notation</span><br></pre></td></tr></table></figure>

<p>Here’s some examples of what isn’t a proper number:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;12a&quot; # No letters</span><br><span class="line">&quot;1 2&quot; # No space between numbers</span><br><span class="line">&quot;1e1.2&quot; # Exponent can only be an integer (positive or negative or 0)</span><br></pre></td></tr></table></figure>

<p>Scientific notation requires the first number to be less than 10, however to simplify the solution assume the first number can be greater than 10. Do not parse the string with int() or any other python functions.</p>
<h2 id="Swap-bits-–-A-Neat-Bitwise-Trick-For-Swapping-Even-and-Odd-Bits"><a href="#Swap-bits-–-A-Neat-Bitwise-Trick-For-Swapping-Even-and-Odd-Bits" class="headerlink" title="Swap bits – A Neat Bitwise Trick For Swapping Even and Odd Bits"></a>Swap bits – A Neat Bitwise Trick For Swapping Even and Odd Bits</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">def swap_bits(x):</span><br><span class="line">    EVEN &#x3D; 0b10101010</span><br><span class="line">    ODD &#x3D; 0b01010101</span><br><span class="line">    return (x &amp; EVEN) &gt;&gt; 1 | (x &amp; ODD) &lt;&lt; 1</span><br></pre></td></tr></table></figure>



<h3 id="String-to-Integer-atoi"><a href="#String-to-Integer-atoi" class="headerlink" title="String to Integer(atoi)"></a>String to Integer(atoi)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">myAtoi</span><span class="params">(self, str: str)</span> -&gt; int:</span></span><br><span class="line">        t = str.strip()</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> t:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">        <span class="keyword">if</span> t[<span class="number">0</span>] <span class="keyword">not</span> <span class="keyword">in</span> <span class="string">'+-1234567890'</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        </span><br><span class="line">        flag = <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> t[<span class="number">0</span>] == <span class="string">'-'</span>:</span><br><span class="line">            <span class="keyword">if</span> len(t) == <span class="number">1</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">            flag = <span class="number">-1</span></span><br><span class="line">            t = t[<span class="number">1</span>:]</span><br><span class="line">        <span class="keyword">elif</span> t[<span class="number">0</span>] == <span class="string">'+'</span>:</span><br><span class="line">            <span class="keyword">if</span> len(t) == <span class="number">1</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">            t = t[<span class="number">1</span>:]</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> t[<span class="number">0</span>] <span class="keyword">not</span> <span class="keyword">in</span> <span class="string">"1234567890"</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># chech 0s and " "</span></span><br><span class="line">        q = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> q &lt; len(t):</span><br><span class="line">            <span class="keyword">if</span> t[q] <span class="keyword">in</span> <span class="string">"1234567890"</span>:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            q += <span class="number">1</span></span><br><span class="line">                </span><br><span class="line">        <span class="keyword">if</span> q == len(t):<span class="comment"># or q == 0:</span></span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">            </span><br><span class="line">        t = t[q:]</span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        tmp = <span class="number">10</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> idx <span class="keyword">in</span> range(len(t)):</span><br><span class="line">            <span class="keyword">if</span> t[idx] <span class="keyword">not</span> <span class="keyword">in</span> <span class="string">"1234567890"</span>:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            digit = (ord(t[idx]) - ord(<span class="string">'0'</span>))</span><br><span class="line">            <span class="comment"># print(digit)</span></span><br><span class="line">            <span class="comment"># res *= tmp</span></span><br><span class="line">            res = tmp*res + digit</span><br><span class="line">            <span class="comment"># tmp *= 10</span></span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">        ans = res*flag</span><br><span class="line">        <span class="keyword">if</span> flag == <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> min(ans, <span class="number">2</span>**<span class="number">31</span> - <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> max(ans, <span class="number">-2</span>**<span class="number">31</span>)</span><br></pre></td></tr></table></figure>



<h3 id="Rotate-Matrix"><a href="#Rotate-Matrix" class="headerlink" title="Rotate Matrix"></a><del>Rotate Matrix</del></h3><h3 id="Pow"><a href="#Pow" class="headerlink" title="Pow"></a>Pow</h3><h5 id="Wrong-This-doesn’t-solve-overflow-issue-for-2-31-2-31-1"><a href="#Wrong-This-doesn’t-solve-overflow-issue-for-2-31-2-31-1" class="headerlink" title="Wrong, This doesn’t solve overflow issue for [-2^(31), 2^31-1]"></a>Wrong, This doesn’t solve overflow issue for [-2^(31), 2^31-1]</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># import math</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">myPow</span><span class="params">(self, x: float, n: int)</span> -&gt; float:</span></span><br><span class="line">        <span class="keyword">if</span> n == <span class="number">0</span> <span class="keyword">or</span> x  == <span class="number">1</span>: </span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> n == <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> x</span><br><span class="line">        <span class="keyword">if</span> n &lt; <span class="number">0</span>:       <span class="comment">#2**(-3) ==  1/2**3 == 2* 2**(-4)</span></span><br><span class="line">            <span class="comment"># n = -(n+1)</span></span><br><span class="line">            n = abs(n) + <span class="number">1</span></span><br><span class="line">            <span class="keyword">return</span> x * (<span class="number">1</span>/self.pos_pow(x, n))</span><br><span class="line">        <span class="keyword">return</span> self.pos_pow(x, n)</span><br><span class="line">            </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">pos_pow</span><span class="params">(self, x, n)</span>:</span></span><br><span class="line">        <span class="comment"># print(x, n)</span></span><br><span class="line">        res = <span class="number">1</span>    </span><br><span class="line">        <span class="keyword">while</span> n &gt; <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">if</span> n % <span class="number">2</span> != <span class="number">0</span>:</span><br><span class="line">                res *= x</span><br><span class="line">            <span class="comment"># x = x ** 2      # <span class="doctag">TODO:</span> CAUTIOUS, Numerical result out of range for (2, -2**31)</span></span><br><span class="line">            x = x * x         <span class="comment"># SHOULD USE THIS!</span></span><br><span class="line">            n = n//<span class="number">2</span></span><br><span class="line">            </span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">    for neg number: </span></span><br><span class="line"><span class="string">    [-2**31, 2**31 -1]</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">res   base index</span></span><br><span class="line"><span class="string">1     2    9      ** --&gt; ans!</span></span><br><span class="line"><span class="string">2     4    4</span></span><br><span class="line"><span class="string">2     16   2</span></span><br><span class="line"><span class="string">2     256  1</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">1     2    10</span></span><br><span class="line"><span class="string">1     4    5</span></span><br><span class="line"><span class="string">4     16   2</span></span><br><span class="line"><span class="string">4     256  1</span></span><br><span class="line"><span class="string">    '''</span></span><br></pre></td></tr></table></figure>



<h5 id="Correct"><a href="#Correct" class="headerlink" title="Correct"></a>Correct</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">myPow</span><span class="params">(self, x: float, n: int)</span> -&gt; float:</span></span><br><span class="line">        <span class="keyword">if</span> n == <span class="number">0</span> <span class="keyword">or</span> x == <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> n == <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> x</span><br><span class="line">        <span class="keyword">if</span> n &lt; <span class="number">0</span>:</span><br><span class="line">            <span class="comment"># return XXXX # TODO</span></span><br><span class="line">            n1 = abs(n) - <span class="number">1</span>                         <span class="comment"># n == -2**31</span></span><br><span class="line">            <span class="keyword">return</span> (<span class="number">1</span>/x) * (<span class="number">1</span>/self.pos_pow(x, n1))  <span class="comment"># 2^(-4) == 1/2^4 ==  1/2 * 1/2^3</span></span><br><span class="line">        <span class="keyword">return</span> self.pos_pow(x, n)</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">pos_pow</span><span class="params">(self, base, idx)</span>:</span></span><br><span class="line">        res = <span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> idx &gt; <span class="number">0</span>:</span><br><span class="line">            <span class="comment"># print(base, idx)</span></span><br><span class="line">            <span class="keyword">if</span> idx % <span class="number">2</span> == <span class="number">1</span>:</span><br><span class="line">                res *= base</span><br><span class="line">            base *= base</span><br><span class="line">            idx //= <span class="number">2</span></span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line">        </span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">    res base    idx</span></span><br><span class="line"><span class="string">    1   2       10</span></span><br><span class="line"><span class="string">    1   4       5</span></span><br><span class="line"><span class="string">    4   16      2    </span></span><br><span class="line"><span class="string">    4   256     1</span></span><br><span class="line"><span class="string">    ans </span></span><br><span class="line"><span class="string">    '''</span></span><br></pre></td></tr></table></figure>



<h3 id="Sqrt"><a href="#Sqrt" class="headerlink" title="Sqrt"></a><del>Sqrt</del></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">mySqrt</span><span class="params">(self, x: int)</span> -&gt; int:</span></span><br><span class="line">        <span class="comment"># if x &lt;= 1:</span></span><br><span class="line">        <span class="comment">#     return x</span></span><br><span class="line">        l, r = <span class="number">0</span>, x</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span> l &lt;= r:</span><br><span class="line">            mid = l + (r-l)//<span class="number">2</span></span><br><span class="line">            print(l, r, mid)</span><br><span class="line">            <span class="keyword">if</span>  mid*mid &lt;= x &lt; (mid+<span class="number">1</span>)*(mid+<span class="number">1</span>):</span><br><span class="line">                <span class="keyword">return</span> mid</span><br><span class="line">            <span class="keyword">elif</span> mid*mid &gt; x:</span><br><span class="line">                r = mid - <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                l = mid + <span class="number">1</span></span><br></pre></td></tr></table></figure>



<h3 id="Missing-Ranges"><a href="#Missing-Ranges" class="headerlink" title="Missing Ranges"></a>Missing Ranges</h3><p>Given a sorted integer array <strong><em>nums\</em></strong>, where the range of elements are in the <strong>inclusive range</strong> <strong>[*lower*, *upper*]</strong>, return its missing ranges.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">0 1 3         50</span></span><br><span class="line"><span class="string">start       1+1 = 2   4</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findMissingRanges</span><span class="params">(self, nums: List[int], lower: int, upper: int)</span> -&gt; List[str]:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> nums:</span><br><span class="line">            <span class="keyword">return</span> [str(lower) + <span class="string">"-&gt;"</span> + str(upper)] <span class="keyword">if</span> lower != upper <span class="keyword">else</span> [str(lower)]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        res = []</span><br><span class="line">        <span class="comment"># item = ""</span></span><br><span class="line">        <span class="keyword">if</span> nums[<span class="number">0</span>] != lower:</span><br><span class="line">            <span class="comment"># print('aaaaaaa')</span></span><br><span class="line">            item = <span class="string">"&#123;&#125;-&gt;&#123;&#125;"</span>.format(lower, nums[<span class="number">0</span>]<span class="number">-1</span>) <span class="keyword">if</span> lower != nums[<span class="number">0</span>] - <span class="number">1</span> <span class="keyword">else</span> <span class="string">"&#123;&#125;"</span>.format(str(lower))</span><br><span class="line">            res.append(item)</span><br><span class="line">            </span><br><span class="line">        start, end = float(<span class="string">'-inf'</span>), float(<span class="string">'inf'</span>)</span><br><span class="line">        prev = nums[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, len(nums)):</span><br><span class="line">            <span class="keyword">if</span> nums[i] - prev &gt; <span class="number">1</span>:</span><br><span class="line">                start, end = prev + <span class="number">1</span>, nums[i] - <span class="number">1</span></span><br><span class="line">                item = <span class="string">"&#123;&#125;-&gt;&#123;&#125;"</span>.format(start, end) <span class="keyword">if</span> start != end <span class="keyword">else</span> str(end)</span><br><span class="line">                res.append(item)</span><br><span class="line">            prev = nums[i]</span><br><span class="line">        <span class="keyword">if</span> nums[<span class="number">-1</span>] != upper:</span><br><span class="line">            item = <span class="string">"&#123;&#125;-&gt;&#123;&#125;"</span>.format(nums[<span class="number">-1</span>]+<span class="number">1</span>, upper) <span class="keyword">if</span> nums[<span class="number">-1</span>] + <span class="number">1</span> != upper <span class="keyword">else</span> <span class="string">"&#123;&#125;"</span>.format(str(upper))</span><br><span class="line">            res.append(item)</span><br><span class="line">            </span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>



<h3 id="Sudoku-Check"><a href="#Sudoku-Check" class="headerlink" title="Sudoku Check"></a>Sudoku Check</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> defaultdict</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isValidSudoku</span><span class="params">(self, board: List[List[str]])</span> -&gt; bool:</span></span><br><span class="line">        </span><br><span class="line">        dict_cols = defaultdict(defaultdict)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(board)):</span><br><span class="line">            dict_row = defaultdict(str)</span><br><span class="line">            <span class="keyword">if</span> i % <span class="number">3</span> == <span class="number">0</span>:</span><br><span class="line">                dict_boxes = defaultdict(defaultdict)</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(len(board[<span class="number">0</span>])):</span><br><span class="line">                <span class="keyword">if</span> board[i][j] != <span class="string">'.'</span>:</span><br><span class="line">                    <span class="keyword">if</span> board[i][j] <span class="keyword">in</span> dict_row:</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        dict_row[board[i][j]] = <span class="literal">True</span></span><br><span class="line">                        </span><br><span class="line">                    <span class="keyword">if</span> board[i][j] <span class="keyword">in</span> dict_cols[j]:</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        dict_cols[j][board[i][j]] = <span class="literal">True</span></span><br><span class="line">                        </span><br><span class="line">                    <span class="comment"># if board[i][j] in dict_boxes</span></span><br><span class="line">                    <span class="keyword">if</span> <span class="number">0</span> &lt;= j % <span class="number">9</span> &lt;= <span class="number">2</span>:</span><br><span class="line">                        <span class="keyword">if</span> board[i][j] <span class="keyword">in</span> dict_boxes[<span class="number">0</span>]:</span><br><span class="line">                            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">                        dict_boxes[<span class="number">0</span>][board[i][j]] = <span class="literal">True</span></span><br><span class="line">                    <span class="keyword">elif</span> <span class="number">3</span> &lt;= j % <span class="number">9</span> &lt;= <span class="number">5</span>:</span><br><span class="line">                        <span class="keyword">if</span> board[i][j] <span class="keyword">in</span> dict_boxes[<span class="number">1</span>]:</span><br><span class="line">                            <span class="keyword">return</span> <span class="literal">False</span>                        </span><br><span class="line">                        dict_boxes[<span class="number">1</span>][board[i][j]] = <span class="literal">True</span></span><br><span class="line">                    <span class="keyword">elif</span> <span class="number">6</span> &lt;= j % <span class="number">9</span> &lt;= <span class="number">8</span>:</span><br><span class="line">                        <span class="keyword">if</span> board[i][j] <span class="keyword">in</span> dict_boxes[<span class="number">2</span>]:</span><br><span class="line">                            <span class="keyword">return</span> <span class="literal">False</span>                        </span><br><span class="line">                        dict_boxes[<span class="number">2</span>][board[i][j]] = <span class="literal">True</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure>



<h3 id="Sum-of-Squares"><a href="#Sum-of-Squares" class="headerlink" title="Sum of Squares"></a><del>Sum of Squares</del></h3><h3 id="RM-Duplicate-from-Sorted-Linked-List"><a href="#RM-Duplicate-from-Sorted-Linked-List" class="headerlink" title="RM Duplicate from Sorted Linked List"></a>RM Duplicate from Sorted Linked List</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">deleteDuplicates</span><span class="params">(self, head: ListNode)</span> -&gt; ListNode:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> head :</span><br><span class="line">            <span class="keyword">return</span> head</span><br><span class="line"></span><br><span class="line">        cur = head</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span> cur.next:</span><br><span class="line">            <span class="keyword">if</span> cur.next.val == cur.val: <span class="comment"># TODO check cur.next</span></span><br><span class="line">                cur.next = cur.next.next</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                cur = cur.next</span><br><span class="line">        <span class="keyword">return</span> head</span><br></pre></td></tr></table></figure>



<h3 id="N-Queens"><a href="#N-Queens" class="headerlink" title="N-Queens"></a><del>N-Queens</del></h3><h3 id="Remove-One-Layer-of-Parentheses"><a href="#Remove-One-Layer-of-Parentheses" class="headerlink" title="Remove One Layer of Parentheses"></a><del>Remove One Layer of Parentheses</del></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">algo.</span></span><br><span class="line"><span class="string">( score+1</span></span><br><span class="line"><span class="string">) -1</span></span><br><span class="line"><span class="string">res = []</span></span><br><span class="line"><span class="string">if score == 0:</span></span><br><span class="line"><span class="string">    item.pop()</span></span><br><span class="line"><span class="string">    res.append(item[1:-1])</span></span><br><span class="line"><span class="string">return ''.join(res)</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">removeOuterParentheses</span><span class="params">(self, S: str)</span> -&gt; str:</span></span><br><span class="line">        score = <span class="number">0</span></span><br><span class="line">        item = <span class="string">''</span></span><br><span class="line">        res = []</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(S)):</span><br><span class="line">            <span class="comment"># if S[j] == 0:</span></span><br><span class="line">            <span class="keyword">if</span> S[i] == <span class="string">'('</span>:</span><br><span class="line">                score += <span class="number">1</span></span><br><span class="line">            <span class="keyword">elif</span> S[i] == <span class="string">')'</span>:</span><br><span class="line">                score -= <span class="number">1</span></span><br><span class="line">            item += S[i]    <span class="comment"># '(() ...'</span></span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> score == <span class="number">0</span>:</span><br><span class="line">                res.append(item[<span class="number">1</span>:<span class="number">-1</span>])  <span class="comment"># NO OOR since slicing helps handle it</span></span><br><span class="line">                item = <span class="string">''</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">''</span>.join(res)</span><br></pre></td></tr></table></figure>



<h3 id="Count-Primes"><a href="#Count-Primes" class="headerlink" title="Count Primes"></a>Count Primes</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">0 1 2 3 4 5 6 7 8 9 10 11 </span></span><br><span class="line"><span class="string">x x v v   v   v         v</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">countPrimes</span><span class="params">(self, m: int)</span> -&gt; int:</span></span><br><span class="line">        n = m - <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> n &lt;= <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">            </span><br><span class="line">        isPrime = [<span class="literal">None</span>] + [<span class="literal">None</span>] * n</span><br><span class="line">        isPrime[<span class="number">0</span>] = isPrime[<span class="number">1</span>] = <span class="literal">False</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>, n+<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">if</span> isPrime[i] == <span class="literal">None</span>:</span><br><span class="line">                isPrime[i] = <span class="literal">True</span></span><br><span class="line">                <span class="keyword">for</span> j <span class="keyword">in</span> range(i*<span class="number">2</span>, n+<span class="number">1</span>, i):</span><br><span class="line">                    isPrime[j] = <span class="literal">False</span></span><br><span class="line">        <span class="keyword">return</span> sum(isPrime)</span><br></pre></td></tr></table></figure>



<h3 id="Inorder-Successor"><a href="#Inorder-Successor" class="headerlink" title="Inorder Successor"></a>Inorder Successor</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"># class TreeNode:</span></span><br><span class="line"><span class="comment">#     def __init__(self, x):</span></span><br><span class="line"><span class="comment">#         self.val = x</span></span><br><span class="line"><span class="comment">#         self.left = None</span></span><br><span class="line"><span class="comment">#         self.right = None</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">      5</span></span><br><span class="line"><span class="string">    3     6</span></span><br><span class="line"><span class="string">   2  4 </span></span><br><span class="line"><span class="string">'''</span>    </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># def __init__(self):</span></span><br><span class="line">        <span class="comment"># self.flag = False</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inorderSuccessor</span><span class="params">(self, root: <span class="string">'TreeNode'</span>, p: <span class="string">'TreeNode'</span>)</span> -&gt; 'TreeNode':</span> </span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">        <span class="comment"># self.result = []</span></span><br><span class="line"><span class="comment">#         self.helper(root, p, [])</span></span><br><span class="line">        <span class="keyword">return</span> self.helper(root, p.val)</span><br><span class="line"><span class="comment">#         if not self.result:</span></span><br><span class="line"><span class="comment">#             return None</span></span><br><span class="line"><span class="comment">#         else:</span></span><br><span class="line"><span class="comment">#             return self.result[0].val</span></span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">          5</span></span><br><span class="line"><span class="string">        3     33</span></span><br><span class="line"><span class="string">       2  4     40</span></span><br><span class="line"><span class="string">               34</span></span><br><span class="line"><span class="string">                 36 v</span></span><br><span class="line"><span class="string">    '''</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">helper</span><span class="params">(self, root, target)</span>:</span></span><br><span class="line">        cur = root</span><br><span class="line">        suc = <span class="literal">None</span></span><br><span class="line">        <span class="keyword">while</span> cur:</span><br><span class="line">            <span class="comment"># suc = cur</span></span><br><span class="line">            <span class="keyword">if</span> target &gt; cur.val:</span><br><span class="line">                cur = cur.right</span><br><span class="line">            <span class="keyword">elif</span> target == cur.val:</span><br><span class="line">                cur = cur.right</span><br><span class="line">                <span class="comment"># if target == cur.val:</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                suc = cur</span><br><span class="line">                cur = cur.left</span><br><span class="line">        <span class="keyword">return</span> suc</span><br></pre></td></tr></table></figure>



<h3 id="Number-of-Connected-Components-in-an-Undirected-Graph"><a href="#Number-of-Connected-Components-in-an-Undirected-Graph" class="headerlink" title="Number of Connected Components in an Undirected Graph"></a>Number of Connected Components in an Undirected Graph</h3><h3 id="Split-BST"><a href="#Split-BST" class="headerlink" title="Split BST"></a>Split BST</h3><p>Ref: </p>
<ul>
<li><a href="https://www.coursera.org/lecture/data-structures/split-and-merge-22BgE" target="_blank" rel="noopener">https://www.coursera.org/lecture/data-structures/split-and-merge-22BgE</a></li>
<li><a href="https://leetcode.com/problems/split-bst/discuss/159985/Python-DFS-tm" target="_blank" rel="noopener">https://leetcode.com/problems/split-bst/discuss/159985/Python-DFS-tm</a></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"># class TreeNode:</span></span><br><span class="line"><span class="comment">#     def __init__(self, x):</span></span><br><span class="line"><span class="comment">#         self.val = x</span></span><br><span class="line"><span class="comment">#         self.left = None</span></span><br><span class="line"><span class="comment">#         self.right = None</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">          4                 V == 2</span></span><br><span class="line"><span class="string">        /   \</span></span><br><span class="line"><span class="string">      2      6</span></span><br><span class="line"><span class="string">     / \    / \</span></span><br><span class="line"><span class="string">    1   3  5   7</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">splitBST</span><span class="params">(self, root: TreeNode, V: int)</span> -&gt; List[TreeNode]:</span></span><br><span class="line">        <span class="keyword">return</span> self.helper(root, V)</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">helper</span><span class="params">(self, root, V)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root: </span><br><span class="line">            <span class="keyword">return</span> [<span class="literal">None</span>, <span class="literal">None</span>]</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> V &lt; root.val:</span><br><span class="line">            R1, R2 = self.helper(root.left, V)    <span class="comment"># keep splitting LHS, </span></span><br><span class="line">                                             <span class="comment"># R1 means LEFT, R2 means RIGHT</span></span><br><span class="line">                                             <span class="comment"># [2-&gt;1, 3]</span></span><br><span class="line">            <span class="comment"># Merge R1 and root.right with root </span></span><br><span class="line">            self.merge(R2, root.right, root)      <span class="comment"># [3 subtree, 657, 4]</span></span><br><span class="line">            <span class="keyword">return</span> [R1, root]                       <span class="comment"># [2, 4]</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">else</span>: <span class="comment"># V &gt;= root.val</span></span><br><span class="line">            R1, R2 = self.helper(root.right, V) <span class="comment"># if V==5 or 5.5 </span></span><br><span class="line">                                                <span class="comment"># [5, 6-&gt;7]</span></span><br><span class="line">            self.merge(root.left, R1, root)          <span class="comment"># [2 subtree, 5, 4]</span></span><br><span class="line">            <span class="keyword">return</span> [root, R2]                   <span class="comment"># [4, 6]</span></span><br><span class="line">            </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">merge</span><span class="params">(self, l, r, T)</span>:</span></span><br><span class="line">        T.left = l</span><br><span class="line">        T.right = r</span><br></pre></td></tr></table></figure>



<h3 id="Find-the-Closest-Points"><a href="#Find-the-Closest-Points" class="headerlink" title="Find the Closest Points"></a>Find the Closest Points</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> math</span><br><span class="line"><span class="keyword">import</span> heapq</span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">kClosest</span><span class="params">(self, points: List[List[int]], K: int)</span> -&gt; List[List[int]]:</span></span><br><span class="line">        <span class="comment"># return self.helper_heap_KlgK(points, K)</span></span><br><span class="line">        <span class="keyword">return</span> self.helper_Q_select(points, K)</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">helper_Q_select</span><span class="params">(self, points, K)</span>:</span></span><br><span class="line">        dis = []</span><br><span class="line">        <span class="keyword">for</span> pt <span class="keyword">in</span> points:</span><br><span class="line">            dis.append(self.distance(pt, [<span class="number">0</span>,<span class="number">0</span>]))</span><br><span class="line">        </span><br><span class="line">        self.Q_select(dis, K, points) <span class="comment"># 0, len(dis)-1, K)</span></span><br><span class="line">        <span class="keyword">return</span> points[:K]</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">Q_select</span><span class="params">(self, dis, K, points)</span>:</span></span><br><span class="line">        </span><br><span class="line">        l, r = <span class="number">0</span>, len(dis)<span class="number">-1</span></span><br><span class="line">        <span class="keyword">while</span> l &lt; r:</span><br><span class="line">            meetup = self.partition(dis, l, r, points)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> meetup == K:</span><br><span class="line">                <span class="keyword">return</span> </span><br><span class="line">            <span class="keyword">elif</span> meetup &lt; K:</span><br><span class="line">                l = meetup + <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                r = meetup - <span class="number">1</span>        </span><br><span class="line">                </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">partition</span><span class="params">(self, arr, low, high, points)</span>:</span></span><br><span class="line">        <span class="comment"># def swap(x, y):</span></span><br><span class="line">        <span class="comment">#     x, y = y, x</span></span><br><span class="line">            </span><br><span class="line">        i = low - <span class="number">1</span></span><br><span class="line">        pvt = arr[high]      </span><br><span class="line">        <span class="string">'''</span></span><br><span class="line"><span class="string">              3    0 5 4 1 8 2 2</span></span><br><span class="line"><span class="string">        low              high </span></span><br><span class="line"><span class="string">        X    X X 2 Y Y Y Y </span></span><br><span class="line"><span class="string">               i         4   </span></span><br><span class="line"><span class="string">        # 0 1 2 2</span></span><br><span class="line"><span class="string">        '''</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(low, high):</span><br><span class="line">            <span class="keyword">if</span> arr[j] &lt;= pvt:</span><br><span class="line">                i += <span class="number">1</span></span><br><span class="line">                arr[i], arr[j] = arr[j], arr[i]</span><br><span class="line">                points[i], points[j] = points[j], points[i]</span><br><span class="line">                <span class="comment"># swap(arr[j], arr[i])      # NO USE</span></span><br><span class="line">                <span class="comment"># swap(points[j], points[i])</span></span><br><span class="line">            </span><br><span class="line">        <span class="comment"># swap(arr[i+1], arr[high])</span></span><br><span class="line">        <span class="comment"># swap(points[i+1], points[high])</span></span><br><span class="line">        arr[i+<span class="number">1</span>], arr[high] = arr[high], arr[i+<span class="number">1</span>]</span><br><span class="line">        points[i+<span class="number">1</span>], points[high] = points[high], points[i+<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">return</span> i+<span class="number">1</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">partitionX</span><span class="params">(self, arr, l, r, points)</span>:</span> <span class="comment"># 18, 26, 20</span></span><br><span class="line">        pvt = arr[l]</span><br><span class="line">        pvt_point = points[l]</span><br><span class="line">        i = l+<span class="number">1</span></span><br><span class="line">        j = r</span><br><span class="line">                    </span><br><span class="line">        <span class="keyword">while</span> i &lt; j:</span><br><span class="line">            <span class="string">'''</span></span><br><span class="line"><span class="string">               3 2 1 5 0 8 7 4   </span></span><br><span class="line"><span class="string">             pvt i i i</span></span><br><span class="line"><span class="string">                       j, </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">               3 2 1 0</span></span><br><span class="line"><span class="string">             pvt  </span></span><br><span class="line"><span class="string">                     i</span></span><br><span class="line"><span class="string">            '''</span>            </span><br><span class="line">            <span class="keyword">while</span> arr[i] &lt; pvt <span class="keyword">and</span> i &lt; j:</span><br><span class="line">                i += <span class="number">1</span></span><br><span class="line">            <span class="keyword">while</span> arr[j] &gt; pvt <span class="keyword">and</span> i &lt; j:</span><br><span class="line">                j -= <span class="number">1</span></span><br><span class="line">            <span class="comment"># if i &lt; j:</span></span><br><span class="line">            <span class="keyword">if</span> <span class="literal">True</span>:</span><br><span class="line">                arr[i], arr[j] = arr[j], arr[i]</span><br><span class="line">                points[i], points[j] = points[j], points[i]</span><br><span class="line">                <span class="comment"># i += 1</span></span><br><span class="line">                <span class="comment"># j -= 1</span></span><br><span class="line">        <span class="comment"># arr[l], arr[i] = arr[i], pvt   # arr[l] WRONG!</span></span><br><span class="line">        <span class="comment"># points[l], points[i] = points[i], pvt_point   # arr[l] WRONG!</span></span><br><span class="line">        <span class="keyword">return</span> j</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">helper_heap_KlgK</span><span class="params">(self, points, K)</span>:</span>  <span class="comment"># should use max-heap since we pop out unwanted ones   </span></span><br><span class="line">        l = []</span><br><span class="line">        <span class="keyword">for</span> pt <span class="keyword">in</span> points:   <span class="comment"># O(N*lg(K))</span></span><br><span class="line">            <span class="comment"># heapq._heappush_max(l, (self.distance(pt, [0,0]), pt))</span></span><br><span class="line">            heapq.heappush(l, (<span class="number">-1</span>*self.distance(pt, [<span class="number">0</span>,<span class="number">0</span>]), pt))</span><br><span class="line">            <span class="keyword">if</span> len(l) == K+<span class="number">1</span>:</span><br><span class="line">                heapq.heappop(l)</span><br><span class="line">        </span><br><span class="line">        Q = deque()</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(len(l)):</span><br><span class="line">            _, pt = heapq.heappop(l)</span><br><span class="line">            Q.appendleft(pt)</span><br><span class="line">            </span><br><span class="line">        <span class="keyword">return</span> Q</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">helper_heap_NlgN</span><span class="params">(self, points, K)</span>:</span></span><br><span class="line">        </span><br><span class="line">        l = []</span><br><span class="line">        <span class="keyword">for</span> pt <span class="keyword">in</span> points:   <span class="comment"># O(N*lg(N))</span></span><br><span class="line">            <span class="comment"># l.append(self.distance(pt, [0,0]), pt)</span></span><br><span class="line">            heapq.heappush(l, (self.distance(pt, [<span class="number">0</span>,<span class="number">0</span>]), pt))</span><br><span class="line">            </span><br><span class="line">        ans = []</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(K):</span><br><span class="line">            _, pt = heapq.heappop(l)</span><br><span class="line">            ans.append(pt)</span><br><span class="line">            </span><br><span class="line">        <span class="keyword">return</span> ans</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">kClosest_old</span><span class="params">(self, points: List[List[int]], K: int)</span> -&gt; List[List[int]]:</span></span><br><span class="line">        <span class="string">''' N*log(N)</span></span><br><span class="line"><span class="string">        # Q-sort tech</span></span><br><span class="line"><span class="string">        # [dis1, dis2, dis3]</span></span><br><span class="line"><span class="string">        if not points or not K:</span></span><br><span class="line"><span class="string">            return 0</span></span><br><span class="line"><span class="string">        l = []</span></span><br><span class="line"><span class="string">        for xy in points:</span></span><br><span class="line"><span class="string">            heapq.heappush(l, (self.distance(xy), xy[0], xy[1]))  # n*log(n)</span></span><br><span class="line"><span class="string">            # if len(l) &gt; K:</span></span><br><span class="line"><span class="string">            #     heapq._heappop_max(l)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        # map(points, self.distance)</span></span><br><span class="line"><span class="string">        # for point in points:</span></span><br><span class="line"><span class="string">        #     self.distance(point)</span></span><br><span class="line"><span class="string">        </span></span><br><span class="line"><span class="string">        res = []</span></span><br><span class="line"><span class="string">        for i in range(K):</span></span><br><span class="line"><span class="string">            dis, x, y = heapq.heappop(l)</span></span><br><span class="line"><span class="string">            res.append([x,y])</span></span><br><span class="line"><span class="string">            </span></span><br><span class="line"><span class="string">        return res</span></span><br><span class="line"><span class="string">        '''</span></span><br><span class="line">        l = []</span><br><span class="line">        <span class="keyword">for</span> xy <span class="keyword">in</span> points:</span><br><span class="line">            dist = self.distance(xy)</span><br><span class="line">            dist = <span class="number">-1</span>*dist</span><br><span class="line">            <span class="keyword">if</span> len(l) &lt;= K<span class="number">-1</span>:</span><br><span class="line">                heapq.heappush(l, (dist, xy))</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="comment"># print('---', dist)</span></span><br><span class="line">                <span class="keyword">if</span> dist &gt; l[<span class="number">0</span>][<span class="number">0</span>]:</span><br><span class="line">                    heapq.heappop(l)</span><br><span class="line">                    heapq.heappush(l, (dist, xy))</span><br><span class="line">                    </span><br><span class="line">        res = []</span><br><span class="line">        <span class="comment"># for i in range(len(l)):</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(K):</span><br><span class="line">            res.append(heapq.heappop(l)[<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line">            </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">distance</span><span class="params">(self, xy, xy2=[<span class="number">0</span>,<span class="number">0</span>])</span>:</span></span><br><span class="line">        <span class="keyword">return</span> math.sqrt((xy[<span class="number">0</span>]-xy2[<span class="number">0</span>])**<span class="number">2</span> + (xy[<span class="number">1</span>]-xy2[<span class="number">1</span>])**<span class="number">2</span>)<span class="comment">#, xy[0], xy[1]</span></span><br></pre></td></tr></table></figure>

<p><strong>For Quick-Select Complexity Analysis</strong></p>
<ul>
<li>Time Complexity: <em>O</em>(<em>N</em>) in <em>average case</em> complexity, where <em>N</em> is the length of <code>points</code>., worst when O(N^2)</li>
<li>Space Complexity: <em>O</em>(<em>N</em>).</li>
</ul>
<h3 id="Duplicate-Subtrees"><a href="#Duplicate-Subtrees" class="headerlink" title="Duplicate Subtrees"></a>Duplicate Subtrees</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> defaultdict</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findDuplicateSubtrees</span><span class="params">(self, root: TreeNode)</span> -&gt; List[TreeNode]:</span></span><br><span class="line">        </span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        serialize each node in post order</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        self.mapping = defaultdict(int)</span><br><span class="line">        self.res = []</span><br><span class="line">        self.helper(root)</span><br><span class="line">        <span class="keyword">return</span> self.res</span><br><span class="line">        </span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">                1</span></span><br><span class="line"><span class="string">       /                    \</span></span><br><span class="line"><span class="string">      2 (2 (4 # #) #)         3</span></span><br><span class="line"><span class="string">     /          / \</span></span><br><span class="line"><span class="string">    4 (4 # #)      2   4</span></span><br><span class="line"><span class="string">                   /</span></span><br><span class="line"><span class="string">                  4 (4 # #)</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">helper</span><span class="params">(self, root)</span>:</span></span><br><span class="line">        <span class="comment"># post order </span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"#"</span></span><br><span class="line">        <span class="comment"># if not root.left and not root.right:</span></span><br><span class="line">            </span><br><span class="line">        </span><br><span class="line">        L = self.helper(root.left)</span><br><span class="line">        R = self.helper(root.right)</span><br><span class="line">        </span><br><span class="line">        pattern = <span class="string">"(&#123;&#125; &#123;&#125; &#123;&#125;)"</span>.format(root.val, L, R)</span><br><span class="line">        <span class="comment"># 4 # #</span></span><br><span class="line">        self.mapping[pattern] += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> self.mapping[pattern] == <span class="number">2</span>:</span><br><span class="line">            self.res += [root]    </span><br><span class="line">        <span class="keyword">return</span> pattern</span><br></pre></td></tr></table></figure>



<h3 id="K-Closest-Elements"><a href="#K-Closest-Elements" class="headerlink" title="K Closest Elements"></a>K Closest Elements</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findClosestElements</span><span class="params">(self, arr: List[int], k: int, x: int)</span> -&gt; List[int]:</span></span><br><span class="line">        <span class="comment"># use a max-heap to maintain </span></span><br><span class="line">        <span class="comment"># return self.helper_random_when_tie(arr, k, x)</span></span><br><span class="line">        <span class="keyword">return</span> self.helper(arr, k, x)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">helper</span><span class="params">(self, arr, k, x)</span>:</span></span><br><span class="line">        num_rm = len(arr) - k</span><br><span class="line">        l, r = <span class="number">0</span>, len(arr)<span class="number">-1</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(num_rm):</span><br><span class="line">            <span class="keyword">if</span> abs(arr[l]-x) &lt;= abs(arr[r]-x):</span><br><span class="line">                r -= <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                l += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> arr[l:r+<span class="number">1</span>]</span><br><span class="line">  ref: https://www.bilibili.com/video/av92867152?from=search&amp;seid=10589543388785979484</span><br></pre></td></tr></table></figure>



<h3 id="Index-of-Larger-Next-Number"><a href="#Index-of-Larger-Next-Number" class="headerlink" title="Index of Larger Next Number"></a>Index of Larger Next Number</h3><p><img src="https://tva1.sinaimg.cn/large/00831rSTgy1gd2z6g4039j318i0r4h4c.jpg" alt="image-20200322202508690"></p>
<h3 id="Number-of-Meeting-Rooms"><a href="#Number-of-Meeting-Rooms" class="headerlink" title="Number of Meeting Rooms"></a>Number of Meeting Rooms</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">minMeetingRooms</span><span class="params">(self, intervals: List[List[int]])</span> -&gt; int:</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> intervals:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    arr = sorted(intervals, key=<span class="keyword">lambda</span> x: x[<span class="number">0</span>])</span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    0   5   10.  15   20.  25.  30     </span></span><br><span class="line"><span class="string">    s.                           e </span></span><br><span class="line"><span class="string">        s    e</span></span><br><span class="line"><span class="string">                 s     e </span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    count = <span class="number">0</span></span><br><span class="line">    ends = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(arr)):</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> ends:</span><br><span class="line">            ends.append(arr[i][<span class="number">1</span>])</span><br><span class="line">            count += <span class="number">1</span></span><br><span class="line">        <span class="comment"># can use while, to compare arr[i][0] with all ends, but we dont' have to store so manu </span></span><br><span class="line">        <span class="comment"># but if it's ends is sorted ACS, we can compare only once , so , use min-heap</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="comment"># if ends[0] &lt; arr[i][1]:</span></span><br><span class="line">            <span class="keyword">if</span> ends[<span class="number">0</span>] &lt;= arr[i][<span class="number">0</span>]:    </span><br><span class="line">                <span class="string">"""結束的那瞬間跟別人開始時一樣是OK的，第二組人馬還是可以用"""</span></span><br><span class="line">                <span class="comment"># count += 1</span></span><br><span class="line">                heapq.heapreplace(ends, arr[i][<span class="number">1</span>])</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                count += <span class="number">1</span></span><br><span class="line">                heapq.heappush(ends, arr[i][<span class="number">1</span>])</span><br><span class="line">        </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> count</span><br></pre></td></tr></table></figure>

<h3 id="Primes"><a href="#Primes" class="headerlink" title="Primes"></a><del>Primes</del></h3><h3 id="Multiply-Strings"><a href="#Multiply-Strings" class="headerlink" title="Multiply Strings"></a>Multiply Strings</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">multiply</span><span class="params">(self, num1: str, num2: str)</span> -&gt; str:</span></span><br><span class="line">        a = self.string2num(num1)</span><br><span class="line">        b = self.string2num(num2)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> str(a*b)</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">string2num</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        ret = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(n)):</span><br><span class="line">            digit = ord(n[i]) - ord(<span class="string">'0'</span>)</span><br><span class="line">            ret = <span class="number">10</span>*ret + digit</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> ret</span><br></pre></td></tr></table></figure>



<h3 id="Remove-Adjacent-Duplicate-Characters"><a href="#Remove-Adjacent-Duplicate-Characters" class="headerlink" title="Remove Adjacent Duplicate Characters"></a>Remove Adjacent Duplicate Characters</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">removeDuplicates</span><span class="params">(self, S: str)</span> -&gt; str:</span></span><br><span class="line">        <span class="keyword">return</span> self.helper2(S)</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">helper2</span><span class="params">(self, S)</span>:</span></span><br><span class="line">        <span class="comment"># if len(S)</span></span><br><span class="line">        tmp = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(S)):</span><br><span class="line">            <span class="keyword">if</span> tmp <span class="keyword">and</span> tmp[<span class="number">-1</span>] == S[i]:</span><br><span class="line">                tmp.pop()</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                tmp.append(S[i])</span><br><span class="line">                </span><br><span class="line">        <span class="keyword">return</span> <span class="string">''</span>.join(tmp)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">removeDuplicates</span><span class="params">(self, s: str, k: int)</span> -&gt; str:</span>  </span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span>.join(self.helper(s, k))</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">helper</span><span class="params">(self, s, k)</span>:</span></span><br><span class="line">        stack = [[<span class="string">'#'</span>, <span class="number">0</span>]]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(s)):</span><br><span class="line">            <span class="keyword">if</span> stack[<span class="number">-1</span>][<span class="number">0</span>] != s[i]:</span><br><span class="line">                stack.append([s[i], <span class="number">1</span>])</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="comment"># stack[-1] = [stack[-1][0], stack[-1][1]+1]</span></span><br><span class="line">                stack[<span class="number">-1</span>][<span class="number">1</span>] += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> stack[<span class="number">-1</span>][<span class="number">1</span>] == k:</span><br><span class="line">                stack.pop()</span><br><span class="line">        res = <span class="string">''</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(len(stack)):</span><br><span class="line">            res += stack[j][<span class="number">0</span>] * stack[j][<span class="number">1</span>]</span><br><span class="line">            </span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>



<h3 id="Common-Characters"><a href="#Common-Characters" class="headerlink" title="Common Characters"></a>Common Characters</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> Counter, defaultdict</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">commonChars</span><span class="params">(self, A: List[str])</span> -&gt; List[str]:</span></span><br><span class="line">        </span><br><span class="line">        c_maps = Counter(A[<span class="number">0</span>])</span><br><span class="line">        <span class="comment"># keys, values = c_maps.keys(), c_maps.values()</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, len(A)):</span><br><span class="line">            ret = defaultdict(int)</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(len(A[i])):</span><br><span class="line">                <span class="keyword">if</span> A[i][j] <span class="keyword">in</span> c_maps <span class="keyword">and</span> c_maps[A[i][j]] &gt; <span class="number">0</span>:</span><br><span class="line">                    ret[A[i][j]] += <span class="number">1</span></span><br><span class="line">                    c_maps[A[i][j]] -= <span class="number">1</span></span><br><span class="line">            c_maps = ret</span><br><span class="line">        </span><br><span class="line">        res = <span class="string">''</span></span><br><span class="line">        <span class="keyword">for</span> k <span class="keyword">in</span> ret:</span><br><span class="line">            res += k * ret[k]</span><br><span class="line">            </span><br><span class="line">        <span class="keyword">return</span> list(res)</span><br></pre></td></tr></table></figure>



<h3 id="Intersection-of-lists"><a href="#Intersection-of-lists" class="headerlink" title="Intersection of lists"></a>Intersection of lists</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">arraysIntersection</span><span class="params">(self, arr1: List[int], arr2: List[int], arr3: List[int])</span> -&gt; List[int]:</span></span><br><span class="line">        <span class="keyword">return</span> self.helper2(arr1, arr2, arr3)</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">helper2</span><span class="params">(self, arr1, arr2, arr3)</span>:</span></span><br><span class="line">        inter = [<span class="number">0</span>] * <span class="number">2001</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">foo</span><span class="params">(arr)</span>:</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> arr:</span><br><span class="line">                inter[i] += <span class="number">1</span></span><br><span class="line">        foo(arr1)</span><br><span class="line">        foo(arr2)</span><br><span class="line">        foo(arr3)</span><br><span class="line">        </span><br><span class="line">        res = []</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(len(inter)):</span><br><span class="line">            <span class="keyword">if</span> inter[j] == <span class="number">3</span>:</span><br><span class="line">                res.append(j)</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;number[]&#125;</span> <span class="variable">arr1</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;number[]&#125;</span> <span class="variable">arr2</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;number[]&#125;</span> <span class="variable">arr3</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;number[]&#125;</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> arraysIntersection = <span class="function"><span class="keyword">function</span>(<span class="params">arr1, arr2, arr3</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> helper(arr1, arr2, arr3);</span><br><span class="line">    <span class="comment">// return Array('aaa');</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> helper = <span class="function"><span class="keyword">function</span>(<span class="params">arr1, arr2, arr3</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// console.log('aaa');</span></span><br><span class="line">    <span class="keyword">let</span> l = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">2001</span>);</span><br><span class="line">    l.fill(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">of</span> arr1) l[i]++;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j <span class="keyword">of</span> arr2) l[j]++;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> res = []</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> k <span class="keyword">of</span> arr3) &#123;</span><br><span class="line">        <span class="keyword">if</span> (l[k] == <span class="number">2</span>) res.push(k);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// console.log(res);</span></span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; arraysIntersection(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; arr1, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; arr2, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; arr3) &#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; arr12;</span><br><span class="line">        set_intersection(arr1.begin(), arr1.end(), arr2.begin(), arr2.end(), back_inserter(arr12));</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; res;</span><br><span class="line">        set_intersection(arr12.begin(), arr12.end(), arr3.begin(), arr3.end(), back_inserter(res));</span><br><span class="line">        <span class="keyword">return</span> res;        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



<h3 id="Matrix-Transpose"><a href="#Matrix-Transpose" class="headerlink" title="Matrix Transpose"></a><del>Matrix Transpose</del></h3><h3 id="Minimum-Number-of-Operations"><a href="#Minimum-Number-of-Operations" class="headerlink" title="Minimum Number of Operations"></a><del>Minimum Number of Operations</del></h3><h3 id="Remove-Character-to-Create-Palindrome"><a href="#Remove-Character-to-Create-Palindrome" class="headerlink" title="Remove Character to Create Palindrome"></a><del>Remove Character to Create Palindrome</del></h3><p>==&gt; Turn into LCS if num of deletion is not limited</p>
<h3 id="Shortest-Distance-to-a-Character"><a href="#Shortest-Distance-to-a-Character" class="headerlink" title="Shortest Distance to a Character"></a>Shortest Distance to a Character</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">shortestToChar</span><span class="params">(self, S: str, C: str)</span> -&gt; List[int]:</span></span><br><span class="line">        <span class="keyword">return</span> self.helper(S, C)</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">helper</span><span class="params">(self, S, C)</span>:</span></span><br><span class="line">        l = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(S)):</span><br><span class="line">            <span class="keyword">if</span> S[i] == C:</span><br><span class="line">                l.append(i)</span><br><span class="line">                </span><br><span class="line">        print(l)</span><br><span class="line">        <span class="comment"># res = [float('inf')] * len(S)      </span></span><br><span class="line">        res = []</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(len(S)):   <span class="comment"># O(N) since len(l) is constant</span></span><br><span class="line">            res.append(min([abs(j-x) <span class="keyword">for</span> x <span class="keyword">in</span> l]))</span><br><span class="line">            <span class="comment"># for idx in range(len(l)):</span></span><br><span class="line">            <span class="comment">#     res[j] = min(abs(j-l[idx]), res[j])</span></span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>



<h3 id="Convert-to-Hexadecimal"><a href="#Convert-to-Hexadecimal" class="headerlink" title="Convert to Hexadecimal"></a>Convert to Hexadecimal</h3><h3 id="Convert-Fraction-to-Decimal"><a href="#Convert-Fraction-to-Decimal" class="headerlink" title="Convert Fraction to Decimal"></a>Convert Fraction to Decimal</h3><h3 id=""><a href="#" class="headerlink" title=""></a></h3><h3 id="-1"><a href="#-1" class="headerlink" title=""></a></h3></div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2020/02/27/Web/2020-02-27-Web%20GIS%20Go/">Web/2020-02-27-Web GIS Go</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-02-27</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/WebGIS/">WebGIS</a></span><div class="content"><p><img src="https://tva1.sinaimg.cn/large/00831rSTgy1gcc9u69spxj31iw0u0e81.jpg" alt="image-20200228180339584"></p>
<h3 id="3rd-Party-Vendors-APIs"><a href="#3rd-Party-Vendors-APIs" class="headerlink" title="3rd Party Vendors APIs"></a>3rd Party Vendors APIs</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> geopy</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[s <span class="keyword">for</span> s <span class="keyword">in</span> dir(geopy.geocoders) <span class="keyword">if</span> s[<span class="number">0</span>].isupper()]</span><br><span class="line">[<span class="string">'ArcGIS'</span>, <span class="string">'AzureMaps'</span>, <span class="string">'BANFrance'</span>, <span class="string">'Baidu'</span>, <span class="string">'Bing'</span>, <span class="string">'DataBC'</span>, <span class="string">'GeoNames'</span>, <span class="string">'GeocodeEarth'</span>, <span class="string">'GeocodeFarm'</span>, <span class="string">'GeocoderNotFound'</span>, <span class="string">'Geolake'</span>, <span class="string">'GoogleV3'</span>, <span class="string">'Here'</span>, <span class="string">'IGNFrance'</span>, <span class="string">'LiveAddress'</span>, <span class="string">'MapBox'</span>, <span class="string">'Nominatim'</span>, <span class="string">'OpenCage'</span>, <span class="string">'OpenMapQuest'</span>, <span class="string">'Pelias'</span>, <span class="string">'Photon'</span>, <span class="string">'PickPoint'</span>, <span class="string">'SERVICE_TO_GEOCODER'</span>, <span class="string">'TomTom'</span>, <span class="string">'What3Words'</span>, <span class="string">'Yandex'</span>]</span><br><span class="line"><span class="comment"># ref: https://gnss.help/2019/10/20/geopy-introduce/index.html</span></span><br></pre></td></tr></table></figure>



<h3 id="Geocode-for-Location"><a href="#Geocode-for-Location" class="headerlink" title="Geocode for Location"></a>Geocode for Location</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> geopy.geocoders <span class="keyword">import</span> Nominatim</span><br><span class="line">geolocator = Nominatim(user_agent=<span class="string">"my-application"</span>)</span><br><span class="line"><span class="comment"># Nominatim 類為對 OpenStreetMap 服務的實現與封裝。</span></span><br><span class="line">location = geolocator.geocode(<span class="string">"台北101"</span>)</span><br><span class="line">print(location.address)</span><br><span class="line">print(location.latitude, location.longitude)</span><br><span class="line">print(location.raw)</span><br></pre></td></tr></table></figure>

<pre><code>台北101, 7, 信義路五段, 西村里, 臺北市, 信義區, 臺北市, 11049, Taiwan
25.03368625 121.56481033101315
{&apos;place_id&apos;: 131652329, &apos;licence&apos;: &apos;Data © OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright&apos;, &apos;osm_type&apos;: &apos;way&apos;, &apos;osm_id&apos;: 198637969, &apos;boundingbox&apos;: [&apos;25.0333741&apos;, &apos;25.0339529&apos;, &apos;121.5644934&apos;, &apos;121.5651265&apos;], &apos;lat&apos;: &apos;25.03368625&apos;, &apos;lon&apos;: &apos;121.56481033101315&apos;, &apos;display_name&apos;: &apos;台北101, 7, 信義路五段, 西村里, 臺北市, 信義區, 臺北市, 11049, Taiwan&apos;, &apos;class&apos;: &apos;building&apos;, &apos;type&apos;: &apos;commercial&apos;, &apos;importance&apos;: 0.6234659627195251}</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">location = geolocator.geocode(<span class="string">"麗山高中"</span>)</span><br><span class="line">print(location.address)</span><br><span class="line">print(location.latitude, location.longitude)</span><br><span class="line">print(location.raw)</span><br></pre></td></tr></table></figure>

<pre><code>麗山高中, 100, 環山路二段, 港富里, 內湖科技園區, 內湖區, 臺北市, 114, Taiwan
25.0852582 121.57789295239849
{&apos;place_id&apos;: 235790759, &apos;licence&apos;: &apos;Data © OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright&apos;, &apos;osm_type&apos;: &apos;relation&apos;, &apos;osm_id&apos;: 4790964, &apos;boundingbox&apos;: [&apos;25.0839322&apos;, &apos;25.0865509&apos;, &apos;121.5765468&apos;, &apos;121.5789789&apos;], &apos;lat&apos;: &apos;25.0852582&apos;, &apos;lon&apos;: &apos;121.57789295239849&apos;, &apos;display_name&apos;: &apos;麗山高中, 100, 環山路二段, 港富里, 內湖科技園區, 內湖區, 臺北市, 114, Taiwan&apos;, &apos;class&apos;: &apos;amenity&apos;, &apos;type&apos;: &apos;school&apos;, &apos;importance&apos;: 0.41093879814957734, &apos;icon&apos;: &apos;https://nominatim.openstreetmap.org/images/mapicons/education_school.p.20.png&apos;}</code></pre><h3 id="Distance"><a href="#Distance" class="headerlink" title="Distance"></a>Distance</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># from geopy.distance import vincenty</span></span><br><span class="line"><span class="keyword">from</span> geopy.distance <span class="keyword">import</span> distance, geodesic, great_circle</span><br><span class="line">oneOone = (<span class="number">25.03368625</span>, <span class="number">121.56481033101315</span>)</span><br><span class="line">home = (<span class="number">25.0852582</span>, <span class="number">121.57789295239849</span>)</span><br><span class="line">print(distance(oneOone, home))</span><br><span class="line">print(geodesic(oneOone, home))</span><br><span class="line">a = geodesic(oneOone, home)</span><br><span class="line">print(a.kilometers)</span><br><span class="line">print(great_circle(oneOone, home))    <span class="comment"># 0.5% Error, Quick, 1/20 of geodesic time</span></span><br></pre></td></tr></table></figure>

<pre><code>5.863348200787801 km
5.863348200787801 km
5.863348200787801
5.884012063917416 km</code></pre><h3 id="Reverse"><a href="#Reverse" class="headerlink" title="Reverse"></a>Reverse</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">location = geolocator.reverse(<span class="string">"39.90733345,116.391244079988"</span>)</span><br><span class="line">print(location.address)</span><br></pre></td></tr></table></figure>

<p>天安门, 1, 西长安街, 北京市, 东城区, 北京市, 100010, China 中国</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line">print(json.dumps(location.raw, indent=<span class="number">4</span>, ensure_ascii=<span class="literal">False</span>))</span><br></pre></td></tr></table></figure>

<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"place_id"</span>: <span class="number">235962976</span>,</span><br><span class="line">    <span class="attr">"licence"</span>: <span class="string">"Data © OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright"</span>,</span><br><span class="line">    <span class="attr">"osm_type"</span>: <span class="string">"relation"</span>,</span><br><span class="line">    <span class="attr">"osm_id"</span>: <span class="number">8847697</span>,</span><br><span class="line">    <span class="attr">"lat"</span>: <span class="string">"39.907359"</span>,</span><br><span class="line">    <span class="attr">"lon"</span>: <span class="string">"116.39126301779459"</span>,</span><br><span class="line">    <span class="attr">"display_name"</span>: <span class="string">"天安门, 1, 西长安街, 北京市, 东城区, 北京市, 100010, China 中国"</span>,</span><br><span class="line">    <span class="attr">"address"</span>: &#123;</span><br><span class="line">        <span class="attr">"address29"</span>: <span class="string">"天安门"</span>,</span><br><span class="line">        <span class="attr">"house_number"</span>: <span class="string">"1"</span>,</span><br><span class="line">        <span class="attr">"road"</span>: <span class="string">"西长安街"</span>,</span><br><span class="line">        <span class="attr">"city"</span>: <span class="string">"东城区"</span>,</span><br><span class="line">        <span class="attr">"state"</span>: <span class="string">"北京市"</span>,</span><br><span class="line">        <span class="attr">"postcode"</span>: <span class="string">"100010"</span>,</span><br><span class="line">        <span class="attr">"country"</span>: <span class="string">"China 中国"</span>,</span><br><span class="line">        <span class="attr">"country_code"</span>: <span class="string">"cn"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"boundingbox"</span>: [</span><br><span class="line">        <span class="string">"39.9071482"</span>,</span><br><span class="line">        <span class="string">"39.9075289"</span>,</span><br><span class="line">        <span class="string">"116.3905678"</span>,</span><br><span class="line">        <span class="string">"116.3919619"</span></span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2020/02/27/jupyter-demo/2020-02-28-POI/">jupyter-demo/2020-02-28-POI</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-02-27</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Jupy-Demo/">Jupy-Demo</a></span><div class="content"><iframe src="https://nbviewer.jupyter.org/github/Joecth/Joecth.github.io/blob/hexo-melody/source/_posts/jupyter-demo/poi.ipynb" width="100%" height="1000"></iframe>


<h3 id="Binder"><a href="#Binder" class="headerlink" title="Binder:"></a>Binder:</h3><p><a href="https://hub.gke.mybinder.org/user/joecth-joecth.github.io-48awaq7m/notebooks/source/_posts/jupyter-demo/poi.ipynb" target="_blank" rel="noopener">https://hub.gke.mybinder.org/user/joecth-joecth.github.io-48awaq7m/notebooks/source/_posts/jupyter-demo/poi.ipynb</a></p>
</div><hr></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-chevron-left"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/60/">60</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2013 - 2020 By Joe Huang</div><div class="framework-info"><span>Driven - </span><a href="http://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody" target="_blank" rel="noopener"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_site_uv"><i class="fa fa-user"></i><span id="busuanzi_value_site_uv"></span><span></span></span><span class="footer-separator">|</span><span id="busuanzi_container_site_pv"><i class="fa fa-eye"></i><span id="busuanzi_value_site_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.6.1"></script><script src="/js/fancybox.js?version=1.6.1"></script><script src="/js/sidebar.js?version=1.6.1"></script><script src="/js/copy.js?version=1.6.1"></script><script src="/js/fireworks.js?version=1.6.1"></script><script src="/js/transition.js?version=1.6.1"></script><script src="/js/scroll.js?version=1.6.1"></script><script src="/js/head.js?version=1.6.1"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script></body></html>