<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content=""><meta name="keywords" content=""><meta name="author" content="Joe Huang"><meta name="copyright" content="Joe Huang"><title>Awaken Desparado</title><link rel="shortcut icon" href="/melody-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.6.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.6.1"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://www.google-analytics.com"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-180692466-1', 'auto');
ga('send', 'pageview');</script><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  }
} </script><meta name="generator" content="Hexo 4.2.1"></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="false"><div class="author-info"><div class="author-info__avatar text-center"><img src="/img/avatar.png"></div><div class="author-info__name text-center">Joe Huang</div><div class="author-info__description text-center"></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">406</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">Tags</span><span class="pull-right">26</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">Categories</span><span class="pull-right">73</span></a></div></div></div><nav class="no-bg" id="nav"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">Awaken Desparado</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a></span><span class="pull-right"></span></div><div id="site-info"><div id="site-title">Awaken Desparado</div><div id="site-sub-title"></div></div></nav><div id="content-outer"><div class="layout" id="content-inner"><div class="recent-post-item article-container"><a class="article-title" href="/2019/07/26/Algo.%20Ult./BiBFS-arrangement/">Algo. Ult./BiBFS-arrangement</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-07-26</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/AlgoUlt/">AlgoUlt.</a></span><div class="content"><h1 id="Bi-BFS"><a href="#Bi-BFS" class="headerlink" title="Bi-BFS"></a>Bi-BFS</h1><h3 id="LC1197-Minimum-Knight-Moves"><a href="#LC1197-Minimum-Knight-Moves" class="headerlink" title="LC1197 Minimum Knight Moves"></a>LC1197 Minimum Knight Moves</h3><p>In an <strong>infinite</strong> chess board with coordinates from <code>-infinity</code> to <code>+infinity</code>, you have a <strong>knight</strong> at square <code>[0, 0]</code>.</p>
<p>A knight has 8 possible moves it can make, as illustrated below. Each move is two squares in a cardinal direction, then one square in an orthogonal direction.</p>
<p><img src="https://tva1.sinaimg.cn/large/e6c9d24egy1h2ufl4y2kzj20ba0ba3yu.jpg" alt="img"></p>
<p>Return <em>the minimum number of steps needed to move the knight to the square</em> <code>[x, y]</code>. It is guaranteed the answer exists.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: x &#x3D; 2, y &#x3D; 1</span><br><span class="line">Output: 1</span><br><span class="line">Explanation: [0, 0] → [2, 1]</span><br></pre></td></tr></table></figure>

<p><strong>Example 2:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: x &#x3D; 5, y &#x3D; 5</span><br><span class="line">Output: 4</span><br><span class="line">Explanation: [0, 0] → [2, 1] → [4, 2] → [3, 4] → [5, 5]</span><br></pre></td></tr></table></figure>



<p><strong>Constraints:</strong></p>
<ul>
<li><code>-300 &lt;= x, y &lt;= 300</code></li>
<li><code>0 &lt;= |x| + |y| &lt;= 300</code></li>
</ul>
<h4 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">DIRECTIONS = [</span><br><span class="line">                [<span class="number">1</span>, <span class="number">2</span>], [<span class="number">1</span>, <span class="number">-2</span>], [<span class="number">-1</span>, <span class="number">2</span>], [<span class="number">-1</span>, <span class="number">-2</span>],</span><br><span class="line">                [<span class="number">2</span>, <span class="number">1</span>], [<span class="number">2</span>, <span class="number">-1</span>], [<span class="number">-2</span>, <span class="number">1</span>], [<span class="number">-2</span>, <span class="number">-1</span>],</span><br><span class="line">               ]</span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minKnightMoves</span><span class="params">(self, x: int, y: int)</span> -&gt; int:</span></span><br><span class="line">        <span class="comment"># return self.my_20220602(x, y) # AC</span></span><br><span class="line">        <span class="keyword">return</span> self.my_20220602B(x, y)  <span class="comment"># AC</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">my_20220602B</span><span class="params">(self, x, y)</span>:</span></span><br><span class="line">        que = deque([(<span class="number">0</span>, <span class="number">0</span>)])</span><br><span class="line">        <span class="comment"># visited = &#123;(0, 0): 0&#125;</span></span><br><span class="line">        visited = set([(<span class="number">0</span>, <span class="number">0</span>)])</span><br><span class="line">        back_que = deque([(x, y)])</span><br><span class="line">        back_visited = set([(x, y)])</span><br><span class="line">        steps = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> que:</span><br><span class="line">            <span class="keyword">if</span> len(que) &gt; len(back_que):</span><br><span class="line">                que, back_que = back_que, que</span><br><span class="line">                visited, back_visited = back_visited, visited</span><br><span class="line">                </span><br><span class="line">            len_que = len(que)</span><br><span class="line">            <span class="keyword">for</span> _ <span class="keyword">in</span> range(len_que):</span><br><span class="line">                i, j = que.popleft()</span><br><span class="line">                <span class="comment"># if (i, j) == (x, y):</span></span><br><span class="line">                <span class="comment">#     return steps</span></span><br><span class="line">                <span class="keyword">if</span> (i, j) <span class="keyword">in</span> back_visited:</span><br><span class="line">                    <span class="keyword">return</span> steps</span><br><span class="line">                <span class="keyword">for</span> di, dj <span class="keyword">in</span> DIRECTIONS:</span><br><span class="line">                    ni, nj = i + di, j + dj</span><br><span class="line">                    <span class="comment"># if 0 &lt;= ni &lt; </span></span><br><span class="line">                    <span class="keyword">if</span> (ni, nj) <span class="keyword">not</span> <span class="keyword">in</span> visited:</span><br><span class="line">                        que.append((ni, nj))</span><br><span class="line">                        visited.add((ni, nj))</span><br><span class="line">            steps += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">my_20220602</span><span class="params">(self, x, y)</span>:</span></span><br><span class="line">        que = deque([(<span class="number">0</span>, <span class="number">0</span>)])</span><br><span class="line">        visited = set([(<span class="number">0</span>, <span class="number">0</span>)])</span><br><span class="line">        <span class="comment"># visited[(0, 0)] =</span></span><br><span class="line">        steps = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> que:</span><br><span class="line">            len_que = len(que)</span><br><span class="line">            <span class="keyword">for</span> _ <span class="keyword">in</span> range(len_que):</span><br><span class="line">                i, j = que.popleft()</span><br><span class="line">                <span class="keyword">if</span> (i, j) == (x, y):</span><br><span class="line">                    <span class="keyword">return</span> steps</span><br><span class="line">                <span class="keyword">for</span> di, dj <span class="keyword">in</span> DIRECTIONS:</span><br><span class="line">                    ni, nj = i + di, j + dj</span><br><span class="line">                    <span class="comment"># if 0 &lt;= ni &lt; </span></span><br><span class="line">                    <span class="keyword">if</span> (ni, nj) <span class="keyword">not</span> <span class="keyword">in</span> visited:</span><br><span class="line">                        que.append((ni, nj))</span><br><span class="line">                        visited.add((ni, nj))   <span class="comment"># important!</span></span><br><span class="line">            steps += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span></span><br></pre></td></tr></table></figure>





<h3 id="LC1345-Jump-Game-IV"><a href="#LC1345-Jump-Game-IV" class="headerlink" title="LC1345 Jump Game IV"></a>LC1345 Jump Game IV</h3><p>Beside word ladder II, there’s interesting pattern of Bi-BFS in LC1345</p>
<p>Instead of just using ‘steps as a set’, I prefer to use a dictionay to remember the steps of each index. </p>
<p>And I fix it to AC. </p>
<h5 id="Special-Take-away"><a href="#Special-Take-away" class="headerlink" title="Special Take away:"></a>Special Take away:</h5><blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> len(Q) &gt; len(back_Q):</span><br><span class="line">    Q, back_Q = back_Q, Q</span><br><span class="line">    visited, visited_back = visited_back, visited</span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="Code-1"><a href="#Code-1" class="headerlink" title="Code"></a>Code</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line"><span class="keyword">from</span> sortedcontainers <span class="keyword">import</span> SortedDict</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minJumps</span><span class="params">(self, arr: List[int])</span> -&gt; int:</span></span><br><span class="line">        <span class="comment"># return self.my_20220114(arr)	# AC</span></span><br><span class="line">        <span class="keyword">return</span> self.my_20220114_opt_bibfs(arr)	<span class="comment"># AC</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">my_20220114_opt_bibfs</span><span class="params">(self, arr)</span>:</span></span><br><span class="line">        n = len(arr)</span><br><span class="line">        <span class="keyword">if</span> n &lt;= <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        mapping = &#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> i, val <span class="keyword">in</span> enumerate(arr):</span><br><span class="line">            <span class="comment"># mapping[val] = mapping.get(val, []) + [i] # 這行導致不 AC - . -... 無言啦!, 下面fix</span></span><br><span class="line">            <span class="keyword">if</span> val <span class="keyword">in</span> mapping:</span><br><span class="line">                mapping[val].append(i)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                mapping[val] = [i]</span><br><span class="line">            </span><br><span class="line">        <span class="comment"># print(mapping)</span></span><br><span class="line">        Q = deque([<span class="number">0</span>])</span><br><span class="line">        back_Q = deque([n - <span class="number">1</span>])</span><br><span class="line">        visited = SortedDict([])</span><br><span class="line">        visited[<span class="number">0</span>] = <span class="number">0</span></span><br><span class="line">        <span class="comment"># visited[n - 1] = 0</span></span><br><span class="line">        visited_back = SortedDict([])</span><br><span class="line">        visited_back[n - <span class="number">1</span>] = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> Q:</span><br><span class="line">            <span class="keyword">if</span> len(Q) &gt; len(back_Q):</span><br><span class="line">                Q, back_Q = back_Q, Q</span><br><span class="line">                visited, visited_back = visited_back, visited</span><br><span class="line">                </span><br><span class="line">            next_Q = deque([])</span><br><span class="line">            len_Q = len(Q)</span><br><span class="line">            <span class="keyword">for</span> _ <span class="keyword">in</span> range(len_Q):</span><br><span class="line">                now = Q.popleft()</span><br><span class="line">                <span class="comment"># fly first!</span></span><br><span class="line">                <span class="keyword">for</span> nxt <span class="keyword">in</span> mapping[arr[now]]:</span><br><span class="line">                    <span class="comment"># if nxt in back_Q:</span></span><br><span class="line">                    <span class="keyword">if</span> nxt <span class="keyword">in</span> visited_back:</span><br><span class="line">                        <span class="comment"># return visited.get(nxt, 0) * 2 + 1    # BUG</span></span><br><span class="line">                        <span class="keyword">return</span> visited.get(now, <span class="number">0</span>) + <span class="number">1</span> + visited_back.get(nxt, <span class="number">0</span>)   <span class="comment"># BUG</span></span><br><span class="line">                    <span class="keyword">if</span> <span class="keyword">not</span> (<span class="number">0</span> &lt;= nxt &lt;= n - <span class="number">1</span>):</span><br><span class="line">                        <span class="keyword">continue</span></span><br><span class="line">                    <span class="keyword">if</span> nxt <span class="keyword">not</span> <span class="keyword">in</span> visited:</span><br><span class="line">                        <span class="comment"># visited[nxt] = min(visited[now], visited.get(nxt, n))</span></span><br><span class="line">                        visited[nxt] = min(visited[now] + <span class="number">1</span>, visited.get(nxt, n))</span><br><span class="line">                        next_Q.append(nxt)</span><br><span class="line">                </span><br><span class="line">                mapping[arr[now]].clear()</span><br><span class="line">                <span class="comment"># then step one or -1                </span></span><br><span class="line">                <span class="keyword">for</span> delta <span class="keyword">in</span> [<span class="number">1</span>, <span class="number">-1</span>]:</span><br><span class="line">                    <span class="comment"># if nxt in back_Q:</span></span><br><span class="line">                    nxt = now + delta</span><br><span class="line">                    <span class="keyword">if</span> nxt <span class="keyword">in</span> visited_back:</span><br><span class="line">                        <span class="keyword">return</span> visited.get(now, <span class="number">0</span>) + <span class="number">1</span> + visited_back.get(nxt, <span class="number">0</span>) <span class="comment"># BUG</span></span><br><span class="line">                    <span class="keyword">if</span> <span class="keyword">not</span> (<span class="number">0</span> &lt;= nxt &lt;= n - <span class="number">1</span>):</span><br><span class="line">                        <span class="keyword">continue</span></span><br><span class="line">                    visited[nxt] = min(visited[now] + <span class="number">1</span>, visited.get(nxt, n))</span><br><span class="line">                    <span class="keyword">if</span> visited[nxt] == visited[now] + <span class="number">1</span>:</span><br><span class="line">                        next_Q.append(nxt)</span><br><span class="line">            Q = next_Q</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">        <span class="comment"># return visited[n - 1]</span></span><br><span class="line">        <span class="comment">#     print(next_Q)</span></span><br><span class="line">        <span class="comment">#     print(visited)</span></span><br><span class="line">        <span class="comment"># print(visited)</span></span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">my_20220114</span><span class="params">(self, arr)</span>:</span></span><br><span class="line">        n = len(arr)</span><br><span class="line">        mapping = &#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> i, val <span class="keyword">in</span> enumerate(arr):</span><br><span class="line">            <span class="comment"># mapping[val] = mapping.get(val, []) + [i] # 這行導致不 AC - . -... 無言啦!, 下面fix</span></span><br><span class="line">            <span class="keyword">if</span> val <span class="keyword">in</span> mapping:</span><br><span class="line">                mapping[val].append(i)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                mapping[val] = [i]</span><br><span class="line">            </span><br><span class="line">        <span class="comment"># print(mapping)</span></span><br><span class="line">        Q = deque([<span class="number">0</span>])</span><br><span class="line">        visited = SortedDict([])</span><br><span class="line">        visited[<span class="number">0</span>] = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> Q:</span><br><span class="line">            next_Q = deque([])</span><br><span class="line">            len_Q = len(Q)</span><br><span class="line">            <span class="keyword">for</span> _ <span class="keyword">in</span> range(len_Q):</span><br><span class="line">                now = Q.popleft()</span><br><span class="line">                <span class="keyword">if</span> now == n - <span class="number">1</span>:            <span class="comment"># early return, still TLE... </span></span><br><span class="line">                    <span class="keyword">return</span> visited[now]</span><br><span class="line">                <span class="comment"># fly first!</span></span><br><span class="line">                <span class="keyword">for</span> nxt <span class="keyword">in</span> mapping[arr[now]]:</span><br><span class="line">                    <span class="keyword">if</span> <span class="keyword">not</span> (<span class="number">0</span> &lt;= nxt &lt;= n - <span class="number">1</span>):</span><br><span class="line">                        <span class="keyword">continue</span></span><br><span class="line">                    <span class="keyword">if</span> nxt <span class="keyword">not</span> <span class="keyword">in</span> visited:</span><br><span class="line">                        <span class="comment"># visited[nxt] = min(visited[now], visited.get(nxt, n))</span></span><br><span class="line">                        visited[nxt] = min(visited[now] + <span class="number">1</span>, visited.get(nxt, n))</span><br><span class="line">                        next_Q.append(nxt)</span><br><span class="line">                </span><br><span class="line">                mapping[arr[now]].clear()</span><br><span class="line">                <span class="comment"># then step one or -1                </span></span><br><span class="line">                <span class="keyword">for</span> delta <span class="keyword">in</span> [<span class="number">1</span>, <span class="number">-1</span>]:</span><br><span class="line">                    nxt = now + delta</span><br><span class="line">                    <span class="keyword">if</span> <span class="keyword">not</span> (<span class="number">0</span> &lt;= nxt &lt;= n - <span class="number">1</span>):</span><br><span class="line">                        <span class="keyword">continue</span></span><br><span class="line">                    visited[nxt] = min(visited[now] + <span class="number">1</span>, visited.get(nxt, n))</span><br><span class="line">                    <span class="keyword">if</span> visited[nxt] == visited[now] + <span class="number">1</span>:</span><br><span class="line">                        next_Q.append(nxt)</span><br><span class="line">            Q = next_Q</span><br><span class="line">        <span class="keyword">return</span> visited[n - <span class="number">1</span>]</span><br><span class="line">        <span class="comment">#     print(next_Q)</span></span><br><span class="line">        <span class="comment">#     print(visited)</span></span><br><span class="line">        <span class="comment"># print(visited)</span></span><br></pre></td></tr></table></figure>



<h3 id="LC127-Word-Ladder"><a href="#LC127-Word-Ladder" class="headerlink" title="LC127 Word Ladder"></a>LC127 Word Ladder</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">ladderLength</span><span class="params">(self, beginWord: str, endWord: str, wordList: List[str])</span> -&gt; int:</span>   </span><br><span class="line">      	<span class="comment"># return self.my_20220914(beginWord, endWord, set(wordList))    # AC</span></span><br><span class="line">        <span class="keyword">return</span> self.my_20220914_bibfs(beginWord, endWord, set(wordList))    <span class="comment"># AC!</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">my_20220914_bibfs</span><span class="params">(self, beginWord, endWord, wordset)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> endWord <span class="keyword">not</span> <span class="keyword">in</span> wordset:  <span class="comment"># FIX case2</span></span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        </span><br><span class="line">        que = deque([beginWord])</span><br><span class="line">        steps = <span class="number">0</span></span><br><span class="line">        <span class="comment"># visited = set([beginWord])</span></span><br><span class="line">        visited = &#123;beginWord:<span class="number">1</span>&#125;</span><br><span class="line">        </span><br><span class="line">        end_que = deque([endWord])</span><br><span class="line">        end_visited = &#123;endWord:<span class="number">1</span>&#125;</span><br><span class="line">        <span class="keyword">while</span> que:</span><br><span class="line">            <span class="keyword">if</span> len(end_que) &lt; len(que):</span><br><span class="line">                que, end_que = end_que, que</span><br><span class="line">                visited, end_visited = end_visited, visited</span><br><span class="line">            </span><br><span class="line">            size = len(que)</span><br><span class="line">            <span class="keyword">for</span> _ <span class="keyword">in</span> range(size):</span><br><span class="line">                now = que.popleft()</span><br><span class="line">                <span class="comment"># if now == endWord:</span></span><br><span class="line">                    <span class="comment"># return steps + 1</span></span><br><span class="line">                    </span><br><span class="line">                nbrs = self.getNeighbors_20220914(now, wordset) <span class="comment"># 26*L^2</span></span><br><span class="line">                <span class="keyword">for</span> nbr <span class="keyword">in</span> nbrs:</span><br><span class="line">                    <span class="keyword">if</span> nbr <span class="keyword">not</span> <span class="keyword">in</span> visited:</span><br><span class="line">                        que.append(nbr)</span><br><span class="line">                        <span class="comment"># visited.add(nbr)</span></span><br><span class="line">                        <span class="keyword">if</span> nbr <span class="keyword">in</span> end_visited:</span><br><span class="line">                            <span class="keyword">return</span> end_visited[nbr] + visited[now]</span><br><span class="line">                        visited[nbr] = visited[now] + <span class="number">1</span>    </span><br><span class="line">            <span class="comment"># steps += 1</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">            </span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">my_20220914</span><span class="params">(self, beginWord, endWord, wordset)</span>:</span></span><br><span class="line">        <span class="comment"># n = len(wordset)</span></span><br><span class="line">        <span class="comment"># wordset.add(endWord)  # BUG! 這題不該加</span></span><br><span class="line">        que = deque([beginWord])</span><br><span class="line">        steps = <span class="number">0</span></span><br><span class="line">        visited = set([beginWord])   <span class="comment"># 別忘了呀！！！</span></span><br><span class="line">        <span class="keyword">while</span> que:      <span class="comment"># N</span></span><br><span class="line">            size = len(que)</span><br><span class="line">            <span class="keyword">for</span> _ <span class="keyword">in</span> range(size):</span><br><span class="line">                now = que.popleft()</span><br><span class="line">                <span class="keyword">if</span> now == endWord:</span><br><span class="line">                    <span class="keyword">return</span> steps + <span class="number">1</span></span><br><span class="line">                nbrs = self.getNeighbors_20220914(now, wordset) <span class="comment"># 26*L^2</span></span><br><span class="line">                <span class="keyword">for</span> nbr <span class="keyword">in</span> nbrs:</span><br><span class="line">                    <span class="keyword">if</span> nbr <span class="keyword">not</span> <span class="keyword">in</span> visited:</span><br><span class="line">                        que.append(nbr)</span><br><span class="line">                        visited.add(nbr)</span><br><span class="line">                <span class="comment"># [que.append(nbr) for nbr in nbrs if nbr not in visited]</span></span><br><span class="line">                </span><br><span class="line">            steps += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getNeighbors_20220914</span><span class="params">(self, now, wordset)</span>:</span></span><br><span class="line">        nbrs = []</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(len(now)):   <span class="comment"># L</span></span><br><span class="line">            <span class="keyword">for</span> k <span class="keyword">in</span> range(<span class="number">26</span>):     <span class="comment"># 26</span></span><br><span class="line">                token = now[:j] + chr(k + ord(<span class="string">'a'</span>))+ now[j+<span class="number">1</span>:]  <span class="comment"># L</span></span><br><span class="line">                <span class="keyword">if</span> token <span class="keyword">in</span> wordset:</span><br><span class="line">                    nbrs.append(token)</span><br><span class="line">        <span class="keyword">return</span> nbrs</span><br></pre></td></tr></table></figure>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/07/07/Front-End/2019-07-07-front-end%20rendering/">Front-End Rendering!</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-07-07</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Front-End-Rendering/">Front-End-Rendering</a></span><div class="content"><h3 id="Front-End-Rendering"><a href="#Front-End-Rendering" class="headerlink" title="Front-End Rendering"></a>Front-End Rendering</h3><ul>
<li>图片：裁剪，模糊，亮度，对比度，阴影，灰度，色相旋转，反转，透明度，饱和度，褐色<br><a href="https://www.runoob.com/cssref/css3-pr-filter.html" target="_blank" rel="noopener">https://www.runoob.com/cssref/css3-pr-filter.html</a><br><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6nijqvpwvj31410kzgxe.jpg" alt="image-20190904152108270"></li>
</ul>
<ul>
<li><p>文字：模糊，阴影，透明度，发光，渐变</p>
<p><a href="https://codepen.io/wuyeguangming/pen/jONaWXr" target="_blank" rel="noopener">https://codepen.io/wuyeguangming/pen/jONaWXr</a></p>
</li>
</ul>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6nibg1wusj31kz0u0aua.jpg" alt=""></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6nij8edvlj31kc0u0nb7.jpg" alt="image-20190904152348021"></p>
<ul>
<li><p>动效：位移，缩放，旋转，渐变<br><a href="https://animejs.com/" target="_blank" rel="noopener">https://animejs.com/</a></p>
</li>
<li><p>物理引擎：重力、碰撞、摩擦、阻力、惯性等<br><a href="http://brm.io/matter-js/" target="_blank" rel="noopener">http://brm.io/matter-js/</a></p>
</li>
<li><p>视差效果引擎：近大远小<br><a href="http://matthew.wagerfield.com/parallax/" target="_blank" rel="noopener">http://matthew.wagerfield.com/parallax/</a></p>
</li>
<li><p>3d<br><a href="https://threejs.org/examples/#webgl_animation_multiple" target="_blank" rel="noopener">https://threejs.org/examples/#webgl_animation_multiple</a></p>
</li>
<li><p>建模<br><a href="https://www.mixamo.com/#/" target="_blank" rel="noopener">https://www.mixamo.com/#/</a></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6nijxu7ahj31l00u04qp.jpg" alt="image-20190904151945987"></p>
</li>
</ul>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><p><a href="https://animejs.com/" target="_blank" rel="noopener">https://animejs.com/</a><br><a href="http://svgjs.com/" target="_blank" rel="noopener">http://svgjs.com</a><br><a href="https://daneden.github.io/animate.css/" target="_blank" rel="noopener">https://daneden.github.io/animate.css/</a></p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/07/04/Stat./Stat-MIT-1/">Stat./Stat-MIT-1</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-07-04</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Stat/">Stat.</a></span><div class="content"><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ggf86b3wa1j30fa08qadz.jpg" alt="image-20200704204407394"></p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/07/03/Algo.%20Ult./DP_appendix_2&amp;3/">Algo. Ult./DP_appendix_2&amp;3</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-07-03</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/AlgoUlt/">AlgoUlt.</a></span><div class="content"><ol>
<li>2^n ==&gt; n^2</li>
<li>無循環依賴、無序應該不是；但無序的也可能是就是背包型</li>
</ol>
<h1 id="DP-appendix-2"><a href="#DP-appendix-2" class="headerlink" title="DP appendix 2"></a>DP appendix 2</h1><h2 id="1147-工作安排"><a href="#1147-工作安排" class="headerlink" title="1147. 工作安排"></a>1147. 工作安排</h2><ul>
<li><p>求「價值最大」＝＝＞ 最優值</p>
</li>
<li><p>每天要決定是L or H or X</p>
</li>
<li><p>跟 house Robber 像, 但多了一個狀態「選擇難or易」</p>
</li>
<li><table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>L</td>
<td><strong>4</strong></td>
<td>2</td>
<td>3</td>
<td><strong>7</strong></td>
</tr>
<tr>
<td>R</td>
<td>3</td>
<td>5</td>
<td><strong>6</strong></td>
<td>9</td>
</tr>
</tbody></table>
</li>
</ul>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gge244w23tj31100icwo7.jpg" alt="image-20200703202854308"></p>
<ul>
<li><p>坐標型DP</p>
</li>
<li><p>簡化後可以是「令dp[i] 表前i周可完成的最大價值」，狀態轉移方程：</p>
<ul>
<li>dp[i] = max(dp[i-1] + low[i], dp[i-2] + high[i])</li>
</ul>
</li>
<li><p>初始化：</p>
<ul>
<li>dp[0] = low[0]</li>
<li><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gge29kbm7ej30o20gc7a0.jpg" alt="image-20200703203413184"></li>
</ul>
</li>
<li><p>什麼情況不是返回 dp[n-1]? </p>
<ul>
<li>當價值有可能有負數的時候</li>
<li>因為i已經假設第i天有做事</li>
<li>可以透過進行拓維解決、加個「不做事」的維度</li>
</ul>
</li>
<li><p>滾動優化，一起模 3</p>
</li>
</ul>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gge37afck7j30o20fujyz.jpg" alt="image-20200703210638577"></p>
<h2 id="77-LCS-最長公共子序列"><a href="#77-LCS-最長公共子序列" class="headerlink" title="77.LCS 最長公共子序列"></a>77.LCS 最長公共子序列</h2><ul>
<li><p>LCS</p>
</li>
<li><p>LIS</p>
</li>
<li><p>LCA</p>
</li>
<li><p>TSP</p>
</li>
<li><p>2^N, N位，用DP降到 N^2</p>
</li>
<li><p>给两個字串的，為「匹配型動規」</p>
<ul>
<li>LCS</li>
<li>Edit Distance</li>
<li>Interleaving Substring</li>
<li>Wildcard Matching</li>
<li>Regular Expression Matching</li>
</ul>
</li>
<li><p><strong>dp[i] [j] 表 A的前i元素與 B的前i元素的最長LCS長度</strong></p>
</li>
<li><p>N個字符，有N個不同前綴 X ==&gt; N+1才對</p>
<ul>
<li>還有空串！空串是任意串的前綴；如空arr是任何arr的前綴</li>
</ul>
</li>
</ul>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gge2qhuja2j30uy0dcdlf.jpg" alt="image-20200703205030160"></p>
<p><img src="https://tva1.sinaimg.cn/large/e6c9d24egy1h382efnpfij20lc0gwjsp.jpg" alt="image-20200703205331747"></p>
<img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gge2upqxmhj30ug0dyn2t.jpg" alt="image-20200703205433751" style="zoom:67%;" />



<ul>
<li>初始的邊上是0</li>
<li>如果是edit distance 的化 邊邊應該是 i或j的值</li>
<li>大問題依賴小問題</li>
</ul>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gge2y33wrrj30zk0fun6b.jpg" alt="image-20200703205747834"></p>
<p>​        ＆interleaving</p>
<ul>
<li><p>区间型是小依賴大</p>
<ul>
<li>i倒過來，j正過去</li>
<li>Stone Game</li>
</ul>
</li>
<li><p>滚動數組 一起模 2 即可，如下，依賴得少才好滾</p>
</li>
</ul>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gge35k1lo6j30ue0k6n6u.jpg" alt="image-20200703210458738"></p>
<h2 id="76-最長上升子序列-LIS"><a href="#76-最長上升子序列-LIS" class="headerlink" title="76.最長上升子序列 LIS"></a>76.最長上升子序列 LIS</h2><ul>
<li><p>subsequcne </p>
</li>
<li><p>longest ==&gt; 動規</p>
</li>
<li><p><strong>不能交換順序，是有序的！</strong>；背包可以交換，只是一個集合，是可換序的特例DP解法</p>
</li>
<li><p>dp[i] 的定義？</p>
</li>
</ul>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gge3e6f2hjj316k0noqd4.jpg" alt="image-20200703211312555"></p>
<ul>
<li>A為何錯？<ul>
<li>下面這個５就拼不上了</li>
</ul>
</li>
</ul>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gge3i4pr9tj30m00ee77s.jpg" alt="image-20200703211703227"></p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gge3jg7ltkj30mk0daadf.jpg" alt="image-20200703211820236"></p>
<ul>
<li>初始狀態 dp[i] = 1<ul>
<li>是说，「每個數就選它自己而已」，都以自己開始、結尾</li>
<li><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gge3nfsgvcj30pu0cmgnv.jpg" alt="image-20200703212210255" style="zoom:50%;" /></li>
<li>只初始化dp[0] 是不夠的，這也是座標型，就是看怎麼跳</li>
<li>這不一定要從0這個位置開始選，每個數都可能成為起點</li>
</ul>
</li>
</ul>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gge3lszejnj30o60gin3h.jpg" alt="image-20200703212036165"></p>
<ul>
<li>O(N^2)</li>
<li></li>
</ul>
<img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gge3q1olo0j30iu0ccgq6.jpg" alt="image-20200703212440013" style="zoom:50%;" />



<h2 id="91-最小調整代價"><a href="#91-最小調整代價" class="headerlink" title="91.最小調整代價"></a>91.最小調整代價</h2><ul>
<li><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gge3wmh1s6j311e0gg7b5.jpg" alt="image-20200703213059015"></p>
</li>
<li><h2 id="轉移方程"><a href="#轉移方程" class="headerlink" title="轉移方程"></a>轉移方程</h2></li>
</ul>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gge3z3x4h4j30qc0j2q62.jpg" alt="image-20200703213322963"></p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gge41on9x5j30og0b878b.jpg" alt="image-20200703213551446"></p>
<ul>
<li><p>200^3 </p>
</li>
<li><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gge42dgrt1j30sg0hiwjo.jpg" alt="image-20200703213631392"></p>
</li>
<li><p>滾動數組：第一維模2就完成</p>
</li>
</ul>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gge4349ar1j30qe0o27gl.jpg" alt="image-20200703213714291"></p>
<ul>
<li>動規類型<ul>
<li><strong>座標型</strong>: Triangle, Unique Path, Jump Game</li>
<li><strong>前綴型</strong><ul>
<li>匹配型: LIS, Wildcard Matching</li>
<li>划分型: Word Break</li>
</ul>
</li>
<li><strong>區間型</strong>: Stone Game</li>
<li><strong>背包</strong>: Backpack 系列</li>
<li>博奕型: Coins in a Line</li>
<li>狀態壓縮型: TSP(Traveling Salesman Problem)</li>
<li>樹型: Binary Tree Maximum Path Sum</li>
<li>圖型: (面試基本沒考過) NOI</li>
<li>on lintcode</li>
</ul>
</li>
</ul>
<h1 id="DP-appendix-3"><a href="#DP-appendix-3" class="headerlink" title="DP  appendix 3"></a>DP  appendix 3</h1><h2 id="1018-香檳塔"><a href="#1018-香檳塔" class="headerlink" title="1018.香檳塔"></a>1018.香檳塔</h2><ul>
<li><p>類似題: 座標型動規，有座標的info在</p>
</li>
<li><p>similar to Triangle</p>
<img src="https://tva1.sinaimg.cn/large/e6c9d24egy1h382ejyexij20uo0bujsn.jpg" alt="image-20200712201733032" style="zoom:33%;" />
</li>
<li></li>
</ul>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ggogsiqo19j30zu0isna9.jpg" alt="image-20200712203228254"></p>
<ul>
<li>空間優化，模2</li>
</ul>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ggogt1pj5uj31020iqna9.jpg" alt="image-20200712203258726"></p>
<h2 id="200-最長回文子串"><a href="#200-最長回文子串" class="headerlink" title="200.最長回文子串"></a>200.最長回文子串</h2><ul>
<li>Manacher’s 馬拉車算法， O(N)</li>
<li>背向雙針 O(Nx(2N-1))</li>
<li>動規: 區間型動規，子串、子數組</li>
</ul>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ggoh1mpbr3j30yu0a8tam.jpg" alt="image-20200712204113836"></p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ggoh39walhj30tw0cwgnx.jpg" alt="image-20200712204248042"></p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ggoh41ojf1j31ak0l0tlc.jpg" alt="image-20200712204333437"></p>
<ul>
<li><p>是否可用滾動優化？可</p>
</li>
<li><p>石子Stone Game合并不能滚動，因為最後還是模N</p>
</li>
</ul>
<h2 id="119-編輯距離"><a href="#119-編輯距離" class="headerlink" title="119.編輯距離"></a>119.編輯距離</h2><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ggohyaoonzj30ze0j2aen.jpg" alt="image-20200712211236545" style="zoom: 50%;" />

<ul>
<li>匹配型動規</li>
<li>dp[i] [j] </li>
</ul>
<img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ggohzectnqj314w09gwgk.jpg" alt="image-20200712211341183" style="zoom:67%;" />

<img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ggoi0wqzwfj311w0bqq60.jpg" alt="image-20200712211508710" style="zoom:50%;" />

<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ggoi5ch6tej312a0ho7an.jpg" alt="image-20200712211920952"></p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ggoi5ub3nxj31780lq7gi.jpg" alt="image-20200712211952831"></p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ggoi7241kbj30z80ky4c5.jpg" alt="image-20200712212103748"></p>
<img src="https://tva1.sinaimg.cn/large/e6c9d24egy1h382eo5gkpj214w0g4acx.jpg" alt="image-20200712212200733" style="zoom: 33%;" />

<ul>
<li>能滾嗎？<ul>
<li>模2可滚，初始化不能放一开始了，得一邊dp一邊初始</li>
</ul>
</li>
</ul>
<h2 id="1565-飛行棋"><a href="#1565-飛行棋" class="headerlink" title="1565.飛行棋"></a>1565.飛行棋</h2><ul>
<li>如果可以往前跳又可以往後跳，就沒有方向性了，就不能動規了</li>
<li>不會往前飛，就是不能循環依賴 ==&gt; Topological Sort 檢測圖裡有沒有循環依賴的關係</li>
</ul>
<img src="https://tva1.sinaimg.cn/large/e6c9d24egy1h382erxt9ij20to0ewabh.jpg" alt="image-20200712213048000" style="zoom:33%;" />

<ul>
<li>座標型，1D座標動規，用傳送門還有dice跳</li>
</ul>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ggoijyw55aj30ti0aiq6i.jpg" alt="image-20200712213327557"></p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ggoimjyqkuj30uo0han4n.jpg" alt="image-20200712213554267"></p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ggoinaj186j30u00hewhe.jpg" alt="image-20200712213639171"></p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/06/25/FFmpeg/2019-06-25-ffmpeg-cmds/">ffmpeg_cmds!</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-06-25</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/ffmpeg/">ffmpeg</a></span><div class="content"><h2 id="rm-black-sides"><a href="#rm-black-sides" class="headerlink" title="rm black sides"></a>rm black sides</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">╰─○ ffplay -i vn_hflip.mp4 -t 5 -vf cropdetect</span><br><span class="line">╰─○ ffplay -i vn_hflip.mp4 -t 5 -vf crop=1280:528:0:96</span><br></pre></td></tr></table></figure>

<h2 id="save-to-json"><a href="#save-to-json" class="headerlink" title="save to json"></a>save to json</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffprobe -hide_banner -print_format json -show_streams -i vn_hflip.mp4 &gt; vn_json_streams.log</span><br></pre></td></tr></table></figure>

<h2 id="check-error"><a href="#check-error" class="headerlink" title="check error"></a>check error</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffprobe -show_frames vn_hflip.mp4 &gt; vn_show_frames.log</span><br></pre></td></tr></table></figure>

<h2 id="video-to-pics"><a href="#video-to-pics" class="headerlink" title="video to pics"></a>video to pics</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i vn_hflip.mp4 -r 40 -f image2         -t 1 my%d.jpg        <span class="comment">## 跟下一行比會多了幾張重覆的，因為比來的video就25fps而已</span></span><br><span class="line"><span class="string">""</span><span class="string">"2938"</span><span class="string">""</span>  ffmpeg -i vn_hflip.mp4 -r 25 -f image2 -t 1 my25_%d.jpg <span class="comment">## 跟上一行几乎一样，就是正常的25 rate</span></span><br><span class="line">ffmpeg -i vn_hflip.mp4 -vcodec mjpeg -ss 0:0:2 -t 0:0:1 0m%04d.jpg  <span class="comment">## 跟上面比主要就是从第二秒开始</span></span><br><span class="line"></span><br><span class="line">2937  ffmpeg -i vn_hflip.mp4 -r 40 -f image2 -t 1 my25_%d.jpg</span><br><span class="line">★★★ -r, -ss, -t  本来的video要变成的rate，开始、抓多久</span><br><span class="line"></span><br><span class="line">ffmpeg -i vn_hflip.mp4 -ss 00:00:14.435 -vframes 1 out.png</span><br><span class="line">★★★ -vframes 抓几张</span><br></pre></td></tr></table></figure>

<h2 id="pics-to-video"><a href="#pics-to-video" class="headerlink" title="pics to video"></a>pics to video</h2><p>把多个图像文件使用h264编码封装成avi文件，如有my0.jpg, my1.jpg … my99.jpg</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i my%d.jpg  -vcodec h264 my.avi</span><br></pre></td></tr></table></figure>



<p>-r 选项的用法：</p>
<p>预设是</p>
<p>以25FPS读入所有图片，所以len(Images[])会是输出的video的duration. </p>
<p>作出25FPS的video, 所以如果 -r加在 output前面，会进行插帧、删帧。</p>
<p>如果-r加在 input前面，就是每秒读进来几张图片</p>
<p>如果　ffmpeg -r 10 -i z-%5d.jpeg -vcodec h264 -r 60 out10in60out.mp4</p>
<p>那么因为每秒读进来10张而已，硬做成60fps的video，也是没用，因为中间只是内插成了60fps</p>
<h2 id="video-to-gif"><a href="#video-to-gif" class="headerlink" title="video to gif"></a>video to gif</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i vn_hflip.mp4 -ss 0 -r 1 -vframes 6 vn.gif</span><br><span class="line">ffmpeg -i vn_hflip.mp4 -ss 0 -vf fps=1 -vframes 6 vn_fps.gif <span class="comment"># 这个似乎比上面的好一些</span></span><br></pre></td></tr></table></figure>




<p>##EXTRACTION !!!</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> 2999  ffmpeg -i ../vn_hflip.mp4 -ss 00:00:00 -t 10 -vf fps=1 fps1_%d.png</span><br><span class="line">(joe_py36) ┌─[joe@JoeMBP2] - [~/Movies/exp/tmp] - [3003]</span><br><span class="line">└─[$] <span class="built_in">history</span> | grep r1                                                                                                                                                                           [22:06:04]</span><br><span class="line"> 2975  ffmpeg -i ../vn_hflip.mp4 -r 1 r1_%d.png</span><br><span class="line"> 2977  ffmpeg -i ../vn_hflip.mp4 -r 1 -vframes 6 r1_vframes_%d.png</span><br></pre></td></tr></table></figure>







<h2 id="add-logo"><a href="#add-logo" class="headerlink" title="add logo"></a>add logo</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i vn_hflip.mp4 -i ~/Pictures/Sackboy_0.jpeg -filter_complex overlay=W-w:H-h vn_logo.avi</span><br><span class="line">    如右下角: ffmpeg -i God.rm -i logo.png -filter_complex overlay=W-w:H-h my.avi</span><br><span class="line">    如居中:  ffmpeg -i God.rm -i logo.png -filter_complex overlay=W/2-w/2:H/2-h/2 my.avi</span><br></pre></td></tr></table></figure>



</div><hr></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/63/"><i class="fa fa-chevron-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/63/">63</a><span class="page-number current">64</span><a class="page-number" href="/page/65/">65</a><span class="space">&hellip;</span><a class="page-number" href="/page/82/">82</a><a class="extend next" rel="next" href="/page/65/"><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2013 - 2024 By Joe Huang</div><div class="framework-info"><span>Driven - </span><a href="http://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody" target="_blank" rel="noopener"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_site_uv"><i class="fa fa-user"></i><span id="busuanzi_value_site_uv"></span><span></span></span><span class="footer-separator">|</span><span id="busuanzi_container_site_pv"><i class="fa fa-eye"></i><span id="busuanzi_value_site_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.6.1"></script><script src="/js/fancybox.js?version=1.6.1"></script><script src="/js/sidebar.js?version=1.6.1"></script><script src="/js/copy.js?version=1.6.1"></script><script src="/js/fireworks.js?version=1.6.1"></script><script src="/js/transition.js?version=1.6.1"></script><script src="/js/scroll.js?version=1.6.1"></script><script src="/js/head.js?version=1.6.1"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script></body></html>