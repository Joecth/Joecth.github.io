<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="DP Ult./DP-5-背包型、區間型 DP"><meta name="keywords" content=""><meta name="author" content="Joe Huang"><meta name="copyright" content="Joe Huang"><title>DP Ult./DP-5-背包型、區間型 DP | Awaken Desparado</title><link rel="shortcut icon" href="/melody-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.6.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.6.1"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://www.google-analytics.com"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-180692466-1', 'auto');
ga('send', 'pageview');</script><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  }
} </script><meta name="generator" content="Hexo 4.1.1"></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="toggle-sidebar-info text-center"><span data-toggle="Toggle article">Toggle site</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Warm-up"><span class="toc-number">1.</span> <span class="toc-text">Warm up!</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#背包-0-1-amp-完全-amp-優化"><span class="toc-number"></span> <span class="toc-text">背包 0&#x2F;1 &amp; 完全 &amp; 優化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#125-Backpack-II"><span class="toc-number">0.1.</span> <span class="toc-text">125 Backpack II</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-最後一步-amp-子問題"><span class="toc-number">0.1.1.</span> <span class="toc-text">1 最後一步 &amp; 子問題</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-轉移方程"><span class="toc-number">0.1.2.</span> <span class="toc-text">2 轉移方程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Coding-w-路徑打印"><span class="toc-number">0.1.3.</span> <span class="toc-text">Coding w&#x2F; 路徑打印</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#440-Backpack-III"><span class="toc-number">0.2.</span> <span class="toc-text">440 Backpack III</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#∞個-for-每種物品"><span class="toc-number">0.2.0.1.</span> <span class="toc-text">∞個 for 每種物品</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-轉移方程-1"><span class="toc-number">0.2.1.</span> <span class="toc-text">2 轉移方程</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#優化"><span class="toc-number">0.2.1.1.</span> <span class="toc-text">優化</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#∵"><span class="toc-number">0.2.1.1.1.</span> <span class="toc-text">∵</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#∴"><span class="toc-number">0.2.1.1.2.</span> <span class="toc-text">∴</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Coding"><span class="toc-number">0.2.2.</span> <span class="toc-text">Coding!</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#終極優化"><span class="toc-number">0.2.3.</span> <span class="toc-text">終極優化</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#背包總結"><span class="toc-number">1.</span> <span class="toc-text">背包總結</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#拓展"><span class="toc-number">2.</span> <span class="toc-text">拓展</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#區間型-DP"><span class="toc-number"></span> <span class="toc-text">區間型 DP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#667-Longest-Palindromic-Subsequence"><span class="toc-number">0.1.</span> <span class="toc-text">667  Longest Palindromic Subsequence</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-確定狀態"><span class="toc-number">0.1.1.</span> <span class="toc-text">1 確定狀態</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Coding-1"><span class="toc-number">0.1.2.</span> <span class="toc-text">Coding!</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#記憶化蒐搜"><span class="toc-number">0.1.3.</span> <span class="toc-text">記憶化蒐搜</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Coding-2"><span class="toc-number">0.1.3.1.</span> <span class="toc-text">Coding!</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#複雜度分析"><span class="toc-number">0.1.3.1.1.</span> <span class="toc-text">複雜度分析</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#注意三項"><span class="toc-number">0.1.3.1.2.</span> <span class="toc-text">注意三項</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#396-Coins-In-A-Line-III-–-區間-博奕"><span class="toc-number">0.2.</span> <span class="toc-text">396 Coins In A Line III – 區間 + 博奕</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-確定狀態-1"><span class="toc-number">0.2.1.</span> <span class="toc-text">1 確定狀態</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-轉移方程-2"><span class="toc-number">0.2.2.</span> <span class="toc-text">2 轉移方程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Coding-3"><span class="toc-number">0.2.3.</span> <span class="toc-text">Coding!</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#430-Scramble-String"><span class="toc-number">0.3.</span> <span class="toc-text">430 Scramble String</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-確定狀態-2"><span class="toc-number">0.3.1.</span> <span class="toc-text">1 確定狀態</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#子問題"><span class="toc-number">0.3.1.1.</span> <span class="toc-text">子問題</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#代數法降維"><span class="toc-number">0.3.1.1.1.</span> <span class="toc-text">代數法降維</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-轉移方程-3"><span class="toc-number">0.3.2.</span> <span class="toc-text">2 轉移方程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-計算順序"><span class="toc-number">0.3.3.</span> <span class="toc-text">4 計算順序</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#不可滾動數組，因為可能用到之前所有的"><span class="toc-number">0.3.3.0.1.</span> <span class="toc-text">不可滾動數組，因為可能用到之前所有的</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Coding-4"><span class="toc-number">0.3.4.</span> <span class="toc-text">Coding!</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#記憶化搜索"><span class="toc-number">0.3.5.</span> <span class="toc-text">記憶化搜索</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#168-Burst-Balloons"><span class="toc-number">0.4.</span> <span class="toc-text">168 Burst Balloons</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#消去型題-–-千萬不要順著題目做"><span class="toc-number">0.4.1.</span> <span class="toc-text">消去型題 – 千萬不要順著題目做!!</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-確定狀態-3"><span class="toc-number">0.4.2.</span> <span class="toc-text">1 確定狀態</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#最後一步"><span class="toc-number">0.4.2.1.</span> <span class="toc-text">最後一步</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#的左邊"><span class="toc-number">0.4.2.1.1.</span> <span class="toc-text">的左邊</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#子問題-1"><span class="toc-number">0.4.2.2.</span> <span class="toc-text">子問題</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-轉移方程-4"><span class="toc-number">0.4.3.</span> <span class="toc-text">2 轉移方程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-初始條件和邊界"><span class="toc-number">0.4.4.</span> <span class="toc-text">3 初始條件和邊界</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#初始-–-i-amp-j-相鄰時為0"><span class="toc-number">0.4.4.1.</span> <span class="toc-text">初始 – i &amp; j 相鄰時為0</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-計算順序-1"><span class="toc-number">0.4.5.</span> <span class="toc-text">4 計算順序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Coding-5"><span class="toc-number">0.4.6.</span> <span class="toc-text">Coding!</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1694-Monster-Hunter"><span class="toc-number">0.4.7.</span> <span class="toc-text">1694 Monster Hunter</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#總結"><span class="toc-number">1.</span> <span class="toc-text">總結</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#背包型收尾了"><span class="toc-number">1.1.</span> <span class="toc-text">背包型收尾了</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#區間型"><span class="toc-number">1.2.</span> <span class="toc-text">區間型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#矩陣乘法動態規劃"><span class="toc-number">1.3.</span> <span class="toc-text">矩陣乘法動態規劃</span></a></li></ol></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="/img/avatar.png"></div><div class="author-info__name text-center">Joe Huang</div><div class="author-info__description text-center"></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">306</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">Tags</span><span class="pull-right">25</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">Categories</span><span class="pull-right">47</span></a></div></div></div><div id="content-outer"><div class="no-bg" id="top-container"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">Awaken Desparado</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a></span><span class="pull-right"></span></div><div id="post-info"><div id="post-title">DP Ult./DP-5-背包型、區間型 DP</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-10-10</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/DP-Ult/">DP Ult.</a></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><h2 id="Warm-up"><a href="#Warm-up" class="headerlink" title="Warm up!"></a>Warm up!</h2><h1 id="背包-0-1-amp-完全-amp-優化"><a href="#背包-0-1-amp-完全-amp-優化" class="headerlink" title="背包 0/1 &amp; 完全 &amp; 優化"></a>背包 0/1 &amp; 完全 &amp; 優化</h1><h3 id="125-Backpack-II"><a href="#125-Backpack-II" class="headerlink" title="125 Backpack II"></a>125 Backpack II</h3><p>即 0/1 背包，裝最大價值</p>
<img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gjk556frddj31240hs7c2.jpg" alt="image-20201010124808594" style="zoom:50%;" />

<p>之前care過 </p>
<ol>
<li>能不能</li>
<li>方案數</li>
<li>現在是最大值</li>
</ol>
<h4 id="1-最後一步-amp-子問題"><a href="#1-最後一步-amp-子問題" class="headerlink" title="1 最後一步 &amp; 子問題"></a>1 最後一步 &amp; 子問題</h4><img src="/Users/joe/Library/Application Support/typora-user-images/image-20201010125357138.png" alt="image-20201010125357138" style="zoom:50%;" />



<h4 id="2-轉移方程"><a href="#2-轉移方程" class="headerlink" title="2 轉移方程"></a>2 轉移方程</h4><ul>
<li>價值也可以是小數或負數也ok</li>
<li>但載重一定要是整數，不然arr開不了，因為下標的問題</li>
</ul>
<h4 id="Coding-w-路徑打印"><a href="#Coding-w-路徑打印" class="headerlink" title="Coding w/ 路徑打印"></a>Coding w/ 路徑打印</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">    </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_1009</span><span class="params">(self, n, A, V)</span>:</span></span><br><span class="line">    m = len(A)</span><br><span class="line">    <span class="comment"># dp means, with previous i items &amp; at most j size, the max value </span></span><br><span class="line">    dp = [[<span class="number">0</span>] * (n+<span class="number">1</span>) <span class="keyword">for</span> _ <span class="keyword">in</span> range((m + <span class="number">1</span>))] </span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, m + <span class="number">1</span>):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>, n + <span class="number">1</span>):</span><br><span class="line">            dp[i][j] = dp[i - <span class="number">1</span>][j]</span><br><span class="line">            <span class="comment"># if j &gt;= A[i - 1]:</span></span><br><span class="line">            <span class="keyword">if</span> j &gt;= A[i - <span class="number">1</span>]:</span><br><span class="line">                dp[i][j] = max(dp[i][j], dp[i - <span class="number">1</span>][j - A[i - <span class="number">1</span>]] + V[i - <span class="number">1</span>])</span><br><span class="line">    <span class="keyword">return</span> dp[m][n]</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hwd_1009</span><span class="params">(self, n, A, V)</span>:</span></span><br><span class="line">    m = len(A)</span><br><span class="line">    <span class="comment"># dp means, with previous i items &amp; exactly j size, the max value </span></span><br><span class="line">    dp = [[<span class="number">0</span>] * (n+<span class="number">1</span>) <span class="keyword">for</span> _ <span class="keyword">in</span> range((m + <span class="number">1</span>))] </span><br><span class="line">    pi = [[<span class="number">0</span>] * (n+<span class="number">1</span>) <span class="keyword">for</span> _ <span class="keyword">in</span> range((m + <span class="number">1</span>))] </span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>, n + <span class="number">1</span>):</span><br><span class="line">        dp[<span class="number">0</span>][j] = <span class="number">-1</span>       <span class="comment"># 代表「拼不出來」</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, m + <span class="number">1</span>):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>, n + <span class="number">1</span>):</span><br><span class="line">            dp[i][j] = dp[i - <span class="number">1</span>][j] <span class="comment"># Not take </span></span><br><span class="line">            pi[i][j] = <span class="number">0</span></span><br><span class="line">            <span class="comment"># if A[i - 1] &gt; j:  # BUG!!</span></span><br><span class="line">            <span class="comment"># if j &gt;= A[i - 1]: # 雖然 AC，但 邏輯上檢查不完全</span></span><br><span class="line">            <span class="keyword">if</span> j &gt;= A[i - <span class="number">1</span>] <span class="keyword">and</span> dp[i - <span class="number">1</span>][j - A[i - <span class="number">1</span>]] != <span class="number">-1</span>:</span><br><span class="line">                dp[i][j] = max(dp[i][j], dp[i - <span class="number">1</span>][j - A[i - <span class="number">1</span>]] + V[i - <span class="number">1</span>])</span><br><span class="line">                <span class="keyword">if</span> dp[i][j] == dp[i - <span class="number">1</span>][j - A[i - <span class="number">1</span>]] + V[i - <span class="number">1</span>]:</span><br><span class="line">                    pi[i][j] = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    res = <span class="number">0</span></span><br><span class="line">    j = <span class="number">0</span></span><br><span class="line">    <span class="comment"># print(pi)</span></span><br><span class="line">    <span class="keyword">for</span> w <span class="keyword">in</span> range(n + <span class="number">1</span>):</span><br><span class="line">        <span class="keyword">if</span> dp[m][w] != <span class="number">-1</span>:</span><br><span class="line">            res = max(res, dp[m][w])</span><br><span class="line">            <span class="keyword">if</span> res == dp[m][w]:</span><br><span class="line">                j = w</span><br><span class="line">    </span><br><span class="line">    selected = [<span class="literal">False</span>] * m</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(m, <span class="number">0</span>, <span class="number">-1</span>):</span><br><span class="line">        <span class="keyword">if</span> pi[i][j] == <span class="number">1</span>:</span><br><span class="line">            selected[i - <span class="number">1</span>] = <span class="literal">True</span></span><br><span class="line">            j -= A[i - <span class="number">1</span>]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            selected[i - <span class="number">1</span>] = <span class="literal">False</span></span><br><span class="line">    <span class="comment"># print(selected)</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(m):</span><br><span class="line">        <span class="keyword">if</span> selected[i]:</span><br><span class="line">            print(<span class="string">'Item: '</span>, i, <span class="string">' weight: '</span>, A[i], <span class="string">' Value: '</span>, V[i])</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">    <span class="comment"># return res  # SAME as FOLLOWING LINE</span></span><br><span class="line">    <span class="comment"># return max(dp[m])</span></span><br><span class="line">    <span class="comment"># return dp[m][n] # WRONG!!!</span></span><br></pre></td></tr></table></figure>





<h3 id="440-Backpack-III"><a href="#440-Backpack-III" class="headerlink" title="440 Backpack III"></a>440 Backpack III</h3><p>完全背包，要注意左上來的已經包含在左邊來的裡了</p>
<h5 id="∞個-for-每種物品"><a href="#∞個-for-每種物品" class="headerlink" title="∞個 for 每種物品"></a>∞個 for 每種物品</h5><ul>
<li>我會選「性價比」高的，然後只取它 !!!<ul>
<li>很不幸，會是錯的！<img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gjkbwomycxj31100eoqcs.jpg" alt="image-20201010164210993" style="zoom:50%;" /></li>
<li>仍是「貪心思想錯誤」! 仍該用動態規劃來思考!</li>
</ul>
</li>
</ul>
<h4 id="2-轉移方程-1"><a href="#2-轉移方程-1" class="headerlink" title="2 轉移方程"></a>2 轉移方程</h4><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gjkc04dd5gj310k0iidq2.jpg" alt="image-20201010164532441" style="zoom: 50%;" />

<h5 id="優化"><a href="#優化" class="headerlink" title="優化"></a>優化</h5><ol>
<li><strong>畫圖 – 畫個表格 ==&gt; V！</strong></li>
<li>小例子 –&gt; 也累</li>
<li>看式子 –&gt; 累</li>
</ol>
<h6 id="∵"><a href="#∵" class="headerlink" title="∵"></a>∵</h6><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gjkcab777gj30z00ecwld.jpg" alt="image-20201010165519348" style="zoom:50%;" />



<h6 id="∴"><a href="#∴" class="headerlink" title="∴"></a>∴</h6><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gjkcb9jqbwj311y0iktnm.jpg" alt="image-20201010165614668" style="zoom:50%;" />



<h4 id="Coding"><a href="#Coding" class="headerlink" title="Coding!"></a>Coding!</h4><img src="/Users/joe/Library/Application Support/typora-user-images/image-20201010165814198.png" alt="image-20201010165814198" style="zoom: 67%;" />



<h4 id="終極優化"><a href="#終極優化" class="headerlink" title="終極優化"></a>終極優化</h4><p>→ ，based on 先畫個圖分析</p>
<p>easy</p>
<img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gjkchq00zlj30ig0iogqc.jpg" alt="image-20201010170226916" style="zoom: 67%;" />



<p>​                                                                                    <strong>↓ 終極優化</strong></p>
<img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gjkcjcoh9pj30hi0iijvy.jpg" alt="image-20201010170401214" style="zoom:67%;" />



<h2 id="背包總結"><a href="#背包總結" class="headerlink" title="背包總結"></a>背包總結</h2><img src="/Users/joe/Library/Application Support/typora-user-images/image-20201010170745651.png" alt="image-20201010170745651" style="zoom: 50%;" />



<h2 id="拓展"><a href="#拓展" class="headerlink" title="拓展"></a>拓展</h2><img src="/Users/joe/Library/Application Support/typora-user-images/image-20201010171002524.png" alt="image-20201010171002524" style="zoom: 50%;" />





<h1 id="區間型-DP"><a href="#區間型-DP" class="headerlink" title="區間型 DP"></a>區間型 DP</h1><p>涉及去頭和去尾，從原來的開始到結尾的，<strong>子區間</strong>!</p>
<img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gjkcs1qh0uj30uy0aqdjr.jpg" alt="image-20201010171222572" style="zoom:33%;" />

<h3 id="667-Longest-Palindromic-Subsequence"><a href="#667-Longest-Palindromic-Subsequence" class="headerlink" title="667  Longest Palindromic Subsequence"></a>667  Longest Palindromic Subsequence</h3><img src="/Users/joe/Library/Application Support/typora-user-images/image-20201010171334109.png" alt="image-20201010171334109" style="zoom:33%;" />

<h4 id="1-確定狀態"><a href="#1-確定狀態" class="headerlink" title="1 確定狀態"></a>1 確定狀態</h4><h4 id="Coding-1"><a href="#Coding-1" class="headerlink" title="Coding!"></a>Coding!</h4><img src="/Users/joe/Library/Application Support/typora-user-images/image-20201010235905861.png" alt="image-20201010235905861" style="zoom: 67%;" />



<h4 id="記憶化蒐搜"><a href="#記憶化蒐搜" class="headerlink" title="記憶化蒐搜"></a>記憶化蒐搜</h4><ul>
<li>動態規劃編程的另一個選擇，不算是一種新的算法，就只是一種「寫法」</li>
<li>之前的dp 一般叫作<strong>遞推 –  Recurrence</strong>, 從簡單開始，逐漸變複雜 – <strong>自下而上</strong>，總之，遞推本身就是從最簡單的情況，推到最複雜的情況。跟求問題的順序是反過來的，我要的就是f(100)，你給我從0開始推；</li>
<li>反之，記憶化蒐索是去找 f(99) – 是<strong>自上而下的過程</strong><ul>
<li>無法用滾動arr作空間優化</li>
</ul>
</li>
<li><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gjkoq8j8nzj311o0i4qdf.jpg" alt="image-20201011000548070" style="zoom:50%;" />



</li>
</ul>
<h5 id="Coding-2"><a href="#Coding-2" class="headerlink" title="Coding!"></a>Coding!</h5><img src="/Users/joe/Library/Application Support/typora-user-images/image-20201011001309274.png" alt="image-20201011001309274" style="zoom: 67%;" />



<img src="/Users/joe/Library/Application Support/typora-user-images/image-20201011001405561.png" alt="image-20201011001405561" style="zoom: 67%;" />

<h6 id="複雜度分析"><a href="#複雜度分析" class="headerlink" title="複雜度分析"></a>複雜度分析</h6><img src="/Users/joe/Library/Application Support/typora-user-images/image-20201011001606302.png" alt="image-20201011001606302" style="zoom:67%;" />



<h6 id="注意三項"><a href="#注意三項" class="headerlink" title="注意三項"></a>注意三項</h6><ol>
<li>初始化 @ L51</li>
<li>入口 return @ 15</li>
<li>先算遞歸 @ 31~33</li>
</ol>
<img src="/Users/joe/Library/Application Support/typora-user-images/image-20201011001933744.png" alt="image-20201011001933744" style="zoom: 67%;" />





<h3 id="396-Coins-In-A-Line-III-–-區間-博奕"><a href="#396-Coins-In-A-Line-III-–-區間-博奕" class="headerlink" title="396 Coins In A Line III – 區間 + 博奕"></a>396 Coins In A Line III – 區間 + 博奕</h3><img src="/Users/joe/Library/Application Support/typora-user-images/image-20201011002023215.png" alt="image-20201011002023215" style="zoom:33%;" />



<ul>
<li>有兩個數字和 –&gt; 都不用記，只要記「差」</li>
<li>哪句話看出「區間型」? 如何判斷出?<ul>
<li>==&gt; 每次只能取第一個數或最後一個數!</li>
<li>如果是任取，就不會是區間</li>
</ul>
</li>
</ul>
<h4 id="1-確定狀態-1"><a href="#1-確定狀態-1" class="headerlink" title="1 確定狀態"></a>1 確定狀態</h4><img src="/Users/joe/Library/Application Support/typora-user-images/image-20201011004400903.png" alt="image-20201011004400903" style="zoom:33%;" />

<ul>
<li>Sy、Sy’ 又怎麼知道是多少呢？ –&gt; 這不就是原來面對的「子區間」的一個最大的得分嘛!!<img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gjkpwji8q1j310y0ew0y4.jpg" alt="image-20201011004627784" style="zoom: 33%;" />



</li>
</ul>
<h4 id="2-轉移方程-2"><a href="#2-轉移方程-2" class="headerlink" title="2 轉移方程"></a>2 轉移方程</h4><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gjkpxncua6j310y0c448u.jpg" alt="image-20201011004731716" style="zoom:50%;" />



<h4 id="Coding-3"><a href="#Coding-3" class="headerlink" title="Coding!"></a>Coding!</h4><ul>
<li>融合了區間 + 博奕的時候有兩步可以走，到底走哪一步，取max</li>
<li>本來有兩個數字和，我都不用記，就取「差」</li>
<li>最後最關鍵的是「相對的數字差」而不是絕對的數值</li>
</ul>
<img src="/Users/joe/Library/Application Support/typora-user-images/image-20201011003319755.png" alt="image-20201011003319755" style="zoom: 67%;" />



<h3 id="430-Scramble-String"><a href="#430-Scramble-String" class="headerlink" title="430 Scramble String"></a>430 Scramble String</h3><ul>
<li>劈成兩半、再來就是交換</li>
<li>dfs 天文數字，但至少可做<img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gjl3vpfm7ej31140h0k10.jpg" alt="image-20201011085001859" style="zoom:50%;" />

</li>
</ul>
<h4 id="1-確定狀態-2"><a href="#1-確定狀態-2" class="headerlink" title="1 確定狀態"></a>1 確定狀態</h4><ul>
<li>枚舉S<ul>
<li>在什麼地方砍</li>
<li>是不是交換兒子</li>
<li>S、T不過都是原來的子區間</li>
</ul>
</li>
</ul>
<h5 id="子問題"><a href="#子問題" class="headerlink" title="子問題"></a>子問題</h5><img src="/Users/joe/Library/Application Support/typora-user-images/image-20201011085609763.png" alt="image-20201011085609763" style="zoom:50%;" />

<h6 id="代數法降維"><a href="#代數法降維" class="headerlink" title="代數法降維"></a>代數法降維</h6><ol>
<li><p>1有等號</p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gjl43sffhij30vi0giqaz.jpg" alt="image-20201011085749889"></p>
</li>
</ol>
<h4 id="2-轉移方程-3"><a href="#2-轉移方程-3" class="headerlink" title="2 轉移方程"></a>2 轉移方程</h4><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gjl4b6bn19j310w0i0qbo.jpg" alt="image-20201011090455094" style="zoom:50%;" />



<h4 id="4-計算順序"><a href="#4-計算順序" class="headerlink" title="4 計算順序"></a>4 計算順序</h4><h6 id="不可滾動數組，因為可能用到之前所有的"><a href="#不可滾動數組，因為可能用到之前所有的" class="headerlink" title="不可滾動數組，因為可能用到之前所有的"></a>不可滾動數組，因為可能用到之前所有的</h6><h4 id="Coding-4"><a href="#Coding-4" class="headerlink" title="Coding!"></a>Coding!</h4><img src="/Users/joe/Library/Application Support/typora-user-images/image-20201011091502028.png" alt="image-20201011091502028" style="zoom: 67%;" />



<img src="/Users/joe/Library/Application Support/typora-user-images/image-20201011091559104.png" alt="image-20201011091559104" style="zoom: 67%;" />

<ul>
<li>14行應該要是 bolean</li>
</ul>
<h4 id="記憶化搜索"><a href="#記憶化搜索" class="headerlink" title="記憶化搜索"></a>記憶化搜索</h4><img src="/Users/joe/Library/Application Support/typora-user-images/image-20201011092308508.png" alt="image-20201011092308508" style="zoom: 67%;" />



<img src="/Users/joe/Library/Application Support/typora-user-images/image-20201011092440733.png" alt="image-20201011092440733" style="zoom:67%;" />



<h3 id="168-Burst-Balloons"><a href="#168-Burst-Balloons" class="headerlink" title="168 Burst Balloons"></a>168 Burst Balloons</h3><h4 id="消去型題-–-千萬不要順著題目做"><a href="#消去型題-–-千萬不要順著題目做" class="headerlink" title="消去型題 – 千萬不要順著題目做!!"></a>消去型題 – 千萬不要順著題目做!!</h4><ul>
<li>因为去掉東西，還得保存序列中，誰跟誰相鄰，千萬動規是不能紀錄狀態的；一定要「倒著想」</li>
<li>除非 dfs 硬上，但很慢</li>
<li>在這些氣球被弄破前，a2也是像一堵牆，它的左右邊也都是獨立的 –&gt; 可被各個擊破</li>
<li>矩陣相乘也是一樣的思想!</li>
</ul>
<img src="/Users/joe/Library/Application Support/typora-user-images/image-20201011203603173.png" alt="image-20201011203603173" style="zoom:67%;" />





<h4 id="1-確定狀態-3"><a href="#1-確定狀態-3" class="headerlink" title="1 確定狀態"></a>1 確定狀態</h4><h5 id="最後一步"><a href="#最後一步" class="headerlink" title="最後一步"></a>最後一步</h5><h6 id="的左邊"><a href="#的左邊" class="headerlink" title="的左邊"></a>的左邊</h6><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gjlomonucqj30pu0fgtei.jpg" alt="image-20201011204756120" style="zoom:33%;" />

<h5 id="子問題-1"><a href="#子問題-1" class="headerlink" title="子問題"></a>子問題</h5><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gjloqa0l9gj313u0d6teg.jpg" alt="image-20201011205123231" style="zoom:50%;" />

<ul>
<li>因為邊邊一定有兩個不能扎破的</li>
</ul>
<p>★ <strong>观察最后被扎破的气球! 分为左右两个区间</strong></p>
<img src="/Users/joe/Library/Application Support/typora-user-images/image-20201017214503994.png" alt="image-20201017214503994" style="zoom:50%;" />

<ul>
<li>這個表示扎破 1 ~ k-1 號氣球，所獲得的金幣數!</li>
</ul>
<p>★ ★ 要枚舉</p>
<h4 id="2-轉移方程-4"><a href="#2-轉移方程-4" class="headerlink" title="2 轉移方程"></a>2 轉移方程</h4><ul>
<li>要枚舉 k = 「中間那個氣球」，i和j不能扎破，枚舉中間所有的k</li>
</ul>
<h4 id="3-初始條件和邊界"><a href="#3-初始條件和邊界" class="headerlink" title="3 初始條件和邊界"></a>3 初始條件和邊界</h4><h5 id="初始-–-i-amp-j-相鄰時為0"><a href="#初始-–-i-amp-j-相鄰時為0" class="headerlink" title="初始 – i &amp; j 相鄰時為0"></a>初始 – i &amp; j 相鄰時為0</h5><p>i ~ j, 長度是 j - i + 1</p>
<img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gjloxse48gj30so0bkq69.jpg" alt="image-20201011205837377" style="zoom: 33%;" />

<ul>
<li>有了狀態轉移方程這個後，還要去枚舉「到底最後一個扎破的氣球，是 i+1 到 j-1中的哪一個?」，所以呢就要枚舉這個k<ul>
<li>i_k就是左區間；k_j就是右區間；當輪到 a_k被扎破時，他的左邊一定是 a_i，右邊一定是a_j，然後就把三個人乘一起來</li>
</ul>
</li>
</ul>
<h4 id="4-計算順序-1"><a href="#4-計算順序-1" class="headerlink" title="4 計算順序"></a>4 計算順序</h4><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gjloz99pmsj30ra0hk796.jpg" alt="image-20201011210003587" style="zoom:33%;" />



<h4 id="Coding-5"><a href="#Coding-5" class="headerlink" title="Coding!"></a>Coding!</h4><img src="/Users/joe/Library/Application Support/typora-user-images/image-20201011211559261.png" alt="image-20201011211559261" style="zoom: 67%;" />

<ul>
<li><p>22 行，需要加上 ↓, or RE</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[][] f = <span class="keyword">new</span> <span class="keyword">int</span>[n][n];</span><br></pre></td></tr></table></figure>




</li>
</ul>
<h4 id="1694-Monster-Hunter"><a href="#1694-Monster-Hunter" class="headerlink" title="1694 Monster Hunter"></a>1694 Monster Hunter</h4><h2 id="總結"><a href="#總結" class="headerlink" title="總結"></a>總結</h2><h3 id="背包型收尾了"><a href="#背包型收尾了" class="headerlink" title="背包型收尾了"></a>背包型收尾了</h3><ul>
<li>物品重量、價值</li>
<li>狀態用物品個數和當前重量<ul>
<li>狀態必用當前重量，除了 Backpak VI</li>
</ul>
</li>
<li>單個物品，∞多物品</li>
</ul>
<h3 id="區間型"><a href="#區間型" class="headerlink" title="區間型"></a>區間型</h3><ul>
<li>用左右端點 : f_i_j</li>
<li>記憶化搜索</li>
</ul>
<h3 id="矩陣乘法動態規劃"><a href="#矩陣乘法動態規劃" class="headerlink" title="矩陣乘法動態規劃"></a>矩陣乘法動態規劃</h3></div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">Joe Huang</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="http://yoursite.com/2019/10/10/DP%20Ult./DP-5-%E8%83%8C%E5%8C%85%E5%9E%8B%E3%80%81%E5%8D%80%E9%96%93%E5%9E%8B%20DP/">http://yoursite.com/2019/10/10/DP%20Ult./DP-5-%E8%83%8C%E5%8C%85%E5%9E%8B%E3%80%81%E5%8D%80%E9%96%93%E5%9E%8B%20DP/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="post-meta__tag-list"></div><nav id="pagination"><div class="prev-post pull-left"><a href="/2019/10/11/LC/2019-10-11-LC%203Sums/"><i class="fa fa-chevron-left">  </i><span>LC/2019-10-11-LC 3Sums</span></a></div><div class="next-post pull-right"><a href="/2019/10/10/Design-Patterns/2019-10-10-Design%20Patterns%20-%20Decoration,%20Bridge/"><span>Design-Patterns/2019-10-10-Design Patterns - Decoration, Bridge</span><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2013 - 2020 By Joe Huang</div><div class="framework-info"><span>Driven - </span><a href="http://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody" target="_blank" rel="noopener"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file-o"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.6.1"></script><script src="/js/fancybox.js?version=1.6.1"></script><script src="/js/sidebar.js?version=1.6.1"></script><script src="/js/copy.js?version=1.6.1"></script><script src="/js/fireworks.js?version=1.6.1"></script><script src="/js/transition.js?version=1.6.1"></script><script src="/js/scroll.js?version=1.6.1"></script><script src="/js/head.js?version=1.6.1"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script></body></html>