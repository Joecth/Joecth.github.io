<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="Algo. Ult./seminar_1"><meta name="keywords" content=""><meta name="author" content="Joe Huang"><meta name="copyright" content="Joe Huang"><title>Algo. Ult./seminar_1 | Awaken Desparado</title><link rel="shortcut icon" href="/melody-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.6.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.6.1"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://www.google-analytics.com"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-180692466-1', 'auto');
ga('send', 'pageview');</script><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  }
} </script><meta name="generator" content="Hexo 4.1.1"></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="toggle-sidebar-info text-center"><span data-toggle="Toggle article">Toggle site</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#暴力-1835-1827-停在原地的方案數"><span class="toc-number">1.</span> <span class="toc-text">暴力: 1835, 1827 停在原地的方案數</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1835-停在原地的方案數-I"><span class="toc-number">2.</span> <span class="toc-text">1835 停在原地的方案數 I</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#156-合併區間"><span class="toc-number">3.</span> <span class="toc-text">156 合併區間</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1879-兩數之和"><span class="toc-number">4.</span> <span class="toc-text">1879 兩數之和</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1563-目的地的最短路徑"><span class="toc-number">5.</span> <span class="toc-text">1563 目的地的最短路徑</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1833-pen-box-—-56-兩數之和-151-Stock-III"><span class="toc-number">6.</span> <span class="toc-text">1833 pen box  — 56 兩數之和 + 151 Stock III</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#數據範圍思考"><span class="toc-number"></span> <span class="toc-text">數據範圍思考</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#单选题-一般评测机1s能运算多少次"><span class="toc-number">0.0.0.1.</span> <span class="toc-text">[单选题]一般评测机1s能运算多少次</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#单选题-如果一个数组长为10-5，那么以下哪种算法一定会超时？"><span class="toc-number">0.0.0.2.</span> <span class="toc-text">[单选题]如果一个数组长为10^5，那么以下哪种算法一定会超时？</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Analyzation"><span class="toc-number">1.</span> <span class="toc-text">Analyzation</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#159-尋找旋轉排序數中的最小值-無重複值"><span class="toc-number">2.</span> <span class="toc-text">159. 尋找旋轉排序數中的最小值 - 無重複值</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#183-木材加工"><span class="toc-number">3.</span> <span class="toc-text">183. 木材加工</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#62-搜索旋转排序数组"><span class="toc-number">4.</span> <span class="toc-text">62. 搜索旋转排序数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#437-書籍複印"><span class="toc-number">5.</span> <span class="toc-text">437. 書籍複印</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#949-Fibo-II"><span class="toc-number">6.</span> <span class="toc-text">949. Fibo II</span></a></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="/img/avatar.png"></div><div class="author-info__name text-center">Joe Huang</div><div class="author-info__description text-center"></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">306</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">Tags</span><span class="pull-right">25</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">Categories</span><span class="pull-right">47</span></a></div></div></div><div id="content-outer"><div class="no-bg" id="top-container"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">Awaken Desparado</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a></span><span class="pull-right"></span></div><div id="post-info"><div id="post-title">Algo. Ult./seminar_1</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-05-23</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/AlgoUlt/">AlgoUlt.</a></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><h2 id="暴力-1835-1827-停在原地的方案數"><a href="#暴力-1835-1827-停在原地的方案數" class="headerlink" title="暴力: 1835, 1827 停在原地的方案數"></a>暴力: 1835, 1827 停在原地的方案數</h2><h2 id="1835-停在原地的方案數-I"><a href="#1835-停在原地的方案數-I" class="headerlink" title="1835 停在原地的方案數 I"></a>1835 停在原地的方案數 I</h2><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gf5m5otwomj31ee0sekgd.jpg" alt="image-20200526095155742"></p>
<p>![image-20200526095237745](<a href="https://tva1.sinaimg.cn/large/007S8ZIlgy1gf5m6bmw5ij31em0sgh7a.jpg" target="_blank" rel="noopener">https://tva1.sinaimg.cn/large/007S8ZIlgy1gf5m6bmw5ij31em0sgh7a.jpg</a></p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gf5m6p6z2kj31eg0nekao.jpg" alt="image-20200526095300143"></p>
<ul>
<li><p>DFS: 指數級, O(3^steps)</p>
</li>
<li><p>DP: O(position*step); O(step^2), </p>
<ul>
<li><pre><code>dp[pos][steps]
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&#96;&#96;&#96;python</span><br><span class="line">        # write your code here</span><br><span class="line">        return self.dp_MLE(steps, arrLen)</span><br><span class="line">        return self.dp(steps, arrLen)</span><br><span class="line">    # def dfs(self, steps, arrLen):</span><br><span class="line">    </span><br><span class="line">    def dp_MLE(self, steps, arrLen):</span><br><span class="line">        n &#x3D; arrLen</span><br><span class="line">        dp &#x3D; [[0 for _ in range(n)] for _ in range(steps+1)]</span><br><span class="line">        dp[0][0] &#x3D; 1</span><br><span class="line">        M &#x3D; 10**9 + 7</span><br><span class="line">        </span><br><span class="line">        # for k in range(1, steps&#x2F;&#x2F;2+1):</span><br><span class="line">        #     for i in range(n):</span><br><span class="line">        for k in range(1, steps+1):</span><br><span class="line">            for i in range(0, n):</span><br><span class="line">                if i &#x3D;&#x3D; 0:</span><br><span class="line">                    dp[k][i] &#x3D; dp[k-1][i] + dp[k-1][i+1]</span><br><span class="line">                elif i &#x3D;&#x3D; n-1:</span><br><span class="line">                    dp[k][i] &#x3D; dp[k-1][i-1] + dp[k-1][i]</span><br><span class="line">                else:</span><br><span class="line">                    dp[k][i] &#x3D; dp[k-1][i-1] + dp[k-1][i] + dp[k-1][i+1]</span><br><span class="line">        </span><br><span class="line">            dp[k][i] %&#x3D; M</span><br><span class="line">        return dp[steps][0]        </span><br><span class="line">        </span><br><span class="line">    def dp(self, steps, arrLen):</span><br><span class="line">        # VIDEO:</span><br><span class="line">        #     https:&#x2F;&#x2F;youtu.be&#x2F;WiYfBPmhRDk?t&#x3D;895</span><br><span class="line">        </span><br><span class="line">        # dp[i][j] means @ i-th round, at j-th pos</span><br><span class="line">        # max steps &#x3D;&#x3D; 500, means</span><br><span class="line">        # dp[250][250] &#x3D; 1</span><br><span class="line">        # dp[251][249] &#x3D; dp[250][248, 249, 250]</span><br><span class="line">        # dp[252][248] &#x3D; dp[251][247, 248, 259]</span><br><span class="line">        </span><br><span class="line">        n &#x3D; arrLen</span><br><span class="line">        </span><br><span class="line">        dp &#x3D; [[0 for _ in range(steps&#x2F;&#x2F;2 + 2)] for _ in range(steps+1)]</span><br><span class="line">        dp[0][0] &#x3D; 1</span><br><span class="line">        M &#x3D; 10**9 + 7</span><br><span class="line">        </span><br><span class="line">        # for k in range(1, steps&#x2F;&#x2F;2+1):</span><br><span class="line">        #     for i in range(n):</span><br><span class="line">        for k in range(1, steps+1):</span><br><span class="line">            for i in range(0, steps&#x2F;&#x2F;2+1):</span><br><span class="line">                if i &#x3D;&#x3D; 0:</span><br><span class="line">                    dp[k][i] &#x3D; dp[k-1][i] + dp[k-1][i+1]</span><br><span class="line">                elif i &#x3D;&#x3D; n-1:</span><br><span class="line">                    dp[k][i] &#x3D; dp[k-1][i-1] + dp[k-1][i]</span><br><span class="line">                else:</span><br><span class="line">                    dp[k][i] &#x3D; dp[k-1][i-1] + dp[k-1][i] + dp[k-1][i+1]</span><br><span class="line">        </span><br><span class="line">            dp[k][i] %&#x3D; M</span><br><span class="line">        return dp[steps][0]</span><br></pre></td></tr></table></figure>


</code></pre></li>
</ul>
</li>
</ul>
<h2 id="156-合併區間"><a href="#156-合併區間" class="headerlink" title="156 合併區間"></a>156 合併區間</h2><p>只是個引子?! </p>
<ul>
<li>排序、priority queue、掃描線 skyline</li>
<li>一般start排序，只有会议室是用end排序</li>
</ul>
<h2 id="1879-兩數之和"><a href="#1879-兩數之和" class="headerlink" title="1879 兩數之和"></a>1879 兩數之和</h2><h2 id="1563-目的地的最短路徑"><a href="#1563-目的地的最短路徑" class="headerlink" title="1563 目的地的最短路徑"></a>1563 目的地的最短路徑</h2><ul>
<li>BFS: <ol>
<li>最短路徑</li>
<li>分層遍歷</li>
<li>拓樸排序 (有前置要求的遍歷)</li>
</ol>
</li>
</ul>
<ul>
<li>BFS or DFS ?!<ul>
<li>DFS: 遞歸、棧、可能 stack overflow</li>
<li>BFS: Queue</li>
</ul>
</li>
</ul>
<ul>
<li>DFS:<ol>
<li>所有方案</li>
</ol>
</li>
</ul>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gf5nq3o73mj31gs0t67g0.jpg" alt="image-20200526104615664"></p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gf5ntvcuuoj31gw0r6n7l.jpg" alt="image-20200526104952612"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MapType</span>:</span></span><br><span class="line">    ROAD = <span class="number">0</span></span><br><span class="line">    WALL = <span class="number">1</span></span><br><span class="line">    DESTINATION = <span class="number">2</span></span><br><span class="line"></span><br><span class="line">DIRECTIONS = [[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">0</span>, <span class="number">-1</span>], [<span class="number">1</span>, <span class="number">0</span>], [<span class="number">-1</span>, <span class="number">0</span>]]</span><br><span class="line"></span><br><span class="line"><span class="comment"># (x, y) ==&gt; x*i + y In Other languages</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    @param targetMap: </span></span><br><span class="line"><span class="string">    @return: nothing</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">shortestPath</span><span class="params">(self, targetMap)</span>:</span></span><br><span class="line">        <span class="comment"># Write your code here</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> targetMap: <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">        </span><br><span class="line">        Q = deque()</span><br><span class="line">        visited = set()</span><br><span class="line">        Q.append((<span class="number">0</span>, <span class="number">0</span>))</span><br><span class="line">        visited.add((<span class="number">0</span>, <span class="number">0</span>))</span><br><span class="line">        step = <span class="number">0</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span> Q:</span><br><span class="line">            <span class="keyword">for</span> _ <span class="keyword">in</span> range(len(Q)):</span><br><span class="line">                x, y = Q.popleft()</span><br><span class="line">                <span class="comment"># visited.add(next_x, next_y) # ?! V.S. Line39</span></span><br><span class="line">                <span class="comment"># [0,0]</span></span><br><span class="line">                <span class="comment"># [0,1], [1,0]</span></span><br><span class="line">                <span class="comment"># [0,2], [1,1], [2,0], [1,1]，[1,1]會被重覆放，就不是一個 O(N)了，所以必須放在下面</span></span><br><span class="line">                </span><br><span class="line">                <span class="keyword">if</span> targetMap[x][y] == MapType.DESTINATION:</span><br><span class="line">                    <span class="keyword">return</span> step</span><br><span class="line">                        </span><br><span class="line">                <span class="keyword">for</span> direction <span class="keyword">in</span> DIRECTIONS:</span><br><span class="line">                    next_x = x + direction[<span class="number">0</span>]</span><br><span class="line">                    next_y = y + direction[<span class="number">1</span>]</span><br><span class="line">                    <span class="keyword">if</span> self.is_valid(next_x, next_y, targetMap, visited):</span><br><span class="line">                        Q.append((next_x, next_y))</span><br><span class="line">                        visited.add((next_x, next_y))</span><br><span class="line">            </span><br><span class="line">            step += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">is_valid</span><span class="params">(self, x, y, targetMap, visited)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> x &lt; <span class="number">0</span> <span class="keyword">or</span> y &lt; <span class="number">0</span> <span class="keyword">or</span> x &gt;= len(targetMap) <span class="keyword">or</span> y &gt;= len(targetMap[<span class="number">0</span>]):</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">if</span> (x, y) <span class="keyword">in</span> visited:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">if</span> targetMap[x][y] == MapType.WALL:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gf5ocag5joj31260aateb.jpg" alt="image-20200526110735910"></p>
<h2 id="1833-pen-box-—-56-兩數之和-151-Stock-III"><a href="#1833-pen-box-—-56-兩數之和-151-Stock-III" class="headerlink" title="1833 pen box  — 56 兩數之和 + 151 Stock III"></a>1833 pen box  — 56 兩數之和 + 151 Stock III</h2><ul>
<li>两個不重疊的區間問題，用隔板思考, 同Stock iii</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    @param boxes: number of pens for each box</span></span><br><span class="line"><span class="string">    @param target: the target number</span></span><br><span class="line"><span class="string">    @return: the minimum boxes</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="comment"># # write your code here</span></span><br><span class="line">    <span class="comment"># # 找有效區間: 2 pointer</span></span><br><span class="line">    <span class="comment"># # 找最短有效后間: 打擂台 min_len = sys.maxsize; min_len = min(min_len, now_len)</span></span><br><span class="line">    <span class="comment"># # 枚舉隔板位置, 左半部分最短有效區間 + 右半部分最短有效區間</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># # O(N)</span></span><br><span class="line">    <span class="comment"># min_left[i]: [0:i] 前i個元素組成的list最短有效區間長度</span></span><br><span class="line">    <span class="comment"># min_right[i]: [i:n-1]第i個元素之後的list最短有效區間長度</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># # O(N) ↑結合上面那個 O(N)</span></span><br><span class="line">    <span class="comment"># min_len = sys.maxsize</span></span><br><span class="line">    <span class="comment"># for 隔板位置 in range(n):</span></span><br><span class="line">    <span class="comment">#     min_len = min(min_len, min_left[隔板位置] + min_right[隔板位置+1])</span></span><br><span class="line">        </span><br><span class="line">    <span class="comment"># i = t+1, 相較於 i=t，最短的有效區間長度變小了，代表目前這個點一定在有效區間中</span></span><br><span class="line">    <span class="comment"># min_left[t+1] = min(min_left[t], 右針在t+1的有效區間的長度)</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 一步一步移右指針</span></span><br><span class="line">    <span class="comment">#     如果區間和 &gt; target:</span></span><br><span class="line">    <span class="comment">#         左指針右移</span></span><br><span class="line">        </span><br><span class="line">    <span class="comment">#     if now_sum != target:</span></span><br><span class="line">    <span class="comment">#         left_min[right] = 之前的最短有效區間的長度</span></span><br><span class="line">        </span><br><span class="line">    <span class="comment">#     if now_sum == target:</span></span><br><span class="line">    <span class="comment">#         打擂台</span></span><br><span class="line">    <span class="comment">#         left_min[right] = min(之前的最短有效區間長度，當前區間長度)</span></span><br><span class="line">            </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minimumBoxes</span><span class="params">(self, boxes, target)</span>:</span> <span class="comment"># 前提：都正數</span></span><br><span class="line">        n = len(boxes)</span><br><span class="line">        <span class="keyword">if</span> n == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">        left_min = self.get_minimum_valid_length(boxes, target)</span><br><span class="line">        <span class="comment"># [1,2,3,4,5,6], target=5</span></span><br><span class="line">        <span class="comment"># left_min = [M,M,2,2,1]</span></span><br><span class="line">        </span><br><span class="line">        boxes = boxes[::<span class="number">-1</span>] <span class="comment"># 外面進來的 boxes 並沒有被改掉，不用擔心, 要注意會發生變化的時候或不會發生的時候</span></span><br><span class="line">        right_min = self.get_minimum_valid_length(boxes, target)</span><br><span class="line">        right_min = right_min[::<span class="number">-1</span>]</span><br><span class="line">        <span class="comment"># [6,5,4,3,2,1], target=5</span></span><br><span class="line">        <span class="comment"># right_min = [M,1,1,1,1,1,M]</span></span><br><span class="line">        <span class="comment"># [1,1,1,1,1,M]</span></span><br><span class="line">        </span><br><span class="line">        ans = sys.maxsize</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n<span class="number">-1</span>):</span><br><span class="line">            ans = min(ans, left_min[i]+right_min[i+<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">if</span> ans == sys.maxsize:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">        <span class="keyword">return</span> ans</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_minimum_valid_length</span><span class="params">(self, boxes, target)</span>:</span></span><br><span class="line">        <span class="comment"># 當前區間和</span></span><br><span class="line">        now_sum = <span class="number">0</span></span><br><span class="line">        n = len(boxes)</span><br><span class="line">        left_min = [sys.maxsize] * n</span><br><span class="line">        </span><br><span class="line">        left = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> right <span class="keyword">in</span> range(n):</span><br><span class="line">            now_sum += boxes[right]</span><br><span class="line">            <span class="keyword">while</span> now_sum &gt; target:</span><br><span class="line">                now_sum -= boxes[left]</span><br><span class="line">                left += <span class="number">1</span></span><br><span class="line">                </span><br><span class="line">            <span class="string">"""!!! 防OOR """</span> </span><br><span class="line">            <span class="keyword">if</span> right == <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">if</span> now_sum == target:</span><br><span class="line">                    left_min[right] = <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> now_sum != target:</span><br><span class="line">                left_min[right] = left_min[right - <span class="number">1</span>]</span><br><span class="line">            <span class="keyword">if</span> now_sum == target:</span><br><span class="line">                left_min[right] = min(left_min[right - <span class="number">1</span>], right - left + <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> left_min</span><br></pre></td></tr></table></figure>









<h1 id="數據範圍思考"><a href="#數據範圍思考" class="headerlink" title="數據範圍思考"></a>數據範圍思考</h1><ul>
<li>如何接水</li>
</ul>
<blockquote>
<h5 id="单选题-一般评测机1s能运算多少次"><a href="#单选题-一般评测机1s能运算多少次" class="headerlink" title="[单选题]一般评测机1s能运算多少次"></a>[单选题]一般评测机1s能运算多少次</h5><p>A.10^4-10^631.43% 选择</p>
<p>B.10^7-10^942.86% 选择</p>
<p>C.10^10-10^1225.71% 选择</p>
<p><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNTM0MTgxMjgxODM5IiBjbGFzcz0iaWNvbiIgc3R5bGU9IiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjM3NjIiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMzIiIGhlaWdodD0iMzIiPjxkZWZzPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+PC9zdHlsZT48L2RlZnM+PHBhdGggZD0iTTUxOC4xMiA1MTYuMTZtLTQ5MCAwYTQ5MCA0OTAgMCAxIDAgOTgwIDAgNDkwIDQ5MCAwIDEgMC05ODAgMFoiIGZpbGw9IiM1NkI0MzIiIHAtaWQ9IjM3NjMiPjwvcGF0aD48cGF0aCBkPSJNMzkzLjIxMzYxOSA2NjQuMzM1NDk1bTI4LjI4NDI3MS0yOC4yODQyNzFsMjk2Ljk4NDg0OS0yOTYuOTg0ODQ4cTI4LjI4NDI3MS0yOC4yODQyNzEgNTYuNTY4NTQyIDBsMCAwcTI4LjI4NDI3MSAyOC4yODQyNzEgMCA1Ni41Njg1NDJsLTI5Ni45ODQ4NDggMjk2Ljk4NDg0OHEtMjguMjg0MjcxIDI4LjI4NDI3MS01Ni41Njg1NDMgMGwwIDBxLTI4LjI4NDI3MS0yOC4yODQyNzEgMC01Ni41Njg1NDJaIiBmaWxsPSIjRkZGRkZGIiBwLWlkPSIzNzY0Ij48L3BhdGg+PHBhdGggZD0iTTI4OS40Njk4NCA0NTIuODQ3ODgzbTI4LjI4NDI3MSAyOC4yODQyNzFsMTU1LjU2MzQ5MiAxNTUuNTYzNDkycTI4LjI4NDI3MSAyOC4yODQyNzEgMCA1Ni41Njg1NDNsMCAwcS0yOC4yODQyNzEgMjguMjg0MjcxLTU2LjU2ODU0MyAwbC0xNTUuNTYzNDkxLTE1NS41NjM0OTJxLTI4LjI4NDI3MS0yOC4yODQyNzEgMC01Ni41Njg1NDNsMCAwcTI4LjI4NDI3MS0yOC4yODQyNzEgNTYuNTY4NTQyIDBaIiBmaWxsPSIjRkZGRkZGIiBwLWlkPSIzNzY1Ij48L3BhdGg+PC9zdmc+" alt="img">答对了，您选择的答案是B</p>
<p><strong>正确答案:</strong>B</p>
<p><strong>解析:</strong></p>
<p>我们一般认为如果最终的运算次数达到10^7-10^9就可能会超时，但是达到更大的如10^10-10^12次的计算次数时就可能会超时。比如n=10^3时，时间复杂度为O(n^2）复杂度的算法就一定不会超时，但是时间复杂度为O(N^3)复杂度的算法就大概率会超时。</p>
</blockquote>
<blockquote>
<h5 id="单选题-如果一个数组长为10-5，那么以下哪种算法一定会超时？"><a href="#单选题-如果一个数组长为10-5，那么以下哪种算法一定会超时？" class="headerlink" title="[单选题]如果一个数组长为10^5，那么以下哪种算法一定会超时？"></a>[单选题]如果一个数组长为10^5，那么以下哪种算法一定会超时？</h5><p>A.双指针0.00% 选择    N</p>
<p>B.前缀和2.33% 选择    N</p>
<p>C.一维dp13.95% 选择    N</p>
<p>D.枚举数组中的所有子区间进行O(1)判断79.07% 选择    N^2 &gt; 10^9 必超時</p>
<p>E.在数组中二分查找n次4.65% 选择    NlogN</p>
<p>F.这都是些啥算法qaq0.00% 选择</p>
<p><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNTM0MTgxMjgxODM5IiBjbGFzcz0iaWNvbiIgc3R5bGU9IiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjM3NjIiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMzIiIGhlaWdodD0iMzIiPjxkZWZzPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+PC9zdHlsZT48L2RlZnM+PHBhdGggZD0iTTUxOC4xMiA1MTYuMTZtLTQ5MCAwYTQ5MCA0OTAgMCAxIDAgOTgwIDAgNDkwIDQ5MCAwIDEgMC05ODAgMFoiIGZpbGw9IiM1NkI0MzIiIHAtaWQ9IjM3NjMiPjwvcGF0aD48cGF0aCBkPSJNMzkzLjIxMzYxOSA2NjQuMzM1NDk1bTI4LjI4NDI3MS0yOC4yODQyNzFsMjk2Ljk4NDg0OS0yOTYuOTg0ODQ4cTI4LjI4NDI3MS0yOC4yODQyNzEgNTYuNTY4NTQyIDBsMCAwcTI4LjI4NDI3MSAyOC4yODQyNzEgMCA1Ni41Njg1NDJsLTI5Ni45ODQ4NDggMjk2Ljk4NDg0OHEtMjguMjg0MjcxIDI4LjI4NDI3MS01Ni41Njg1NDMgMGwwIDBxLTI4LjI4NDI3MS0yOC4yODQyNzEgMC01Ni41Njg1NDJaIiBmaWxsPSIjRkZGRkZGIiBwLWlkPSIzNzY0Ij48L3BhdGg+PHBhdGggZD0iTTI4OS40Njk4NCA0NTIuODQ3ODgzbTI4LjI4NDI3MSAyOC4yODQyNzFsMTU1LjU2MzQ5MiAxNTUuNTYzNDkycTI4LjI4NDI3MSAyOC4yODQyNzEgMCA1Ni41Njg1NDNsMCAwcS0yOC4yODQyNzEgMjguMjg0MjcxLTU2LjU2ODU0MyAwbC0xNTUuNTYzNDkxLTE1NS41NjM0OTJxLTI4LjI4NDI3MS0yOC4yODQyNzEgMC01Ni41Njg1NDNsMCAwcTI4LjI4NDI3MS0yOC4yODQyNzEgNTYuNTY4NTQyIDBaIiBmaWxsPSIjRkZGRkZGIiBwLWlkPSIzNzY1Ij48L3BhdGg+PC9zdmc+" alt="img">答对了，您选择的答案是D</p>
<p><strong>正确答案:</strong>D</p>
<p><strong>解析:</strong></p>
<p>数组中的子区间个数为O(N^2)级别，因此，即使判断的时间复杂度为O(1), 总时间复杂度仍然是O(N^2). 而10^10以上级别的时间对于评测机来说需要运行的时间非常长，一定会超出时间限制。</p>
</blockquote>
<h2 id="Analyzation"><a href="#Analyzation" class="headerlink" title="Analyzation"></a>Analyzation</h2><ul>
<li>n = 10^4 、 10^5<ul>
<li>O(n) ==&gt; 雙指針？前綴和？遍歷？DP?</li>
<li>O(nlogn) ==&gt; 排序？二分？</li>
</ul>
</li>
<li>n = 10^3<ul>
<li>O(n^2) ==&gt; 二維數組？雙重循環？二維dp?</li>
</ul>
</li>
<li>n = 10^2<ul>
<li>O(n^3) ==&gt; 三重循環？e.g. Stone game 區間DP</li>
</ul>
</li>
<li>n = 10<ul>
<li>O(2^n), O(n!) ==&gt; dfs暴力？    2^n ~= 10^3, 10^6</li>
</ul>
</li>
<li>n = 10^9<ul>
<li>別打算開數組存或 O(n) 複雜度</li>
</ul>
</li>
</ul>
<h2 id="159-尋找旋轉排序數中的最小值-無重複值"><a href="#159-尋找旋轉排序數中的最小值-無重複值" class="headerlink" title="159. 尋找旋轉排序數中的最小值 - 無重複值"></a>159. 尋找旋轉排序數中的最小值 - 無重複值</h2><h2 id="183-木材加工"><a href="#183-木材加工" class="headerlink" title="183. 木材加工"></a>183. 木材加工</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    @param L: Given n pieces of wood with length L[i]</span></span><br><span class="line"><span class="string">    @param k: An integer</span></span><br><span class="line"><span class="string">    @return: The maximum length of the small pieces</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">woodCut</span><span class="params">(self, L, k)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> L: </span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        <span class="comment"># start, end = max(L), sum(L)</span></span><br><span class="line">        start, end = <span class="number">1</span>, max(L)</span><br><span class="line">        <span class="keyword">while</span> start+<span class="number">1</span> &lt; end:</span><br><span class="line">            mid = start + (end - start)//<span class="number">2</span></span><br><span class="line">            <span class="keyword">if</span> self.get_pieces(L, mid) &lt; k:</span><br><span class="line">                end = mid</span><br><span class="line">            <span class="keyword">else</span>:   <span class="comment"># 表示可以切出k段，就加長再試試</span></span><br><span class="line">                start = mid</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> self.get_pieces(L, end) &gt;= k:</span><br><span class="line">            <span class="keyword">return</span> end</span><br><span class="line">        <span class="keyword">if</span> self.get_pieces(L, start) &gt;= k:</span><br><span class="line">            <span class="keyword">return</span> start</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_pieces</span><span class="params">(self, L, length)</span>:</span></span><br><span class="line">        count = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(L)):</span><br><span class="line">            count += L[i]//length</span><br><span class="line">        <span class="keyword">return</span> count</span><br><span class="line">            </span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">    <span class="comment">#     if not L:</span></span><br><span class="line">    <span class="comment">#         return 0</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#     start, end = 1, max(L)</span></span><br><span class="line">    <span class="comment">#     while start + 1 &lt; end:</span></span><br><span class="line">    <span class="comment">#         mid = (start + end) // 2</span></span><br><span class="line">    <span class="comment">#         if self.get_pieces(L, mid) &gt;= k:</span></span><br><span class="line">    <span class="comment">#             start = mid</span></span><br><span class="line">    <span class="comment">#         else:</span></span><br><span class="line">    <span class="comment">#             end = mid</span></span><br><span class="line">                </span><br><span class="line">    <span class="comment">#     if self.get_pieces(L, end) &gt;= k:</span></span><br><span class="line">    <span class="comment">#         return end</span></span><br><span class="line">    <span class="comment">#     if self.get_pieces(L, start) &gt;= k:</span></span><br><span class="line">    <span class="comment">#         return start</span></span><br><span class="line">            </span><br><span class="line">    <span class="comment">#     return 0</span></span><br><span class="line">        </span><br><span class="line">    <span class="comment"># def get_pieces(self, L, length):</span></span><br><span class="line">    <span class="comment">#     pieces = 0</span></span><br><span class="line">    <span class="comment">#     for l in L:</span></span><br><span class="line">    <span class="comment">#         pieces += l // length</span></span><br><span class="line">    <span class="comment">#     return pieces</span></span><br></pre></td></tr></table></figure>



<h2 id="62-搜索旋转排序数组"><a href="#62-搜索旋转排序数组" class="headerlink" title="62. 搜索旋转排序数组"></a>62. 搜索旋转排序数组</h2><h2 id="437-書籍複印"><a href="#437-書籍複印" class="headerlink" title="437. 書籍複印"></a>437. 書籍複印</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    @param pages: an array of integers</span></span><br><span class="line"><span class="string">    @param k: An integer</span></span><br><span class="line"><span class="string">    @return: an integer</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">copyBooks</span><span class="params">(self, pages, k)</span>:</span></span><br><span class="line">        <span class="comment"># return self.copyBooks_old(pages, k)</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> pages:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        <span class="comment"># 使用九章算法强化班中讲过的基于答案值域的二分法。 答案的范围在 max(pages)~sum(pages) 之间，每次二分到一个时间 time_limit 的时候，用贪心法从左到右扫描一下 pages，看看需要多少个人来完成抄袭。 如果这个值 &lt;= k，那么意味着大家花的时间可能可以再少一些，如果 &gt; k 则意味着人数不够，需要降低工作量。</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># mins</span></span><br><span class="line">        start, end = max(pages), sum(pages)</span><br><span class="line">        <span class="keyword">while</span> start + <span class="number">1</span> &lt; end:</span><br><span class="line">            mid = start + (end - start)//<span class="number">2</span></span><br><span class="line">            <span class="keyword">if</span> self.get_min_required_people(pages, mid) &lt;= k:</span><br><span class="line">                <span class="comment"># 人手夠的情況，時間可以再短一點</span></span><br><span class="line">                end = mid</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="comment"># 人手不夠的情況，時間給得再多一點</span></span><br><span class="line">                start = mid</span><br><span class="line">                </span><br><span class="line">        <span class="comment"># print(start, end)</span></span><br><span class="line">        <span class="keyword">if</span> self.get_min_required_people(pages, start) &lt;= k:</span><br><span class="line">            <span class="keyword">return</span> start</span><br><span class="line">        <span class="comment"># if self.get_min_required_people(pages, end) &lt;= k:</span></span><br><span class="line">        <span class="keyword">return</span> end</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_min_required_people</span><span class="params">(self, pages, time_limit)</span>:</span></span><br><span class="line">        people = <span class="number">1</span></span><br><span class="line">        time = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(pages)):</span><br><span class="line">            time += pages[i]</span><br><span class="line">            <span class="keyword">if</span> time &gt; time_limit:</span><br><span class="line">                <span class="comment"># print(pages[i])</span></span><br><span class="line">                people += <span class="number">1</span></span><br><span class="line">                time = pages[i] <span class="comment"># CRITICAL!!!</span></span><br><span class="line">                </span><br><span class="line">        <span class="comment"># print(people)</span></span><br><span class="line">        <span class="keyword">return</span> people</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">copyBooks_old</span><span class="params">(self, pages, k)</span>:</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> pages:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">            </span><br><span class="line">        start, end = max(pages), sum(pages)</span><br><span class="line">        <span class="keyword">while</span> start + <span class="number">1</span> &lt; end:</span><br><span class="line">            print(start, end)</span><br><span class="line">            mid = (start + end) // <span class="number">2</span></span><br><span class="line">            <span class="keyword">if</span> self.get_least_people(pages, mid) &lt;= k:</span><br><span class="line">                end = mid</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                start = mid</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> self.get_least_people(pages, start) &lt;= k:</span><br><span class="line">            <span class="keyword">return</span> start</span><br><span class="line">            </span><br><span class="line">        <span class="keyword">return</span> end</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_least_people</span><span class="params">(self, pages, time_limit)</span>:</span></span><br><span class="line">        count = <span class="number">0</span></span><br><span class="line">        time_cost = <span class="number">0</span> </span><br><span class="line">        <span class="keyword">for</span> page <span class="keyword">in</span> pages:</span><br><span class="line">            <span class="keyword">if</span> time_cost + page &gt; time_limit:</span><br><span class="line">                count += <span class="number">1</span></span><br><span class="line">                time_cost = <span class="number">0</span></span><br><span class="line">            time_cost += page</span><br><span class="line">        print(count+<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> count + <span class="number">1</span></span><br></pre></td></tr></table></figure>



<h2 id="949-Fibo-II"><a href="#949-Fibo-II" class="headerlink" title="949. Fibo II"></a>949. Fibo II</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># import numpy as np </span></span><br><span class="line"><span class="keyword">from</span> copy <span class="keyword">import</span> deepcopy</span><br><span class="line">MOD = <span class="number">10000</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Matrix</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, n, m)</span>:</span></span><br><span class="line">        self.mat = [[<span class="number">0</span> <span class="keyword">for</span> j <span class="keyword">in</span> range(m)] <span class="keyword">for</span> i <span class="keyword">in</span> range(n)]</span><br><span class="line">        self.n = n</span><br><span class="line">        self.m = m </span><br><span class="line"></span><br><span class="line">    <span class="comment"># A * B  ==&gt; A.__mul__(B)  n*m (x) m*k </span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__mul__</span><span class="params">(self, matrix)</span>:</span></span><br><span class="line">        k = len(matrix.mat[<span class="number">0</span>])</span><br><span class="line">        tmp = Matrix(self.n, k)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(self.n):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(k):</span><br><span class="line">                <span class="keyword">for</span> t <span class="keyword">in</span> range(self.n):</span><br><span class="line">                    tmp.mat[i][j] += self.mat[i][t] * matrix.mat[t][j]</span><br><span class="line">                    tmp.mat[i][j] %= MOD </span><br><span class="line">        <span class="keyword">return</span> tmp</span><br><span class="line">        </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    @param n: an integer</span></span><br><span class="line"><span class="string">    @return: return an int</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">lastFourDigitsOfFn</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        <span class="comment"># write your code here</span></span><br><span class="line">        <span class="keyword">if</span> n == <span class="number">0</span>: </span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        <span class="comment"># return self.O_N(n)</span></span><br><span class="line">        <span class="comment"># return self.O_logN(n)</span></span><br><span class="line">        <span class="keyword">return</span> self.O_logN_tmpl(n)</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">power</span><span class="params">(self, A, k)</span>:</span>	<span class="comment"># FAST POW</span></span><br><span class="line">        n = len(A.mat)</span><br><span class="line">        ans = Matrix(n, n)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">            ans.mat[i][i] = <span class="number">1</span> </span><br><span class="line">        <span class="keyword">while</span> k &gt; <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">if</span> k %  <span class="number">2</span> == <span class="number">1</span>:</span><br><span class="line">                ans = A * ans </span><br><span class="line">            A = A * A</span><br><span class="line">            k //= <span class="number">2</span> </span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> ans    </span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">O_logN_tmpl</span><span class="params">(self, n)</span>:</span>    </span><br><span class="line">        <span class="keyword">if</span> n == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">            </span><br><span class="line">        A = Matrix(<span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line">        A.mat = [[<span class="number">1</span>, <span class="number">1</span>], [<span class="number">1</span>, <span class="number">0</span>]]</span><br><span class="line">        A = self.power(A, n<span class="number">-1</span>)</span><br><span class="line">        </span><br><span class="line">        x = Matrix(<span class="number">2</span>, <span class="number">1</span>)</span><br><span class="line">        x.mat = [[<span class="number">1</span>], [<span class="number">0</span>]]</span><br><span class="line">        </span><br><span class="line">        ans = A * x</span><br><span class="line">        <span class="keyword">return</span> ans.mat[<span class="number">0</span>][<span class="number">0</span>]</span><br><span class="line">            </span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">O_logN</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        # T = np.array([</span></span><br><span class="line"><span class="string">        #         [1, 1], </span></span><br><span class="line"><span class="string">        #         [1, 0]</span></span><br><span class="line"><span class="string">        #     ])</span></span><br><span class="line"><span class="string">        # X = T.copy()</span></span><br><span class="line"><span class="string">        </span></span><br><span class="line"><span class="string">        # for i in range(n):</span></span><br><span class="line"><span class="string">        #     X = np.dot(T, X)</span></span><br><span class="line"><span class="string">        # for i in range(1, n):     # Should do this D&amp;C</span></span><br><span class="line"><span class="string">            # X = dot2x2(T, X)</span></span><br><span class="line"><span class="string">        # return X[0][1]%10000</span></span><br><span class="line"><span class="string">        # https://www.youtube.com/watch?v=PJT0oqZqixU        </span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dot2x2</span><span class="params">(A, B)</span>:</span></span><br><span class="line">            <span class="comment"># m, n, k = len(A), len(A[0]), len(B[0])</span></span><br><span class="line">            C = [[<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(<span class="number">2</span>)] <span class="keyword">for</span> _ <span class="keyword">in</span> range(<span class="number">2</span>)]</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>):</span><br><span class="line">                <span class="keyword">for</span> t <span class="keyword">in</span> range(<span class="number">2</span>):</span><br><span class="line">                    <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">2</span>):</span><br><span class="line">                        C[i][t] += A[i][j] * B[j][t] % <span class="number">10000</span></span><br><span class="line">            <span class="comment"># C[0][0] = A[0][0] * B[0][0] + A[0][1] * B[1][0]</span></span><br><span class="line">            <span class="comment"># C[0][1] = A[0][0] * B[0][1] + A[0][1] * B[1][1]</span></span><br><span class="line">            <span class="comment"># C[1][0] = A[1][0] * B[0][0] + A[1][1] * B[1][0]</span></span><br><span class="line">            <span class="comment"># C[1][1] = A[1][0] * B[0][1] + A[1][1] * B[1][1]</span></span><br><span class="line">            <span class="keyword">return</span> C</span><br><span class="line">            </span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">helper</span><span class="params">(T, n)</span>:</span></span><br><span class="line">            <span class="keyword">if</span> n &lt;= <span class="number">1</span>:</span><br><span class="line">                <span class="keyword">return</span> T</span><br><span class="line">            X = helper(T, n//<span class="number">2</span>)</span><br><span class="line">            tmp = dot2x2(X, X)</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> n % <span class="number">2</span> == <span class="number">1</span>:</span><br><span class="line">                Y = [[<span class="number">1</span>, <span class="number">1</span>], </span><br><span class="line">                     [<span class="number">1</span>, <span class="number">0</span>]]</span><br><span class="line">                <span class="keyword">return</span> dot2x2(tmp, Y)</span><br><span class="line">            <span class="keyword">return</span> tmp</span><br><span class="line">            </span><br><span class="line">        T = [[<span class="number">1</span>, <span class="number">1</span>], </span><br><span class="line">             [<span class="number">1</span>, <span class="number">0</span>]]</span><br><span class="line">        RES = helper(T, n)</span><br><span class="line">        <span class="comment"># print(RES)</span></span><br><span class="line">        <span class="keyword">return</span> RES[<span class="number">0</span>][<span class="number">1</span>] % <span class="number">10000</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">O_N</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> n &lt;= <span class="number">1</span>: </span><br><span class="line">            <span class="keyword">return</span> n</span><br><span class="line">            </span><br><span class="line">        f0 = <span class="number">0</span></span><br><span class="line">        f1 = <span class="number">1</span></span><br><span class="line">        ans = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>, n+<span class="number">1</span>):</span><br><span class="line">            ans = f0 + f1</span><br><span class="line">            f0 = f1</span><br><span class="line">            f1 = ans</span><br><span class="line">        <span class="keyword">return</span> ans % <span class="number">10000</span></span><br></pre></td></tr></table></figure>

</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">Joe Huang</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="http://yoursite.com/2019/05/23/Algo.%20Ult./seminar_1/">http://yoursite.com/2019/05/23/Algo.%20Ult./seminar_1/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="post-meta__tag-list"></div><nav id="pagination"><div class="prev-post pull-left"><a href="/2019/05/30/Algo.%20Ult./seminar_2%20&amp;%203/"><i class="fa fa-chevron-left">  </i><span>Algo. Ult./seminar_2 &amp; 3</span></a></div><div class="next-post pull-right"><a href="/2019/05/23/OOD/2019-05-23-OOD%20for%20Real%20Life%20Object/"><span>OOD/2019-05-23-OOD for Real Life Object</span><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2013 - 2020 By Joe Huang</div><div class="framework-info"><span>Driven - </span><a href="http://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody" target="_blank" rel="noopener"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file-o"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.6.1"></script><script src="/js/fancybox.js?version=1.6.1"></script><script src="/js/sidebar.js?version=1.6.1"></script><script src="/js/copy.js?version=1.6.1"></script><script src="/js/fireworks.js?version=1.6.1"></script><script src="/js/transition.js?version=1.6.1"></script><script src="/js/scroll.js?version=1.6.1"></script><script src="/js/head.js?version=1.6.1"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script></body></html>